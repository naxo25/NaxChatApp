(self["webpackChunknaxchatappv3"]=self["webpackChunknaxchatappv3"]||[]).push([[736],{8785:(e,t,n)=>{"use strict";n.d(t,{Z:()=>j});var r,i,o=n(8430),a=n(2849),s=n(7429),u=n(2920),c=(r={},r["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new a.LL("app","Firebase",c),h="@firebase/app",f="0.6.30",d="@firebase/analytics",p="@firebase/app-check",v="@firebase/auth",g="@firebase/database",m="@firebase/functions",y="@firebase/installations",b="@firebase/messaging",w="@firebase/performance",_="@firebase/remote-config",T="@firebase/storage",S="@firebase/firestore",E="firebase-wrapper",I="[DEFAULT]",k=(i={},i[h]="fire-core",i[d]="fire-analytics",i[p]="fire-app-check",i[v]="fire-auth",i[g]="fire-rtdb",i[m]="fire-fn",i[y]="fire-iid",i[b]="fire-fcm",i[w]="fire-perf",i[_]="fire-rc",i[T]="fire-gcs",i[S]="fire-fst",i["fire-js"]="fire-js",i[E]="fire-js-all",i),C=new u.Yd("@firebase/app"),x=function(){function e(e,t,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=(0,a.p$)(e),this.container=new s.H0(t.name),this._addComponent(new s.wA("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(e){return r._addComponent(e)}))}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise((function(t){e.checkDestroyed_(),t()})).then((function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map((function(e){return e.delete()})))})).then((function(){e.isDeleted_=!0}))},e.prototype._getService=function(e,t){var n;void 0===t&&(t=I),this.checkDestroyed_();var r=this.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})},e.prototype._removeServiceInstance=function(e,t){void 0===t&&(t=I),this.container.getProvider(e).clearInstance(t)},e.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(t){C.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,t)}},e.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},e}();x.prototype.name&&x.prototype.options||x.prototype.delete||console.log("dc");var A="8.10.0";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R(e){var t={},n=new Map,r={__esModule:!0,initializeApp:c,app:o,registerVersion:d,setLogLevel:u.Ub,onLog:p,apps:null,SDK_VERSION:A,INTERNAL:{registerComponent:f,removeApp:i,components:n,useAsService:v}};function i(e){delete t[e]}function o(e){if(e=e||I,!(0,a.r3)(t,e))throw l.create("no-app",{appName:e});return t[e]}function c(n,i){if(void 0===i&&(i={}),"object"!==typeof i||null===i){var o=i;i={name:o}}var s=i;void 0===s.name&&(s.name=I);var u=s.name;if("string"!==typeof u||!u)throw l.create("bad-app-name",{appName:String(u)});if((0,a.r3)(t,u))throw l.create("duplicate-app",{appName:u});var c=new e(n,s,r);return t[u]=c,c}function h(){return Object.keys(t).map((function(e){return t[e]}))}function f(i){var s=i.name;if(n.has(s))return C.debug("There were multiple attempts to register component "+s+"."),"PUBLIC"===i.type?r[s]:null;if(n.set(s,i),"PUBLIC"===i.type){var u=function(e){if(void 0===e&&(e=o()),"function"!==typeof e[s])throw l.create("invalid-app-argument",{appName:s});return e[s]()};void 0!==i.serviceProps&&(0,a.ZB)(u,i.serviceProps),r[s]=u,e.prototype[s]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this._getService.bind(this,s);return n.apply(this,i.multipleInstances?e:[])}}for(var c=0,h=Object.keys(t);c<h.length;c++){var f=h[c];t[f]._addComponent(i)}return"PUBLIC"===i.type?r[s]:null}function d(e,t,n){var r,i=null!==(r=k[e])&&void 0!==r?r:e;n&&(i+="-"+n);var o=i.match(/\s|\//),a=t.match(/\s|\//);if(o||a){var u=['Unable to register library "'+i+'" with version "'+t+'":'];return o&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&a&&u.push("and"),a&&u.push('version name "'+t+'" contains illegal characters (whitespace or "/")'),void C.warn(u.join(" "))}f(new s.wA(i+"-version",(function(){return{library:i,version:t}}),"VERSION"))}function p(e,t){if(null!==e&&"function"!==typeof e)throw l.create("invalid-log-argument");(0,u.Am)(e,t)}function v(e,t){if("serverAuth"===t)return null;var n=t;return n}return r["default"]=r,Object.defineProperty(r,"apps",{get:h}),o["App"]=e,r}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N(){var e=R(x);function t(t){(0,a.ZB)(e,t)}return e.INTERNAL=(0,o.pi)((0,o.pi)({},e.INTERNAL),{createFirebaseNamespace:N,extendNamespace:t,createSubscribe:a.ne,ErrorFactory:a.LL,deepExtend:a.ZB}),e}var P=N(),O=function(){function e(e){this.container=e}return e.prototype.getPlatformInfoString=function(){var e=this.container.getProviders();return e.map((function(e){if(D(e)){var t=e.getImmediate();return t.library+"/"+t.version}return null})).filter((function(e){return e})).join(" ")},e}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L(e,t){e.INTERNAL.registerComponent(new s.wA("platform-logger",(function(e){return new O(e)}),"PRIVATE")),e.registerVersion(h,f,t),e.registerVersion("fire-js","")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if((0,a.jU)()&&void 0!==self.firebase){C.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var M=self.firebase.SDK_VERSION;M&&M.indexOf("LITE")>=0&&C.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var F=P.initializeApp;P.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,a.UG)()&&C.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),F.apply(void 0,e)};var q=P;L(q);const j=q},7429:(e,t,n)=>{"use strict";n.d(t,{wA:()=>o,H0:()=>l,zt:()=>s});var r=n(8430),i=n(2849),o=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},e}(),a="[DEFAULT]",s=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new i.BH;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,this.shouldAutoInitialize()){if(c(e))try{this.getOrInitializeService({instanceIdentifier:a})}catch(d){}try{for(var i=(0,r.XA)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var s=(0,r.CR)(o.value,2),u=s[0],l=s[1],h=this.normalizeInstanceIdentifier(u);try{var f=this.getOrInitializeService({instanceIdentifier:h});l.resolve(f)}catch(d){}}}catch(p){t={error:p}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}}},e.prototype.clearInstance=function(e){void 0===e&&(e=a),this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return(0,r.mG)(this,void 0,void 0,(function(){var e;return(0,r.Jh)(this,(function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all((0,r.ev)((0,r.ev)([],(0,r.CR)(e.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})))),(0,r.CR)(e.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))))];case 1:return t.sent(),[2]}}))}))},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.isInitialized=function(e){return void 0===e&&(e=a),this.instances.has(e)},e.prototype.getOptions=function(e){return void 0===e&&(e=a),this.instancesOptions.get(e)||{}},e.prototype.initialize=function(e){var t,n;void 0===e&&(e={});var i=e.options,o=void 0===i?{}:i,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(this.name+"("+a+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var s=this.getOrInitializeService({instanceIdentifier:a,options:o});try{for(var u=(0,r.XA)(this.instancesDeferred.entries()),c=u.next();!c.done;c=u.next()){var l=(0,r.CR)(c.value,2),h=l[0],f=l[1],d=this.normalizeInstanceIdentifier(h);a===d&&f.resolve(s)}}catch(p){t={error:p}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}return s},e.prototype.onInit=function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var o=this.instances.get(r);return o&&e(o,r),function(){i.delete(e)}},e.prototype.invokeOnInitCallbacks=function(e,t){var n,i,o=this.onInitCallbacks.get(t);if(o)try{for(var a=(0,r.XA)(o),s=a.next();!s.done;s=a.next()){var u=s.value;try{u(e,t)}catch(c){}}}catch(l){n={error:l}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}},e.prototype.getOrInitializeService=function(e){var t=e.instanceIdentifier,n=e.options,r=void 0===n?{}:n,i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:u(t),options:r}),this.instances.set(t,i),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch(o){}return i||null},e.prototype.normalizeInstanceIdentifier=function(e){return void 0===e&&(e=a),this.component?this.component.multipleInstances?e:a:e},e.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},e}();function u(e){return e===a?void 0:e}function c(e){return"EAGER"===e.instantiationMode}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var l=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){var t=this.getProvider(e.name);t.isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new s(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}()},1037:(e,t,n)=>{"use strict";var r=n(8785),i=n(7429),o=n(2849),a=n(8430),s=n(2920);e=n.hmd(e);var u="@firebase/database",c="0.11.0",l="";function h(e){l=e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var f=function(){function e(e){this.domStorage_=e,this.prefix_="firebase:"}return e.prototype.set=function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,o.Pz)(t))},e.prototype.get=function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,o.cI)(t)},e.prototype.remove=function(e){this.domStorage_.removeItem(this.prefixedName_(e))},e.prototype.prefixedName_=function(e){return this.prefix_+e},e.prototype.toString=function(){return this.domStorage_.toString()},e}(),d=function(){function e(){this.cache_={},this.isInMemoryStorage=!0}return e.prototype.set=function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t},e.prototype.get=function(e){return(0,o.r3)(this.cache_,e)?this.cache_[e]:null},e.prototype.remove=function(e){delete this.cache_[e]},e}(),p=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new f(t)}}catch(n){}return new d},v=p("localStorage"),g=p("sessionStorage"),m=new s.Yd("@firebase/database"),y=function(){var e=1;return function(){return e++}}(),b=function(e){var t=(0,o.dS)(e),n=new o.gQ;n.update(t);var r=n.digest();return o.US.encodeByteArray(r)},w=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n="",r=0;r<e.length;r++){var i=e[r];Array.isArray(i)||i&&"object"===typeof i&&"number"===typeof i.length?n+=w.apply(null,i):n+="object"===typeof i?(0,o.Pz)(i):i,n+=" "}return n},_=null,T=!0,S=function(e,t){(0,o.hu)(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(m.logLevel=s["in"].VERBOSE,_=m.log.bind(m),t&&g.set("logging_enabled",!0)):"function"===typeof e?_=e:(_=null,g.remove("logging_enabled"))},E=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!0===T&&(T=!1,null===_&&!0===g.get("logging_enabled")&&S(!0)),_){var n=w.apply(null,e);_(n)}},I=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];E.apply(void 0,(0,a.ev)([e],(0,a.CR)(t)))}},k=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE INTERNAL ERROR: "+w.apply(void 0,(0,a.ev)([],(0,a.CR)(e)));m.error(n)},C=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE FATAL ERROR: "+w.apply(void 0,(0,a.ev)([],(0,a.CR)(e)));throw m.error(n),new Error(n)},x=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE WARNING: "+w.apply(void 0,(0,a.ev)([],(0,a.CR)(e)));m.warn(n)},A=function(){"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&x("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},R=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},N=function(e){if((0,o.Yr)()||"complete"===document.readyState)e();else{var t=!1,n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}},P="[MIN_NAME]",O="[MAX_NAME]",D=function(e,t){if(e===t)return 0;if(e===P||t===O)return-1;if(t===P||e===O)return 1;var n=$(e),r=$(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},L=function(e,t){return e===t?0:e<t?-1:1},M=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+(0,o.Pz)(t))},F=function(e){if("object"!==typeof e||null===e)return(0,o.Pz)(e);var t=[];for(var n in e)t.push(n);t.sort();for(var r="{",i=0;i<t.length;i++)0!==i&&(r+=","),r+=(0,o.Pz)(t[i]),r+=":",r+=F(e[t[i]]);return r+="}",r},q=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var U=function(e){(0,o.hu)(!R(e),"Invalid JSON number");var t,n,r,i,a,s=11,u=52,c=(1<<s-1)-1;0===e?(n=0,r=0,t=1/e===-1/0?1:0):(t=e<0,e=Math.abs(e),e>=Math.pow(2,1-c)?(i=Math.min(Math.floor(Math.log(e)/Math.LN2),c),n=i+c,r=Math.round(e*Math.pow(2,u-i)-Math.pow(2,u))):(n=0,r=Math.round(e/Math.pow(2,1-c-u))));var l=[];for(a=u;a;a-=1)l.push(r%2?1:0),r=Math.floor(r/2);for(a=s;a;a-=1)l.push(n%2?1:0),n=Math.floor(n/2);l.push(t?1:0),l.reverse();var h=l.join(""),f="";for(a=0;a<64;a+=8){var d=parseInt(h.substr(a,8),2).toString(16);1===d.length&&(d="0"+d),f+=d}return f.toLowerCase()},B=function(){return!("object"!==typeof window||!window["chrome"]||!window["chrome"]["extension"]||/^chrome/.test(window.location.href))},V=function(){return"object"===typeof Windows&&"object"===typeof Windows.UI};function H(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");var r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}var G=new RegExp("^-?(0*)\\d{1,10}$"),z=-2147483648,K=2147483647,$=function(e){if(G.test(e)){var t=Number(e);if(t>=z&&t<=K)return t}return null},W=function(e){try{e()}catch(t){setTimeout((function(){var e=t.stack||"";throw x("Exception was thrown by user callback.",e),t}),Math.floor(0))}},J=function(){var e="object"===typeof window&&window["navigator"]&&window["navigator"]["userAgent"]||"";return e.search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Z=function(e,t){var n=setTimeout(e,t);return"object"===typeof n&&n["unref"]&&n["unref"](),n},Y=function(){function e(e,t){var n=this;this.appName_=e,this.appCheckProvider=t,this.appCheck=null===t||void 0===t?void 0:t.getImmediate({optional:!0}),this.appCheck||null===t||void 0===t||t.get().then((function(e){return n.appCheck=e}))}return e.prototype.getToken=function(e){var t=this;return this.appCheck?this.appCheck.getToken(e):new Promise((function(n,r){setTimeout((function(){t.appCheck?t.getToken(e).then(n,r):n(null)}),0)}))},e.prototype.addTokenChangeListener=function(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((function(t){return t.addTokenListener(e)}))},e.prototype.notifyForInvalidToken=function(){x('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},e}(),Q=function(){function e(e,t,n){var r=this;this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit((function(e){return r.auth_=e}))}return e.prototype.getToken=function(e){var t=this;return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(E("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):new Promise((function(n,r){setTimeout((function(){t.auth_?t.getToken(e).then(n,r):n(null)}),0)}))},e.prototype.addTokenChangeListener=function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)}))},e.prototype.removeTokenChangeListener=function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))},e.prototype.notifyForInvalidToken=function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',x(e)},e}(),X=function(){function e(e){this.accessToken=e}return e.prototype.getToken=function(e){return Promise.resolve({accessToken:this.accessToken})},e.prototype.addTokenChangeListener=function(e){e(this.accessToken)},e.prototype.removeTokenChangeListener=function(e){},e.prototype.notifyForInvalidToken=function(){},e.OWNER="owner",e}(),ee="5",te="v",ne="s",re="r",ie="f",oe=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,ae="ls",se="p",ue="ac",ce="websocket",le="long_polling",he=function(){function e(e,t,n,r,i,o,a){void 0===i&&(i=!1),void 0===o&&(o=""),void 0===a&&(a=!1),this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=v.get("host:"+e)||this._host}return e.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},e.prototype.isCustomHost=function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain},Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&v.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),e.prototype.toString=function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e},e.prototype.toURLString=function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns="+this.namespace:"";return""+e+this.host+"/"+t},e}();function fe(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function de(e,t,n){var r;if((0,o.hu)("string"===typeof t,"typeof type must == string"),(0,o.hu)("object"===typeof n,"typeof params must == object"),t===ce)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==le)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}fe(e)&&(n["ns"]=e.namespace);var i=[];return j(n,(function(e,t){i.push(e+"="+t)})),r+i.join("&")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pe=function(){function e(){this.counters_={}}return e.prototype.incrementCounter=function(e,t){void 0===t&&(t=1),(0,o.r3)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t},e.prototype.get=function(){return(0,o.p$)(this.counters_)},e}(),ve={},ge={};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function me(e){var t=e.toString();return ve[t]||(ve[t]=new pe),ve[t]}function ye(e,t){var n=e.toString();return ge[n]||(ge[n]=t()),ge[n]}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var be=function(){function e(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return e.prototype.closeAfter=function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},e.prototype.handleResponse=function(e,t){var n=this;this.pendingResponses[e]=t;var r=function(){var e=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var t=function(t){e[t]&&W((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;while(this.pendingResponses[this.currentResponseNum]){var o=r();if("break"===o)break}},e}(),we="start",_e="close",Te="pLPCommand",Se="pRTLPCB",Ee="id",Ie="pw",ke="ser",Ce="cb",xe="seg",Ae="ts",Re="d",Ne="dframe",Pe=1870,Oe=30,De=Pe-Oe,Le=25e3,Me=3e4,Fe=function(){function e(e,t,n,r,i,o,a){var s=this;this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=I(e),this.stats_=me(t),this.urlFn=function(e){return s.appCheckToken&&(e[ue]=s.appCheckToken),de(t,le,e)}}return e.prototype.open=function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new be(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(Me)),N((function(){if(!n.isClosed_){n.scriptTagHolder=new qe((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=(0,a.CR)(e,5),i=r[0],o=r[1],s=r[2];if(r[3],r[4],n.incrementIncomingBytes_(e),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===we)n.id=o,n.password=s;else{if(i!==_e)throw new Error("Unrecognized command received: "+i);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=(0,a.CR)(e,2),i=r[0],o=r[1];n.incrementIncomingBytes_(e),n.myPacketOrderer.handleResponse(i,o)}),(function(){n.onClosed_()}),n.urlFn);var e={};e[we]="t",e[ke]=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e[Ce]=n.scriptTagHolder.uniqueCallbackIdentifier),e[te]=ee,n.transportSessionId&&(e[ne]=n.transportSessionId),n.lastSessionId&&(e[ae]=n.lastSessionId),n.applicationId&&(e[se]=n.applicationId),n.appCheckToken&&(e[ue]=n.appCheckToken),"undefined"!==typeof location&&location.hostname&&oe.test(location.hostname)&&(e[re]=ie);var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))},e.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},e.forceAllow=function(){e.forceAllow_=!0},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){return!(0,o.Yr)()&&(!!e.forceAllow_||!e.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!B()&&!V())},e.prototype.markConnectionHealthy=function(){},e.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},e.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},e.prototype.send=function(e){var t=(0,o.Pz)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=(0,o.h$)(t),r=q(n,De),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++},e.prototype.addDisconnectPingFrame=function(e,t){if(!(0,o.Yr)()){this.myDisconnFrame=document.createElement("iframe");var n={};n[Ne]="t",n[Ee]=e,n[Ie]=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},e.prototype.incrementIncomingBytes_=function(e){var t=(0,o.Pz)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)},e}(),qe=function(){function e(t,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,o.Yr)())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=y(),window[Te+this.uniqueCallbackIdentifier]=t,window[Se+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var a="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)){var s=document.domain;a='<script>document.domain="'+s+'";<\/script>'}var u="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(u),this.myIFrame.doc.close()}catch(c){E("frame writing exception"),c.stack&&E(c.stack),E(c)}}}return e.createIFrame_=function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{var t=e.contentWindow.document;t||E("No IE domain setting required")}catch(r){var n=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e},e.prototype.close=function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())},e.prototype.startLongPoll=function(e,t){this.myID=e,this.myPW=t,this.alive=!0;while(this.newRequest_());},e.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e[Ee]=this.myID,e[Ie]=this.myPW,e[ke]=this.currentSerial;var t=this.urlFn(e),n="",r=0;while(this.pendingSegs.length>0){var i=this.pendingSegs[0];if(!(i.d.length+Oe+n.length<=Pe))break;var o=this.pendingSegs.shift();n=n+"&"+xe+r+"="+o.seg+"&"+Ae+r+"="+o.ts+"&"+Re+r+"="+o.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1},e.prototype.enqueueSegment=function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()},e.prototype.addLongPollTag_=function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(Le)),o=function(){clearTimeout(i),r()};this.addTag(e,o)},e.prototype.addTag=function(e,t){var n=this;(0,o.Yr)()?this.doNodeLongPoll(e,t):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){E("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}}),Math.floor(1))},e}(),je=16384,Ue=45e3,Be=null;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */"undefined"!==typeof MozWebSocket?Be=MozWebSocket:"undefined"!==typeof WebSocket&&(Be=WebSocket);var Ve=function(){function e(t,n,r,i,o,a,s){this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=I(this.connId),this.stats_=me(n),this.connURL=e.connectionURL_(n,a,s,i),this.nodeAdmin=n.nodeAdmin}return e.connectionURL_=function(e,t,n,r){var i={};return i[te]=ee,!(0,o.Yr)()&&"undefined"!==typeof location&&location.hostname&&oe.test(location.hostname)&&(i[re]=ie),t&&(i[ne]=t),n&&(i[ae]=n),r&&(i[ue]=r),de(e,ce,i)},e.prototype.open=function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,v.set("previous_websocket_failure",!0);try{if((0,o.Yr)()){var r=this.nodeAdmin?"AdminNode":"Node",i={headers:{"User-Agent":"Firebase/"+ee+"/"+l+"/"+process.platform+"/"+r,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(i.headers["Authorization"]="Bearer "+this.authToken),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);var a=process["env"],s=0===this.connURL.indexOf("wss://")?a["HTTPS_PROXY"]||a["https_proxy"]:a["HTTP_PROXY"]||a["http_proxy"];s&&(i["proxy"]={origin:s}),this.mySock=new Be(this.connURL,[],i)}else{i={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}};this.mySock=new Be(this.connURL,[],i)}}catch(c){this.log_("Error instantiating WebSocket.");var u=c.message||c.data;return u&&this.log_(u),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}},e.prototype.start=function(){},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){var t=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&null!==Be&&!e.forceDisallow_},e.previouslyFailed=function(){return v.isInMemoryStorage||!0===v.get("previous_websocket_failure")},e.prototype.markConnectionHealthy=function(){v.remove("previous_websocket_failure")},e.prototype.appendFrame_=function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=(0,o.cI)(t);this.onMessage(n)}},e.prototype.handleNewFrameCount_=function(e){this.totalFrames=e,this.frames=[]},e.prototype.extractFrameCount_=function(e){if((0,o.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e},e.prototype.handleIncomingFrame=function(e){if(null!==this.mySock){var t=e["data"];if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}},e.prototype.send=function(e){this.resetKeepAlive();var t=(0,o.Pz)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=q(t,je);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},e.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},e.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},e.prototype.resetKeepAlive=function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(Ue))},e.prototype.sendString_=function(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e}(),He=function(){function e(e){this.initTransports_(e)}return Object.defineProperty(e,"ALL_TRANSPORTS",{get:function(){return[Fe,Ve]},enumerable:!1,configurable:!0}),e.prototype.initTransports_=function(t){var n,r,i=Ve&&Ve["isAvailable"](),o=i&&!Ve.previouslyFailed();if(t.webSocketOnly&&(i||x("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[Ve];else{var s=this.transports_=[];try{for(var u=(0,a.XA)(e.ALL_TRANSPORTS),c=u.next();!c.done;c=u.next()){var l=c.value;l&&l["isAvailable"]()&&s.push(l)}}catch(h){n={error:h}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}},e.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},e.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},e}(),Ge=6e4,ze=5e3,Ke=10240,$e=102400,We="t",Je="d",Ze="s",Ye="r",Qe="e",Xe="o",et="a",tt="n",nt="p",rt="h",it=function(){function e(e,t,n,r,i,o,a,s,u,c){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=s,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=I("c:"+this.id+":"),this.transportManager_=new He(t),this.log_("Connection created"),this.start_()}return e.prototype.start_=function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t["responsesRequiredToBeHealthy"]||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t["healthyTimeout"]||0;i>0&&(this.healthyTimeout_=Z((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>$e?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>Ke?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))},e.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},e.prototype.disconnReceiver_=function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}},e.prototype.connReceiver_=function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}},e.prototype.sendRequest=function(e){var t={t:"d",d:e};this.sendData_(t)},e.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},e.prototype.onSecondaryControl_=function(e){if(We in e){var t=e[We];t===et?this.upgradeIfSecondaryHealthy_():t===Ye?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):t===Xe&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},e.prototype.onSecondaryMessageReceived_=function(e){var t=M("t",e),n=M("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}},e.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:nt,d:{}}}))},e.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:et,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:tt,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},e.prototype.onPrimaryMessageReceived_=function(e){var t=M("t",e),n=M("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)},e.prototype.onDataMessage_=function(e){this.onPrimaryResponse_(),this.onMessage_(e)},e.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},e.prototype.onControl_=function(e){var t=M(We,e);if(Je in e){var n=e[Je];if(t===rt)this.onHandshake_(n);else if(t===tt){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else t===Ze?this.onConnectionShutdown_(n):t===Ye?this.onReset_(n):t===Qe?k("Server Error: "+n):t===Xe?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):k("Unknown control packet command: "+t)}},e.prototype.onHandshake_=function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),ee!==n&&x("Protocol version mismatch detected"),this.tryStartUpgrade_())},e.prototype.tryStartUpgrade_=function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)},e.prototype.startUpgrade_=function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e["responsesRequiredToBeHealthy"]||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Z((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(Ge))},e.prototype.onReset_=function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())},e.prototype.onConnectionEstablished_=function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Z((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(ze))},e.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:nt,d:{}}}))},e.prototype.onSecondaryConnectionLost_=function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()},e.prototype.onConnectionLost_=function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(v.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},e.prototype.onConnectionShutdown_=function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()},e.prototype.sendData_=function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)},e.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},e.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},e}(),ot=function(){function e(){}return e.prototype.put=function(e,t,n,r){},e.prototype.merge=function(e,t,n,r){},e.prototype.refreshAuthToken=function(e){},e.prototype.refreshAppCheckToken=function(e){},e.prototype.onDisconnectPut=function(e,t,n){},e.prototype.onDisconnectMerge=function(e,t,n){},e.prototype.onDisconnectCancel=function(e,t){},e.prototype.reportStats=function(e){},e}(),at=function(){function e(e){this.allowedEvents_=e,this.listeners_={},(0,o.hu)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}return e.prototype.trigger=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Array.isArray(this.listeners_[e]))for(var r=(0,a.ev)([],(0,a.CR)(this.listeners_[e])),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)},e.prototype.on=function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)},e.prototype.off=function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)},e.prototype.validateEventType_=function(e){(0,o.hu)(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)},e}(),st=function(e){function t(){var t=e.call(this,["online"])||this;return t.online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||(0,o.uI)()||(window.addEventListener("online",(function(){t.online_||(t.online_=!0,t.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){t.online_&&(t.online_=!1,t.trigger("online",!1))}),!1)),t}return(0,a.ZT)(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return(0,o.hu)("online"===e,"Unknown event type: "+e),[this.online_]},t.prototype.currentlyOnline=function(){return this.online_},t}(at),ut=32,ct=768,lt=function(){function e(e,t){if(void 0===t){this.pieces_=e.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}return e.prototype.toString=function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"},e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ht(){return new lt("")}function ft(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function dt(e){return e.pieces_.length-e.pieceNum_}function pt(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new lt(e.pieces_,t)}function vt(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function gt(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function mt(e,t){return void 0===t&&(t=0),e.pieces_.slice(e.pieceNum_+t)}function yt(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new lt(t,0)}function bt(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof lt)for(r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{var i=t.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new lt(n,0)}function wt(e){return e.pieceNum_>=e.pieces_.length}function _t(e,t){var n=ft(e),r=ft(t);if(null===n)return t;if(n===r)return _t(pt(e),pt(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Tt(e,t){for(var n=mt(e,0),r=mt(t,0),i=0;i<n.length&&i<r.length;i++){var o=D(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1}function St(e,t){if(dt(e)!==dt(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Et(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(dt(e)>dt(t))return!1;while(n<e.pieces_.length){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var It=function(){function e(e,t){this.errorPrefix_=t,this.parts_=mt(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=(0,o.ug)(this.parts_[n]);xt(this)}return e}();function kt(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=(0,o.ug)(t),xt(e)}function Ct(e){var t=e.parts_.pop();e.byteLength_-=(0,o.ug)(t),e.parts_.length>0&&(e.byteLength_-=1)}function xt(e){if(e.byteLength_>ct)throw new Error(e.errorPrefix_+"has a key path longer than "+ct+" bytes ("+e.byteLength_+").");if(e.parts_.length>ut)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+ut+") or object contains a cycle "+At(e))}function At(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rt,Nt,Pt=function(e){function t(){var t,n,r=e.call(this,["visible"])||this;return"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document["hidden"]?(n="visibilitychange",t="hidden"):"undefined"!==typeof document["mozHidden"]?(n="mozvisibilitychange",t="mozHidden"):"undefined"!==typeof document["msHidden"]?(n="msvisibilitychange",t="msHidden"):"undefined"!==typeof document["webkitHidden"]&&(n="webkitvisibilitychange",t="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,(function(){var e=!document[t];e!==r.visible_&&(r.visible_=e,r.trigger("visible",e))}),!1),r}return(0,a.ZT)(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return(0,o.hu)("visible"===e,"Unknown event type: "+e),[this.visible_]},t}(at),Ot=1e3,Dt=3e5,Lt=3e3,Mt=3e4,Ft=1.3,qt=3e4,jt="server_kill",Ut=3,Bt=function(e){function t(n,r,i,a,s,u,c,l){var h=e.call(this)||this;if(h.repoInfo_=n,h.applicationId_=r,h.onDataUpdate_=i,h.onConnectStatus_=a,h.onServerInfoUpdate_=s,h.authTokenProvider_=u,h.appCheckTokenProvider_=c,h.authOverride_=l,h.id=t.nextPersistentConnectionId_++,h.log_=I("p:"+h.id+":"),h.interruptReasons_={},h.listens=new Map,h.outstandingPuts_=[],h.outstandingGets_=[],h.outstandingPutCount_=0,h.outstandingGetCount_=0,h.onDisconnectRequestQueue_=[],h.connected_=!1,h.reconnectDelay_=Ot,h.maxReconnectDelay_=Dt,h.securityDebugCallback_=null,h.lastSessionId=null,h.establishConnectionTimer_=null,h.visible_=!1,h.requestCBHash_={},h.requestNumber_=0,h.realtime_=null,h.authToken_=null,h.appCheckToken_=null,h.forceTokenRefresh_=!1,h.invalidAuthTokenCount_=0,h.invalidAppCheckTokenCount_=0,h.firstConnection_=!0,h.lastConnectionAttemptTime_=null,h.lastConnectionEstablishedTime_=null,l&&!(0,o.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return Pt.getInstance().on("visible",h.onVisible_,h),-1===n.host.indexOf("fblocal")&&st.getInstance().on("online",h.onOnline_,h),h}return(0,a.ZT)(t,e),t.prototype.sendRequest=function(e,t,n){var r=++this.requestNumber_,i={r,a:e,b:t};this.log_((0,o.Pz)(i)),(0,o.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},t.prototype.get=function(e){var t=this;this.initConnection_();var n=new o.BH,r={p:e._path.toString(),q:e._queryObject},i={action:"g",request:r,onComplete:function(e){var i=e["d"];"ok"===e["s"]?(t.onDataUpdate_(r["p"],i,!1,null),n.resolve(i)):n.reject(i)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;var a=this.outstandingGets_.length-1;return this.connected_||setTimeout((function(){var e=t.outstandingGets_[a];void 0!==e&&i===e&&(delete t.outstandingGets_[a],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),t.log_("get "+a+" timed out on connection"),n.reject(new Error("Client is offline.")))}),Lt),this.connected_&&this.sendGet_(a),n.promise},t.prototype.listen=function(e,t,n,r){this.initConnection_();var i=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),(0,o.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,o.hu)(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");var s={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(a).set(i,s),this.connected_&&this.sendListen_(s)},t.prototype.sendGet_=function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))},t.prototype.sendListen_=function(e){var n=this,r=e.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);var a={p:i},s="q";e.tag&&(a["q"]=r._queryObject,a["t"]=e.tag),a["h"]=e.hashFn(),this.sendRequest(s,a,(function(a){var s=a["d"],u=a["s"];t.warnOnListenWarnings_(s,r);var c=n.listens.get(i)&&n.listens.get(i).get(o);c===e&&(n.log_("listen response",a),"ok"!==u&&n.removeListen_(i,o),e.onComplete&&e.onComplete(u,s))}))},t.warnOnListenWarnings_=function(e,t){if(e&&"object"===typeof e&&(0,o.r3)(e,"w")){var n=(0,o.DV)(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',i=t._path.toString();x("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},t.prototype.refreshAuthToken=function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)},t.prototype.reduceReconnectDelayIfAdminCredential_=function(e){var t=e&&40===e.length;(t||(0,o.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Mt)},t.prototype.refreshAppCheckToken=function(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))},t.prototype.tryAuth=function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=(0,o.w9)(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r["noauth"]=!0:"object"===typeof this.authOverride_&&(r["authvar"]=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n["s"],i=n["d"]||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}},t.prototype.tryAppCheck=function(){var e=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(t){var n=t["s"],r=t["d"]||"error";"ok"===n?e.invalidAppCheckTokenCount_=0:e.onAppCheckRevoked_(n,r)}))},t.prototype.unlisten=function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),(0,o.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query");var i=this.removeListen_(n,r);i&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)},t.prototype.sendUnlisten_=function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e},o="n";r&&(i["q"]=n,i["t"]=r),this.sendRequest(o,i)},t.prototype.onDisconnectPut=function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})},t.prototype.onDisconnectMerge=function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})},t.prototype.onDisconnectCancel=function(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})},t.prototype.sendOnDisconnect_=function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e["s"],e["d"])}),Math.floor(0))}))},t.prototype.put=function(e,t,n,r){this.putInternal("p",e,t,n,r)},t.prototype.merge=function(e,t,n,r){this.putInternal("m",e,t,n,r)},t.prototype.putInternal=function(e,t,n,r,i){this.initConnection_();var o={p:t,d:n};void 0!==i&&(o["h"]=i),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++;var a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+t)},t.prototype.sendPut_=function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r["s"],r["d"])}))},t.prototype.reportStats=function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){var n=e["s"];if("ok"!==n){var r=e["d"];t.log_("reportStats","Error sending stats: "+r)}}))}},t.prototype.onDataMessage_=function(e){if("r"in e){this.log_("from server: "+(0,o.Pz)(e));var t=e["r"],n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e["b"]))}else{if("error"in e)throw"A server-side error has occurred: "+e["error"];"a"in e&&this.onDataPush_(e["a"],e["b"])}},t.prototype.onDataPush_=function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t["p"],t["d"],!1,t["t"]):"m"===e?this.onDataUpdate_(t["p"],t["d"],!0,t["t"]):"c"===e?this.onListenRevoked_(t["p"],t["q"]):"ac"===e?this.onAuthRevoked_(t["s"],t["d"]):"apc"===e?this.onAppCheckRevoked_(t["s"],t["d"]):"sd"===e?this.onSecurityDebugPacket_(t):k("Unrecognized action received from server: "+(0,o.Pz)(e)+"\nAre you using the latest client?")},t.prototype.onReady_=function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},t.prototype.scheduleConnect_=function(e){var t=this;(0,o.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))},t.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},t.prototype.onVisible_=function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ot,this.realtime_||this.scheduleConnect_(0)),this.visible_=e},t.prototype.onOnline_=function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Ot,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},t.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){var e=(new Date).getTime()-this.lastConnectionEstablishedTime_;e>qt&&(this.reconnectDelay_=Ot),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var t=(new Date).getTime()-this.lastConnectionAttemptTime_,n=Math.max(0,this.reconnectDelay_-t);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Ft)}this.onConnectStatus_(!1)},t.prototype.establishConnection_=function(){return(0,a.mG)(this,void 0,void 0,(function(){var e,n,r,i,s,u,c,l,h,f,d,p,v,g,m=this;return(0,a.Jh)(this,(function(y){switch(y.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+t.nextConnectionId_++,s=this.lastSessionId,u=!1,c=null,l=function(){c?c.close():(u=!0,r())},h=function(e){(0,o.hu)(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(e)},this.realtime_={close:l,sendRequest:h},f=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,y.label=1;case 1:return y.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(f),this.appCheckTokenProvider_.getToken(f)])];case 2:return d=a.CR.apply(void 0,[y.sent(),2]),p=d[0],v=d[1],u?E("getToken() completed but was canceled"):(E("getToken() completed. Creating connection."),this.authToken_=p&&p.accessToken,this.appCheckToken_=v&&v.token,c=new it(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,(function(e){x(e+" ("+m.repoInfo_.toString()+")"),m.interrupt(jt)}),s)),[3,4];case 3:return g=y.sent(),this.log_("Failed to get token: "+g),u||(this.repoInfo_.nodeAdmin&&x(g),l()),[3,4];case 4:return[2]}}))}))},t.prototype.interrupt=function(e){E("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},t.prototype.resume=function(e){E("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,o.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Ot,this.realtime_||this.scheduleConnect_(0))},t.prototype.handleTimestamp_=function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})},t.prototype.cancelSentTransactions_=function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},t.prototype.onListenRevoked_=function(e,t){var n;n=t?t.map((function(e){return F(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")},t.prototype.removeListen_=function(e,t){var n,r=new lt(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n},t.prototype.onAuthRevoked_=function(e,t){E("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Ut&&(this.reconnectDelay_=Mt,this.authTokenProvider_.notifyForInvalidToken()))},t.prototype.onAppCheckRevoked_=function(e,t){E("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Ut&&this.appCheckTokenProvider_.notifyForInvalidToken())},t.prototype.onSecurityDebugPacket_=function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e["msg"].replace("\n","\nFIREBASE: "))},t.prototype.restoreState_=function(){var e,t,n,r;this.tryAuth(),this.tryAppCheck();try{for(var i=(0,a.XA)(this.listens.values()),o=i.next();!o.done;o=i.next()){var s=o.value;try{for(var u=(n=void 0,(0,a.XA)(s.values())),c=u.next();!c.done;c=u.next()){var l=c.value;this.sendListen_(l)}}catch(d){n={error:d}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(p){e={error:p}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}for(var h=0;h<this.outstandingPuts_.length;h++)this.outstandingPuts_[h]&&this.sendPut_(h);while(this.onDisconnectRequestQueue_.length){var f=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(f.action,f.pathString,f.data,f.onComplete)}for(h=0;h<this.outstandingGets_.length;h++)this.outstandingGets_[h]&&this.sendGet_(h)},t.prototype.sendConnectStats_=function(){var e={},t="js";(0,o.Yr)()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+l.replace(/\./g,"-")]=1,(0,o.uI)()?e["framework.cordova"]=1:(0,o.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)},t.prototype.shouldReconnect_=function(){var e=st.getInstance().currentlyOnline();return(0,o.xb)(this.interruptReasons_)&&e},t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t}(ot),Vt=function(){function e(e,t){this.name=e,this.node=t}return e.Wrap=function(t,n){return new e(t,n)},e}(),Ht=function(){function e(){}return e.prototype.getCompare=function(){return this.compare.bind(this)},e.prototype.indexedValueChanged=function(e,t){var n=new Vt(P,e),r=new Vt(P,t);return 0!==this.compare(n,r)},e.prototype.minPost=function(){return Vt.MIN},e}(),Gt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.ZT)(t,e),Object.defineProperty(t,"__EMPTY_NODE",{get:function(){return Rt},set:function(e){Rt=e},enumerable:!1,configurable:!0}),t.prototype.compare=function(e,t){return D(e.name,t.name)},t.prototype.isDefinedOn=function(e){throw(0,o.g5)("KeyIndex.isDefinedOn not expected to be called.")},t.prototype.indexedValueChanged=function(e,t){return!1},t.prototype.minPost=function(){return Vt.MIN},t.prototype.maxPost=function(){return new Vt(O,Rt)},t.prototype.makePost=function(e,t){return(0,o.hu)("string"===typeof e,"KeyIndex indexValue must always be a string."),new Vt(e,Rt)},t.prototype.toString=function(){return".key"},t}(Ht),zt=new Gt,Kt=function(){function e(e,t,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];var o=1;while(!e.isEmpty())if(e=e,o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}return e.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_){t=t.left;while(!t.isEmpty())this.nodeStack_.push(t),t=t.right}else{t=t.right;while(!t.isEmpty())this.nodeStack_.push(t),t=t.left}return e},e.prototype.hasNext=function(){return this.nodeStack_.length>0},e.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}},e}(),$t=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:Jt.EMPTY_NODE,this.right=null!=o?o:Jt.EMPTY_NODE}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.count=function(){return this.left.count()+1+this.right.count()},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},e.prototype.minKey=function(){return this.min_().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp_()},e.prototype.removeMin_=function(){if(this.left.isEmpty())return Jt.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()},e.prototype.remove=function(e,t){var n,r;if(n=this,t(e,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return Jt.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()},e.prototype.isRed_=function(){return this.color},e.prototype.fixUp_=function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e},e.prototype.moveRedLeft_=function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e},e.prototype.moveRedRight_=function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e},e.prototype.rotateLeft_=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight_=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip_=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth_=function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1},e.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)},e.RED=!0,e.BLACK=!1,e}(),Wt=function(){function e(){}return e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new $t(e,t,null)},e.prototype.remove=function(e,t){return this},e.prototype.count=function(){return 0},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.check_=function(){return 0},e.prototype.isRed_=function(){return!1},e}(),Jt=function(){function e(t,n){void 0===n&&(n=e.EMPTY_NODE),this.comparator_=t,this.root_=n}return e.prototype.insert=function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,$t.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,$t.BLACK,null,null))},e.prototype.get=function(e){var t,n=this.root_;while(!n.isEmpty()){if(t=this.comparator_(e,n.key),0===t)return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null},e.prototype.getPredecessorKey=function(e){var t,n=this.root_,r=null;while(!n.isEmpty()){if(t=this.comparator_(e,n.key),0===t){if(n.left.isEmpty())return r?r.key:null;n=n.left;while(!n.right.isEmpty())n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},e.prototype.isEmpty=function(){return this.root_.isEmpty()},e.prototype.count=function(){return this.root_.count()},e.prototype.minKey=function(){return this.root_.minKey()},e.prototype.maxKey=function(){return this.root_.maxKey()},e.prototype.inorderTraversal=function(e){return this.root_.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.root_.reverseTraversal(e)},e.prototype.getIterator=function(e){return new Kt(this.root_,null,this.comparator_,!1,e)},e.prototype.getIteratorFrom=function(e,t){return new Kt(this.root_,e,this.comparator_,!1,t)},e.prototype.getReverseIteratorFrom=function(e,t){return new Kt(this.root_,e,this.comparator_,!0,t)},e.prototype.getReverseIterator=function(e){return new Kt(this.root_,null,this.comparator_,!0,e)},e.EMPTY_NODE=new Wt,e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Zt(e,t){return D(e.name,t.name)}function Yt(e,t){return D(e,t)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qt(e){Nt=e}var Xt,en,tn,nn=function(e){return"number"===typeof e?"number:"+U(e):"string:"+e},rn=function(e){if(e.isLeafNode()){var t=e.val();(0,o.hu)("string"===typeof t||"number"===typeof t||"object"===typeof t&&(0,o.r3)(t,".sv"),"Priority must be a string or number.")}else(0,o.hu)(e===Nt||e.isEmpty(),"priority of unexpected type.");(0,o.hu)(e===Nt||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},on=function(){function e(t,n){void 0===n&&(n=e.__childrenNodeConstructor.EMPTY_NODE),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,(0,o.hu)(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),rn(this.priorityNode_)}return Object.defineProperty(e,"__childrenNodeConstructor",{get:function(){return Xt},set:function(e){Xt=e},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!0},e.prototype.getPriority=function(){return this.priorityNode_},e.prototype.updatePriority=function(t){return new e(this.value_,t)},e.prototype.getImmediateChild=function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.getChild=function(t){return wt(t)?this:".priority"===ft(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.hasChild=function(){return!1},e.prototype.getPredecessorChildName=function(e,t){return null},e.prototype.updateImmediateChild=function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)},e.prototype.updateChild=function(t,n){var r=ft(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:((0,o.hu)(".priority"!==r||1===dt(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(pt(t),n)))},e.prototype.isEmpty=function(){return!1},e.prototype.numChildren=function(){return 0},e.prototype.forEachChild=function(e,t){return!1},e.prototype.val=function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+nn(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?U(this.value_):this.value_,this.lazyHash_=b(e)}return this.lazyHash_},e.prototype.getValue=function(){return this.value_},e.prototype.compareTo=function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:((0,o.hu)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))},e.prototype.compareToLeafNode_=function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),a=e.VALUE_TYPE_ORDER.indexOf(r);return(0,o.hu)(i>=0,"Unknown leaf type: "+n),(0,o.hu)(a>=0,"Unknown leaf type: "+r),i===a?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-i},e.prototype.withIndex=function(){return this},e.prototype.isIndexed=function(){return!0},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1},e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e}();function an(e){en=e}function sn(e){tn=e}var un,cn,ln=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.ZT)(t,e),t.prototype.compare=function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?D(e.name,t.name):i},t.prototype.isDefinedOn=function(e){return!e.getPriority().isEmpty()},t.prototype.indexedValueChanged=function(e,t){return!e.getPriority().equals(t.getPriority())},t.prototype.minPost=function(){return Vt.MIN},t.prototype.maxPost=function(){return new Vt(O,new on("[PRIORITY-POST]",tn))},t.prototype.makePost=function(e,t){var n=en(e);return new Vt(t,new on("[PRIORITY-POST]",n))},t.prototype.toString=function(){return".priority"},t}(Ht),hn=new ln,fn=Math.log(2),dn=function(){function e(e){var t=function(e){return parseInt(Math.log(e)/fn,10)},n=function(e){return parseInt(Array(e+1).join("1"),2)};this.count=t(e+1),this.current_=this.count-1;var r=n(this.count);this.bits_=e+1&r}return e.prototype.nextBitIsOne=function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e},e}(),pn=function(e,t,n,r){e.sort(t);var i=function(t,r){var o,a,s=r-t;if(0===s)return null;if(1===s)return o=e[t],a=n?n(o):o,new $t(a,o.node,$t.BLACK,null,null);var u=parseInt(s/2,10)+t,c=i(t,u),l=i(u+1,r);return o=e[u],a=n?n(o):o,new $t(a,o.node,$t.BLACK,c,l)},o=function(t){for(var r=null,o=null,a=e.length,s=function(t,r){var o=a-t,s=a;a-=t;var c=i(o+1,s),l=e[o],h=n?n(l):l;u(new $t(h,l.node,r,null,c))},u=function(e){r?(r.left=e,r=e):(o=e,r=e)},c=0;c<t.count;++c){var l=t.nextBitIsOne(),h=Math.pow(2,t.count-(c+1));l?s(h,$t.BLACK):(s(h,$t.BLACK),s(h,$t.RED))}return o},a=new dn(e.length),s=o(a);return new Jt(r||t,s)},vn={},gn=function(){function e(e,t){this.indexes_=e,this.indexSet_=t}return Object.defineProperty(e,"Default",{get:function(){return(0,o.hu)(vn&&hn,"ChildrenNode.ts has not been loaded"),un=un||new e({".priority":vn},{".priority":hn}),un},enumerable:!1,configurable:!0}),e.prototype.get=function(e){var t=(0,o.DV)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Jt?t:null},e.prototype.hasIndex=function(e){return(0,o.r3)(this.indexSet_,e.toString())},e.prototype.addIndex=function(t,n){(0,o.hu)(t!==zt,"KeyIndex always exists and isn't meant to be added to the IndexMap.");var r,i=[],s=!1,u=n.getIterator(Vt.Wrap),c=u.getNext();while(c)s=s||t.isDefinedOn(c.node),i.push(c),c=u.getNext();r=s?pn(i,t.getCompare()):vn;var l=t.toString(),h=(0,a.pi)({},this.indexSet_);h[l]=t;var f=(0,a.pi)({},this.indexes_);return f[l]=r,new e(f,h)},e.prototype.addToIndexes=function(t,n){var r=this,i=(0,o.UI)(this.indexes_,(function(e,i){var a=(0,o.DV)(r.indexSet_,i);if((0,o.hu)(a,"Missing index implementation for "+i),e===vn){if(a.isDefinedOn(t.node)){var s=[],u=n.getIterator(Vt.Wrap),c=u.getNext();while(c)c.name!==t.name&&s.push(c),c=u.getNext();return s.push(t),pn(s,a.getCompare())}return vn}var l=n.get(t.name),h=e;return l&&(h=h.remove(new Vt(t.name,l))),h.insert(t,t.node)}));return new e(i,this.indexSet_)},e.prototype.removeFromIndexes=function(t,n){var r=(0,o.UI)(this.indexes_,(function(e){if(e===vn)return e;var r=n.get(t.name);return r?e.remove(new Vt(t.name,r)):e}));return new e(r,this.indexSet_)},e}(),mn=function(){function e(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&rn(this.priorityNode_),this.children_.isEmpty()&&(0,o.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(e,"EMPTY_NODE",{get:function(){return cn||(cn=new e(new Jt(Yt),null,gn.Default))},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!1},e.prototype.getPriority=function(){return this.priorityNode_||cn},e.prototype.updatePriority=function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)},e.prototype.getImmediateChild=function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?cn:t},e.prototype.getChild=function(e){var t=ft(e);return null===t?this:this.getImmediateChild(t).getChild(pt(e))},e.prototype.hasChild=function(e){return null!==this.children_.get(e)},e.prototype.updateImmediateChild=function(t,n){if((0,o.hu)(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r=new Vt(t,n),i=void 0,a=void 0;n.isEmpty()?(i=this.children_.remove(t),a=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(t,n),a=this.indexMap_.addToIndexes(r,this.children_));var s=i.isEmpty()?cn:this.priorityNode_;return new e(i,s,a)},e.prototype.updateChild=function(e,t){var n=ft(e);if(null===n)return t;(0,o.hu)(".priority"!==ft(e)||1===dt(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(pt(e),t);return this.updateImmediateChild(n,r)},e.prototype.isEmpty=function(){return this.children_.isEmpty()},e.prototype.numChildren=function(){return this.children_.count()},e.prototype.val=function(t){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(hn,(function(a,s){n[a]=s.val(t),r++,o&&e.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):o=!1})),!t&&o&&i<2*r){var a=[];for(var s in n)a[s]=n[s];return a}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+nn(this.getPriority().val())+":"),this.forEachChild(hn,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":b(e)}return this.lazyHash_},e.prototype.getPredecessorChildName=function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new Vt(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)},e.prototype.getFirstChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()},e.prototype.getFirstChild=function(e){var t=this.getFirstChildName(e);return t?new Vt(t,this.children_.get(t)):null},e.prototype.getLastChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()},e.prototype.getLastChild=function(e){var t=this.getLastChildName(e);return t?new Vt(t,this.children_.get(t)):null},e.prototype.forEachChild=function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)},e.prototype.getIterator=function(e){return this.getIteratorFrom(e.minPost(),e)},e.prototype.getIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));var r=this.children_.getIteratorFrom(e.name,Vt.Wrap),i=r.peek();while(null!=i&&t.compare(i,e)<0)r.getNext(),i=r.peek();return r},e.prototype.getReverseIterator=function(e){return this.getReverseIteratorFrom(e.maxPost(),e)},e.prototype.getReverseIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));var r=this.children_.getReverseIteratorFrom(e.name,Vt.Wrap),i=r.peek();while(null!=i&&t.compare(i,e)>0)r.getNext(),i=r.peek();return r},e.prototype.compareTo=function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===bn?-1:0},e.prototype.withIndex=function(t){if(t===zt||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)},e.prototype.isIndexed=function(e){return e===zt||this.indexMap_.hasIndex(e)},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){var n=this.getIterator(hn),r=t.getIterator(hn),i=n.getNext(),o=r.getNext();while(i&&o){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},e.prototype.resolveIndex_=function(e){return e===zt?null:this.indexMap_.get(e.toString())},e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e}(),yn=function(e){function t(){return e.call(this,new Jt(Yt),mn.EMPTY_NODE,gn.Default)||this}return(0,a.ZT)(t,e),t.prototype.compareTo=function(e){return e===this?0:1},t.prototype.equals=function(e){return e===this},t.prototype.getPriority=function(){return this},t.prototype.getImmediateChild=function(e){return mn.EMPTY_NODE},t.prototype.isEmpty=function(){return!1},t}(mn),bn=new yn;Object.defineProperties(Vt,{MIN:{value:new Vt(P,mn.EMPTY_NODE)},MAX:{value:new Vt(O,bn)}}),Gt.__EMPTY_NODE=mn.EMPTY_NODE,on.__childrenNodeConstructor=mn,Qt(bn),sn(bn);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var wn=!0;function _n(e,t){if(void 0===t&&(t=null),null===e)return mn.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),(0,o.hu)(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e){var n=e;return new on(n,_n(t))}if(e instanceof Array||!wn){var r=mn.EMPTY_NODE;return j(e,(function(t,n){if((0,o.r3)(e,t)&&"."!==t.substring(0,1)){var i=_n(n);!i.isLeafNode()&&i.isEmpty()||(r=r.updateImmediateChild(t,i))}})),r.updatePriority(_n(t))}var i=[],a=!1,s=e;if(j(s,(function(e,t){if("."!==e.substring(0,1)){var n=_n(t);n.isEmpty()||(a=a||!n.getPriority().isEmpty(),i.push(new Vt(e,n)))}})),0===i.length)return mn.EMPTY_NODE;var u=pn(i,Zt,(function(e){return e.name}),Yt);if(a){var c=pn(i,hn.getCompare());return new mn(u,_n(t),new gn({".priority":c},{".priority":hn}))}return new mn(u,_n(t),gn.Default)}an(_n);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Tn=function(e){function t(t){var n=e.call(this)||this;return n.indexPath_=t,(0,o.hu)(!wt(t)&&".priority"!==ft(t),"Can't create PathIndex with empty path or .priority key"),n}return(0,a.ZT)(t,e),t.prototype.extractChild=function(e){return e.getChild(this.indexPath_)},t.prototype.isDefinedOn=function(e){return!e.getChild(this.indexPath_).isEmpty()},t.prototype.compare=function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?D(e.name,t.name):i},t.prototype.makePost=function(e,t){var n=_n(e),r=mn.EMPTY_NODE.updateChild(this.indexPath_,n);return new Vt(t,r)},t.prototype.maxPost=function(){var e=mn.EMPTY_NODE.updateChild(this.indexPath_,bn);return new Vt(O,e)},t.prototype.toString=function(){return mt(this.indexPath_,0).join("/")},t}(Ht),Sn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.ZT)(t,e),t.prototype.compare=function(e,t){var n=e.node.compareTo(t.node);return 0===n?D(e.name,t.name):n},t.prototype.isDefinedOn=function(e){return!0},t.prototype.indexedValueChanged=function(e,t){return!e.equals(t)},t.prototype.minPost=function(){return Vt.MIN},t.prototype.maxPost=function(){return Vt.MAX},t.prototype.makePost=function(e,t){var n=_n(e);return new Vt(t,n)},t.prototype.toString=function(){return".value"},t}(Ht),En=new Sn,In="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",kn="-",Cn="z",xn=786,An=function(){var e=0,t=[];return function(n){var r,i=n===e;e=n;var a=new Array(8);for(r=7;r>=0;r--)a[r]=In.charAt(n%64),n=Math.floor(n/64);(0,o.hu)(0===n,"Cannot push at time == 0");var s=a.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)s+=In.charAt(t[r]);return(0,o.hu)(20===s.length,"nextPushId: Length should be 20."),s}}(),Rn=function(e){if(e===""+K)return kn;var t=$(e);if(null!=t)return""+(t+1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);if(n.length<xn)return n.push(kn),n.join("");var i=n.length-1;while(i>=0&&n[i]===Cn)i--;if(-1===i)return O;var o=n[i],a=In.charAt(In.indexOf(o)+1);return n[i]=a,n.slice(0,i+1).join("")},Nn=function(e){if(e===""+z)return P;var t=$(e);if(null!=t)return""+(t-1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);return n[n.length-1]===kn?1===n.length?""+K:(delete n[n.length-1],n.join("")):(n[n.length-1]=In.charAt(In.indexOf(n[n.length-1])-1),n.join("")+Cn.repeat(xn-n.length))};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Pn(e){return{type:"value",snapshotNode:e}}function On(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Dn(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Ln(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function Mn(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fn=function(){function e(e){this.index_=e}return e.prototype.updateChild=function(e,t,n,r,i,a){(0,o.hu)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var s=e.getImmediateChild(t);return s.getChild(r).equals(n.getChild(r))&&s.isEmpty()===n.isEmpty()?e:(null!=a&&(n.isEmpty()?e.hasChild(t)?a.trackChildChange(Dn(t,s)):(0,o.hu)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?a.trackChildChange(On(t,n)):a.trackChildChange(Ln(t,n,s))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))},e.prototype.updateFullNode=function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(hn,(function(e,r){t.hasChild(e)||n.trackChildChange(Dn(e,r))})),t.isLeafNode()||t.forEachChild(hn,(function(t,r){if(e.hasChild(t)){var i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(Ln(t,r,i))}else n.trackChildChange(On(t,r))}))),t.withIndex(this.index_)},e.prototype.updatePriority=function(e,t){return e.isEmpty()?mn.EMPTY_NODE:e.updatePriority(t)},e.prototype.filtersNodes=function(){return!1},e.prototype.getIndexedFilter=function(){return this},e.prototype.getIndex=function(){return this.index_},e}(),qn=function(){function e(t){this.indexedFilter_=new Fn(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t)}return e.prototype.getStartPost=function(){return this.startPost_},e.prototype.getEndPost=function(){return this.endPost_},e.prototype.matches=function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0},e.prototype.updateChild=function(e,t,n,r,i,o){return this.matches(new Vt(t,n))||(n=mn.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,o)},e.prototype.updateFullNode=function(e,t,n){t.isLeafNode()&&(t=mn.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority(mn.EMPTY_NODE);var i=this;return t.forEachChild(hn,(function(e,t){i.matches(new Vt(e,t))||(r=r.updateImmediateChild(e,mn.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.indexedFilter_},e.prototype.getIndex=function(){return this.index_},e.getStartPost_=function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()},e.getEndPost_=function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()},e}(),jn=function(){function e(e){this.rangedFilter_=new qn(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}return e.prototype.updateChild=function(e,t,n,r,i,o){return this.rangedFilter_.matches(new Vt(t,n))||(n=mn.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,o):this.fullLimitUpdateChild_(e,t,n,i,o)},e.prototype.updateFullNode=function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=mn.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){r=mn.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);var o=0;while(i.hasNext()&&o<this.limit_){var a=i.getNext(),s=void 0;if(s=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:this.index_.compare(a,this.rangedFilter_.getEndPost())<=0,!s)break;r=r.updateImmediateChild(a.name,a.node),o++}}else{r=t.withIndex(this.index_),r=r.updatePriority(mn.EMPTY_NODE);var u=void 0,c=void 0,l=void 0;i=void 0;if(this.reverse_){i=r.getReverseIterator(this.index_),u=this.rangedFilter_.getEndPost(),c=this.rangedFilter_.getStartPost();var h=this.index_.getCompare();l=function(e,t){return h(t,e)}}else i=r.getIterator(this.index_),u=this.rangedFilter_.getStartPost(),c=this.rangedFilter_.getEndPost(),l=this.index_.getCompare();o=0;var f=!1;while(i.hasNext()){a=i.getNext();!f&&l(u,a)<=0&&(f=!0);s=f&&o<this.limit_&&l(a,c)<=0;s?o++:r=r.updateImmediateChild(a.name,mn.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},e.prototype.getIndex=function(){return this.index_},e.prototype.fullLimitUpdateChild_=function(e,t,n,r,i){var a;if(this.reverse_){var s=this.index_.getCompare();a=function(e,t){return s(t,e)}}else a=this.index_.getCompare();var u=e;(0,o.hu)(u.numChildren()===this.limit_,"");var c=new Vt(t,n),l=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),h=this.rangedFilter_.matches(c);if(u.hasChild(t)){var f=u.getImmediateChild(t),d=r.getChildAfterChild(this.index_,l,this.reverse_);while(null!=d&&(d.name===t||u.hasChild(d.name)))d=r.getChildAfterChild(this.index_,d,this.reverse_);var p=null==d?1:a(d,c),v=h&&!n.isEmpty()&&p>=0;if(v)return null!=i&&i.trackChildChange(Ln(t,n,f)),u.updateImmediateChild(t,n);null!=i&&i.trackChildChange(Dn(t,f));var g=u.updateImmediateChild(t,mn.EMPTY_NODE),m=null!=d&&this.rangedFilter_.matches(d);return m?(null!=i&&i.trackChildChange(On(d.name,d.node)),g.updateImmediateChild(d.name,d.node)):g}return n.isEmpty()?e:h&&a(l,c)>=0?(null!=i&&(i.trackChildChange(Dn(l.name,l.node)),i.trackChildChange(On(t,n))),u.updateImmediateChild(t,n).updateImmediateChild(l.name,mn.EMPTY_NODE)):e},e}(),Un=function(){function e(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=hn}return e.prototype.hasStart=function(){return this.startSet_},e.prototype.hasStartAfter=function(){return this.startAfterSet_},e.prototype.hasEndBefore=function(){return this.endBeforeSet_},e.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},e.prototype.getIndexStartValue=function(){return(0,o.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},e.prototype.getIndexStartName=function(){return(0,o.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:P},e.prototype.hasEnd=function(){return this.endSet_},e.prototype.getIndexEndValue=function(){return(0,o.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},e.prototype.getIndexEndName=function(){return(0,o.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:O},e.prototype.hasLimit=function(){return this.limitSet_},e.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},e.prototype.getLimit=function(){return(0,o.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_},e.prototype.getIndex=function(){return this.index_},e.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},e.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===hn},e.prototype.copy=function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t},e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bn(e){return e.loadsAllData()?new Fn(e.getIndex()):e.hasLimit()?new jn(e):new qn(e)}function Vn(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}function Hn(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}function Gn(e,t,n){var r=e.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function zn(e,t,n){var r;if(e.index_===zt)"string"===typeof t&&(t=Rn(t)),r=Gn(e,t,n);else{var i=void 0;i=null==n?O:Rn(n),r=Gn(e,t,i)}return r.startAfterSet_=!0,r}function Kn(e,t,n){var r=e.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function $n(e,t,n){var r,i;return e.index_===zt?("string"===typeof t&&(t=Nn(t)),i=Kn(e,t,n)):(r=null==n?P:Nn(n),i=Kn(e,t,r)),i.endBeforeSet_=!0,i}function Wn(e,t){var n=e.copy();return n.index_=t,n}function Jn(e){var t,n={};return e.isDefault()||(e.index_===hn?t="$priority":e.index_===En?t="$value":e.index_===zt?t="$key":((0,o.hu)(e.index_ instanceof Tn,"Unrecognized index type!"),t=e.index_.toString()),n["orderBy"]=(0,o.Pz)(t),e.startSet_&&(n["startAt"]=(0,o.Pz)(e.indexStartValue_),e.startNameSet_&&(n["startAt"]+=","+(0,o.Pz)(e.indexStartName_))),e.endSet_&&(n["endAt"]=(0,o.Pz)(e.indexEndValue_),e.endNameSet_&&(n["endAt"]+=","+(0,o.Pz)(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?n["limitToFirst"]=e.limit_:n["limitToLast"]=e.limit_)),n}function Zn(e){var t={};if(e.startSet_&&(t["sp"]=e.indexStartValue_,e.startNameSet_&&(t["sn"]=e.indexStartName_)),e.endSet_&&(t["ep"]=e.indexEndValue_,e.endNameSet_&&(t["en"]=e.indexEndName_)),e.limitSet_){t["l"]=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t["vf"]=n}return e.index_!==hn&&(t["i"]=e.index_.toString()),t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yn=function(e){function t(t,n,r,i){var o=e.call(this)||this;return o.repoInfo_=t,o.onDataUpdate_=n,o.authTokenProvider_=r,o.appCheckTokenProvider_=i,o.log_=I("p:rest:"),o.listens_={},o}return(0,a.ZT)(t,e),t.prototype.reportStats=function(e){throw new Error("Method not implemented.")},t.getListenId_=function(e,t){return void 0!==t?"tag$"+t:((0,o.hu)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())},t.prototype.listen=function(e,n,r,i){var a=this,s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);var u=t.getListenId_(e,r),c={};this.listens_[u]=c;var l=Jn(e._queryParams);this.restRequest_(s+".json",l,(function(e,t){var n,l=t;(404===e&&(l=null,e=null),null===e&&a.onDataUpdate_(s,l,!1,r),(0,o.DV)(a.listens_,u)===c)&&(n=e?401===e?"permission_denied":"rest_error:"+e:"ok",i(n,null))}))},t.prototype.unlisten=function(e,n){var r=t.getListenId_(e,n);delete this.listens_[r]},t.prototype.get=function(e){var t=this,n=Jn(e._queryParams),r=e._path.toString(),i=new o.BH;return this.restRequest_(r+".json",n,(function(e,n){var o=n;404===e&&(o=null,e=null),null===e?(t.onDataUpdate_(r,o,!1,null),i.resolve(o)):i.reject(new Error(o))})),i.promise},t.prototype.refreshAuthToken=function(e){},t.prototype.restRequest_=function(e,t,n){var r=this;return void 0===t&&(t={}),t["format"]="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(i){var s=(0,a.CR)(i,2),u=s[0],c=s[1];u&&u.accessToken&&(t["auth"]=u.accessToken),c&&c.token&&(t["ac"]=c.token);var l=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+e+"?ns="+r.repoInfo_.namespace+(0,o.xO)(t);r.log_("Sending REST request for "+l);var h=new XMLHttpRequest;h.onreadystatechange=function(){if(n&&4===h.readyState){r.log_("REST Response for "+l+" received. status:",h.status,"response:",h.responseText);var e=null;if(h.status>=200&&h.status<300){try{e=(0,o.cI)(h.responseText)}catch(t){x("Failed to parse JSON response for "+l+": "+h.responseText)}n(null,e)}else 401!==h.status&&404!==h.status&&x("Got unsuccessful REST response for "+l+" Status: "+h.status),n(h.status);n=null}},h.open("GET",l,!0),h.send()}))},t}(ot),Qn=function(){function e(){this.rootNode_=mn.EMPTY_NODE}return e.prototype.getNode=function(e){return this.rootNode_.getChild(e)},e.prototype.updateSnapshot=function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)},e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Xn(){return{value:null,children:new Map}}function er(e,t,n){if(wt(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=ft(t);e.children.has(r)||e.children.set(r,Xn());var i=e.children.get(r);t=pt(t),er(i,t,n)}}function tr(e,t){if(wt(t))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;var n=e.value;return e.value=null,n.forEachChild(hn,(function(t,n){er(e,new lt(t),n)})),tr(e,t)}if(e.children.size>0){var r=ft(t);if(t=pt(t),e.children.has(r)){var i=tr(e.children.get(r),t);i&&e.children.delete(r)}return 0===e.children.size}return!0}function nr(e,t,n){null!==e.value?n(t,e.value):rr(e,(function(e,r){var i=new lt(t.toString()+"/"+e);nr(r,i,n)}))}function rr(e,t){e.children.forEach((function(e,n){t(n,e)}))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ir,or=function(){function e(e){this.collection_=e,this.last_=null}return e.prototype.get=function(){var e=this.collection_.get(),t=(0,a.pi)({},e);return this.last_&&j(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t},e}(),ar=1e4,sr=3e4,ur=3e5,cr=function(){function e(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new or(e);var n=ar+(sr-ar)*Math.random();Z(this.reportStats_.bind(this),Math.floor(n))}return e.prototype.reportStats_=function(){var e=this,t=this.statsListener_.get(),n={},r=!1;j(t,(function(t,i){i>0&&(0,o.r3)(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),Z(this.reportStats_.bind(this),Math.floor(2*Math.random()*ur))},e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lr(e,t){e.statsToReport_[t]=!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hr(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function fr(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function dr(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(e){e[e["OVERWRITE"]=0]="OVERWRITE",e[e["MERGE"]=1]="MERGE",e[e["ACK_USER_WRITE"]=2]="ACK_USER_WRITE",e[e["LISTEN_COMPLETE"]=3]="LISTEN_COMPLETE"})(ir||(ir={}));var pr,vr=function(){function e(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=ir.ACK_USER_WRITE,this.source=hr()}return e.prototype.operationForChild=function(t){if(wt(this.path)){if(null!=this.affectedTree.value)return(0,o.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new lt(t));return new e(ht(),n,this.revert)}return(0,o.hu)(ft(this.path)===t,"operationForChild called for unrelated child."),new e(pt(this.path),this.affectedTree,this.revert)},e}(),gr=function(){function e(e,t){this.source=e,this.path=t,this.type=ir.LISTEN_COMPLETE}return e.prototype.operationForChild=function(t){return wt(this.path)?new e(this.source,ht()):new e(this.source,pt(this.path))},e}(),mr=function(){function e(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=ir.OVERWRITE}return e.prototype.operationForChild=function(t){return wt(this.path)?new e(this.source,ht(),this.snap.getImmediateChild(t)):new e(this.source,pt(this.path),this.snap)},e}(),yr=function(){function e(e,t,n){this.source=e,this.path=t,this.children=n,this.type=ir.MERGE}return e.prototype.operationForChild=function(t){if(wt(this.path)){var n=this.children.subtree(new lt(t));return n.isEmpty()?null:n.value?new mr(this.source,ht(),n.value):new e(this.source,ht(),n)}return(0,o.hu)(ft(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,pt(this.path),this.children)},e.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},e}(),br=function(){function e(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}return e.prototype.isFullyInitialized=function(){return this.fullyInitialized_},e.prototype.isFiltered=function(){return this.filtered_},e.prototype.isCompleteForPath=function(e){if(wt(e))return this.isFullyInitialized()&&!this.filtered_;var t=ft(e);return this.isCompleteForChild(t)},e.prototype.isCompleteForChild=function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)},e.prototype.getNode=function(){return this.node_},e}(),wr=function(){function e(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}return e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _r(e,t,n,r){var i=[],o=[];return t.forEach((function(t){"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push(Mn(t.childName,t.snapshotNode))})),Tr(e,i,"child_removed",t,r,n),Tr(e,i,"child_added",t,r,n),Tr(e,i,"child_moved",o,r,n),Tr(e,i,"child_changed",t,r,n),Tr(e,i,"value",t,r,n),i}function Tr(e,t,n,r,i,o){var a=r.filter((function(e){return e.type===n}));a.sort((function(t,n){return Er(e,t,n)})),a.forEach((function(n){var r=Sr(e,n,o);i.forEach((function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function Sr(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function Er(e,t,n){if(null==t.childName||null==n.childName)throw(0,o.g5)("Should only compare child_ events.");var r=new Vt(t.childName,t.snapshotNode),i=new Vt(n.childName,n.snapshotNode);return e.index_.compare(r,i)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ir(e,t){return{eventCache:e,serverCache:t}}function kr(e,t,n,r){return Ir(new br(t,n,r),e.serverCache)}function Cr(e,t,n,r){return Ir(e.eventCache,new br(t,n,r))}function xr(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Ar(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rr=function(){return pr||(pr=new Jt(L)),pr},Nr=function(){function e(e,t){void 0===t&&(t=Rr()),this.value=e,this.children=t}return e.fromObject=function(t){var n=new e(null);return j(t,(function(e,t){n=n.set(new lt(e),t)})),n},e.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},e.prototype.findRootMostMatchingPathAndValue=function(e,t){if(null!=this.value&&t(this.value))return{path:ht(),value:this.value};if(wt(e))return null;var n=ft(e),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(pt(e),t);if(null!=i){var o=bt(new lt(n),i.path);return{path:o,value:i.value}}return null}return null},e.prototype.findRootMostValueAndPath=function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))},e.prototype.subtree=function(t){if(wt(t))return this;var n=ft(t),r=this.children.get(n);return null!==r?r.subtree(pt(t)):new e(null)},e.prototype.set=function(t,n){if(wt(t))return new e(n,this.children);var r=ft(t),i=this.children.get(r)||new e(null),o=i.set(pt(t),n),a=this.children.insert(r,o);return new e(this.value,a)},e.prototype.remove=function(t){if(wt(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=ft(t),r=this.children.get(n);if(r){var i=r.remove(pt(t)),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?new e(null):new e(this.value,o)}return this},e.prototype.get=function(e){if(wt(e))return this.value;var t=ft(e),n=this.children.get(t);return n?n.get(pt(e)):null},e.prototype.setTree=function(t,n){if(wt(t))return n;var r=ft(t),i=this.children.get(r)||new e(null),o=i.setTree(pt(t),n),a=void 0;return a=o.isEmpty()?this.children.remove(r):this.children.insert(r,o),new e(this.value,a)},e.prototype.fold=function(e){return this.fold_(ht(),e)},e.prototype.fold_=function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(bt(e,r),t)})),t(e,this.value,n)},e.prototype.findOnPath=function(e,t){return this.findOnPath_(e,ht(),t)},e.prototype.findOnPath_=function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(wt(e))return null;var i=ft(e),o=this.children.get(i);return o?o.findOnPath_(pt(e),bt(t,i),n):null},e.prototype.foreachOnPath=function(e,t){return this.foreachOnPath_(e,ht(),t)},e.prototype.foreachOnPath_=function(t,n,r){if(wt(t))return this;this.value&&r(n,this.value);var i=ft(t),o=this.children.get(i);return o?o.foreachOnPath_(pt(t),bt(n,i),r):new e(null)},e.prototype.foreach=function(e){this.foreach_(ht(),e)},e.prototype.foreach_=function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(bt(e,n),t)})),this.value&&t(e,this.value)},e.prototype.foreachChild=function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))},e}(),Pr=function(){function e(e){this.writeTree_=e}return e.empty=function(){return new e(new Nr(null))},e}();function Or(e,t,n){if(wt(t))return new Pr(new Nr(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,o=r.value,a=_t(i,t);return o=o.updateChild(a,n),new Pr(e.writeTree_.set(i,o))}var s=new Nr(n),u=e.writeTree_.setTree(t,s);return new Pr(u)}function Dr(e,t,n){var r=e;return j(n,(function(e,n){r=Or(r,bt(t,e),n)})),r}function Lr(e,t){if(wt(t))return Pr.empty();var n=e.writeTree_.setTree(t,new Nr(null));return new Pr(n)}function Mr(e,t){return null!=Fr(e,t)}function Fr(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(_t(n.path,t)):null}function qr(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(hn,(function(e,n){t.push(new Vt(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new Vt(e,n.value))})),t}function jr(e,t){if(wt(t))return e;var n=Fr(e,t);return new Pr(null!=n?new Nr(n):e.writeTree_.subtree(t))}function Ur(e){return e.writeTree_.isEmpty()}function Br(e,t){return Vr(ht(),e.writeTree_,t)}function Vr(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal((function(t,i){".priority"===t?((0,o.hu)(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=Vr(bt(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(bt(e,".priority"),r)),n}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hr(e,t){return fi(t,e)}function Gr(e,t,n,r,i){(0,o.hu)(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=Or(e.visibleWrites,t,n)),e.lastWriteId=r}function zr(e,t,n,r){(0,o.hu)(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=Dr(e.visibleWrites,t,n),e.lastWriteId=r}function Kr(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}function $r(e,t){var n=e.allWrites.findIndex((function(e){return e.writeId===t}));(0,o.hu)(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);var i=r.visible,a=!1,s=e.allWrites.length-1;while(i&&s>=0){var u=e.allWrites[s];u.visible&&(s>=n&&Wr(u,r.path)?i=!1:Et(r.path,u.path)&&(a=!0)),s--}if(i){if(a)return Jr(e),!0;if(r.snap)e.visibleWrites=Lr(e.visibleWrites,r.path);else{var c=r.children;j(c,(function(t){e.visibleWrites=Lr(e.visibleWrites,bt(r.path,t))}))}return!0}return!1}function Wr(e,t){if(e.snap)return Et(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&Et(bt(e.path,n),t))return!0;return!1}function Jr(e){e.visibleWrites=Yr(e.allWrites,Zr,ht()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function Zr(e){return e.visible}function Yr(e,t,n){for(var r=Pr.empty(),i=0;i<e.length;++i){var a=e[i];if(t(a)){var s=a.path,u=void 0;if(a.snap)Et(n,s)?(u=_t(n,s),r=Or(r,u,a.snap)):Et(s,n)&&(u=_t(s,n),r=Or(r,ht(),a.snap.getChild(u)));else{if(!a.children)throw(0,o.g5)("WriteRecord should have .snap or .children");if(Et(n,s))u=_t(n,s),r=Dr(r,u,a.children);else if(Et(s,n))if(u=_t(s,n),wt(u))r=Dr(r,ht(),a.children);else{var c=(0,o.DV)(a.children,ft(u));if(c){var l=c.getChild(pt(u));r=Or(r,ht(),l)}}}}}return r}function Qr(e,t,n,r,i){if(r||i){var o=jr(e.visibleWrites,t);if(!i&&Ur(o))return n;if(i||null!=n||Mr(o,ht())){var a=function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(Et(e.path,t)||Et(t,e.path))},s=Yr(e.allWrites,a,t);l=n||mn.EMPTY_NODE;return Br(s,l)}return null}var u=Fr(e.visibleWrites,t);if(null!=u)return u;var c=jr(e.visibleWrites,t);if(Ur(c))return n;if(null!=n||Mr(c,ht())){var l=n||mn.EMPTY_NODE;return Br(c,l)}return null}function Xr(e,t,n){var r=mn.EMPTY_NODE,i=Fr(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(hn,(function(e,t){r=r.updateImmediateChild(e,t)})),r;if(n){var o=jr(e.visibleWrites,t);return n.forEachChild(hn,(function(e,t){var n=Br(jr(o,new lt(e)),t);r=r.updateImmediateChild(e,n)})),qr(o).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}var a=jr(e.visibleWrites,t);return qr(a).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}function ei(e,t,n,r,i){(0,o.hu)(r||i,"Either existingEventSnap or existingServerSnap must exist");var a=bt(t,n);if(Mr(e.visibleWrites,a))return null;var s=jr(e.visibleWrites,a);return Ur(s)?i.getChild(n):Br(s,i.getChild(n))}function ti(e,t,n,r){var i=bt(t,n),o=Fr(e.visibleWrites,i);if(null!=o)return o;if(r.isCompleteForChild(n)){var a=jr(e.visibleWrites,i);return Br(a,r.getNode().getImmediateChild(n))}return null}function ni(e,t){return Fr(e.visibleWrites,t)}function ri(e,t,n,r,i,o,a){var s,u=jr(e.visibleWrites,t),c=Fr(u,ht());if(null!=c)s=c;else{if(null==n)return[];s=Br(u,n)}if(s=s.withIndex(a),s.isEmpty()||s.isLeafNode())return[];var l=[],h=a.getCompare(),f=o?s.getReverseIteratorFrom(r,a):s.getIteratorFrom(r,a),d=f.getNext();while(d&&l.length<i)0!==h(d,r)&&l.push(d),d=f.getNext();return l}function ii(){return{visibleWrites:Pr.empty(),allWrites:[],lastWriteId:-1}}function oi(e,t,n,r){return Qr(e.writeTree,e.treePath,t,n,r)}function ai(e,t){return Xr(e.writeTree,e.treePath,t)}function si(e,t,n,r){return ei(e.writeTree,e.treePath,t,n,r)}function ui(e,t){return ni(e.writeTree,bt(e.treePath,t))}function ci(e,t,n,r,i,o){return ri(e.writeTree,e.treePath,t,n,r,i,o)}function li(e,t,n){return ti(e.writeTree,e.treePath,t,n)}function hi(e,t){return fi(bt(e.treePath,t),e.writeTree)}function fi(e,t){return{treePath:e,writeTree:t}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var di=function(){function e(){this.changeMap=new Map}return e.prototype.trackChildChange=function(e){var t=e.type,n=e.childName;(0,o.hu)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,o.hu)(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,Ln(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,Dn(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,On(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw(0,o.g5)("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,Ln(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)},e.prototype.getChanges=function(){return Array.from(this.changeMap.values())},e}(),pi=function(){function e(){}return e.prototype.getCompleteChild=function(e){return null},e.prototype.getChildAfterChild=function(e,t,n){return null},e}(),vi=new pi,gi=function(){function e(e,t,n){void 0===n&&(n=null),this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}return e.prototype.getCompleteChild=function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new br(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return li(this.writes_,e,n)},e.prototype.getChildAfterChild=function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Ar(this.viewCache_),i=ci(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]},e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function mi(e){return{filter:e}}function yi(e,t){(0,o.hu)(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),(0,o.hu)(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function bi(e,t,n,r,i){var a,s,u=new di;if(n.type===ir.OVERWRITE){var c=n;c.source.fromUser?a=Si(e,t,c.path,c.snap,r,i,u):((0,o.hu)(c.source.fromServer,"Unknown source."),s=c.source.tagged||t.serverCache.isFiltered()&&!wt(c.path),a=Ti(e,t,c.path,c.snap,r,i,s,u))}else if(n.type===ir.MERGE){var l=n;l.source.fromUser?a=Ii(e,t,l.path,l.children,r,i,u):((0,o.hu)(l.source.fromServer,"Unknown source."),s=l.source.tagged||t.serverCache.isFiltered(),a=Ci(e,t,l.path,l.children,r,i,s,u))}else if(n.type===ir.ACK_USER_WRITE){var h=n;a=h.revert?Ri(e,t,h.path,r,i,u):xi(e,t,h.path,h.affectedTree,r,i,u)}else{if(n.type!==ir.LISTEN_COMPLETE)throw(0,o.g5)("Unknown operation type: "+n.type);a=Ai(e,t,n.path,r,u)}var f=u.getChanges();return wi(t,a,f),{viewCache:a,changes:f}}function wi(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=xr(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(Pn(xr(t)))}}function _i(e,t,n,r,i,a){var s=t.eventCache;if(null!=ui(r,n))return t;var u=void 0,c=void 0;if(wt(n))if((0,o.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var l=Ar(t),h=l instanceof mn?l:mn.EMPTY_NODE,f=ai(r,h);u=e.filter.updateFullNode(t.eventCache.getNode(),f,a)}else{var d=oi(r,Ar(t));u=e.filter.updateFullNode(t.eventCache.getNode(),d,a)}else{var p=ft(n);if(".priority"===p){(0,o.hu)(1===dt(n),"Can't have a priority with additional path components");var v=s.getNode();c=t.serverCache.getNode();var g=si(r,n,v,c);u=null!=g?e.filter.updatePriority(v,g):s.getNode()}else{var m=pt(n),y=void 0;if(s.isCompleteForChild(p)){c=t.serverCache.getNode();var b=si(r,n,s.getNode(),c);y=null!=b?s.getNode().getImmediateChild(p).updateChild(m,b):s.getNode().getImmediateChild(p)}else y=li(r,p,t.serverCache);u=null!=y?e.filter.updateChild(s.getNode(),p,y,m,i,a):s.getNode()}}return kr(t,u,s.isFullyInitialized()||wt(n),e.filter.filtersNodes())}function Ti(e,t,n,r,i,o,a,s){var u,c=t.serverCache,l=a?e.filter:e.filter.getIndexedFilter();if(wt(n))u=l.updateFullNode(c.getNode(),r,null);else if(l.filtersNodes()&&!c.isFiltered()){var h=c.getNode().updateChild(n,r);u=l.updateFullNode(c.getNode(),h,null)}else{var f=ft(n);if(!c.isCompleteForPath(n)&&dt(n)>1)return t;var d=pt(n),p=c.getNode().getImmediateChild(f),v=p.updateChild(d,r);u=".priority"===f?l.updatePriority(c.getNode(),v):l.updateChild(c.getNode(),f,v,d,vi,null)}var g=Cr(t,u,c.isFullyInitialized()||wt(n),l.filtersNodes()),m=new gi(i,g,o);return _i(e,g,n,i,m,s)}function Si(e,t,n,r,i,o,a){var s,u,c=t.eventCache,l=new gi(i,t,o);if(wt(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,a),s=kr(t,u,!0,e.filter.filtersNodes());else{var h=ft(n);if(".priority"===h)u=e.filter.updatePriority(t.eventCache.getNode(),r),s=kr(t,u,c.isFullyInitialized(),c.isFiltered());else{var f=pt(n),d=c.getNode().getImmediateChild(h),p=void 0;if(wt(f))p=r;else{var v=l.getCompleteChild(h);p=null!=v?".priority"===vt(f)&&v.getChild(yt(f)).isEmpty()?v:v.updateChild(f,r):mn.EMPTY_NODE}if(d.equals(p))s=t;else{var g=e.filter.updateChild(c.getNode(),h,p,f,l,a);s=kr(t,g,c.isFullyInitialized(),e.filter.filtersNodes())}}}return s}function Ei(e,t){return e.eventCache.isCompleteForChild(t)}function Ii(e,t,n,r,i,o,a){var s=t;return r.foreach((function(r,u){var c=bt(n,r);Ei(t,ft(c))&&(s=Si(e,s,c,u,i,o,a))})),r.foreach((function(r,u){var c=bt(n,r);Ei(t,ft(c))||(s=Si(e,s,c,u,i,o,a))})),s}function ki(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function Ci(e,t,n,r,i,o,a,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var u,c=t;u=wt(n)?r:new Nr(null).setTree(n,r);var l=t.serverCache.getNode();return u.children.inorderTraversal((function(n,r){if(l.hasChild(n)){var u=t.serverCache.getNode().getImmediateChild(n),h=ki(e,u,r);c=Ti(e,c,new lt(n),h,i,o,a,s)}})),u.children.inorderTraversal((function(n,r){var u=!t.serverCache.isCompleteForChild(n)&&void 0===r.value;if(!l.hasChild(n)&&!u){var h=t.serverCache.getNode().getImmediateChild(n),f=ki(e,h,r);c=Ti(e,c,new lt(n),f,i,o,a,s)}})),c}function xi(e,t,n,r,i,o,a){if(null!=ui(i,n))return t;var s=t.serverCache.isFiltered(),u=t.serverCache;if(null!=r.value){if(wt(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return Ti(e,t,n,u.getNode().getChild(n),i,o,s,a);if(wt(n)){var c=new Nr(null);return u.getNode().forEachChild(zt,(function(e,t){c=c.set(new lt(e),t)})),Ci(e,t,n,c,i,o,s,a)}return t}var l=new Nr(null);return r.foreach((function(e,t){var r=bt(n,e);u.isCompleteForPath(r)&&(l=l.set(e,u.getNode().getChild(r)))})),Ci(e,t,n,l,i,o,s,a)}function Ai(e,t,n,r,i){var o=t.serverCache,a=Cr(t,o.getNode(),o.isFullyInitialized()||wt(n),o.isFiltered());return _i(e,a,n,r,vi,i)}function Ri(e,t,n,r,i,a){var s;if(null!=ui(r,n))return t;var u=new gi(r,t,i),c=t.eventCache.getNode(),l=void 0;if(wt(n)||".priority"===ft(n)){var h=void 0;if(t.serverCache.isFullyInitialized())h=oi(r,Ar(t));else{var f=t.serverCache.getNode();(0,o.hu)(f instanceof mn,"serverChildren would be complete if leaf node"),h=ai(r,f)}h=h,l=e.filter.updateFullNode(c,h,a)}else{var d=ft(n),p=li(r,d,t.serverCache);null==p&&t.serverCache.isCompleteForChild(d)&&(p=c.getImmediateChild(d)),l=null!=p?e.filter.updateChild(c,d,p,pt(n),u,a):t.eventCache.getNode().hasChild(d)?e.filter.updateChild(c,d,mn.EMPTY_NODE,pt(n),u,a):c,l.isEmpty()&&t.serverCache.isFullyInitialized()&&(s=oi(r,Ar(t)),s.isLeafNode()&&(l=e.filter.updateFullNode(l,s,a)))}return s=t.serverCache.isFullyInitialized()||null!=ui(r,ht()),kr(t,l,s,e.filter.filtersNodes())}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ni,Pi=function(){function e(e,t){this.query_=e,this.eventRegistrations_=[];var n=this.query_._queryParams,r=new Fn(n.getIndex()),i=Bn(n);this.processor_=mi(i);var o=t.serverCache,a=t.eventCache,s=r.updateFullNode(mn.EMPTY_NODE,o.getNode(),null),u=i.updateFullNode(mn.EMPTY_NODE,a.getNode(),null),c=new br(s,o.isFullyInitialized(),r.filtersNodes()),l=new br(u,a.isFullyInitialized(),i.filtersNodes());this.viewCache_=Ir(l,c),this.eventGenerator_=new wr(this.query_)}return Object.defineProperty(e.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),e}();function Oi(e){return e.viewCache_.serverCache.getNode()}function Di(e){return xr(e.viewCache_)}function Li(e,t){var n=Ar(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!wt(t)&&!n.getImmediateChild(ft(t)).isEmpty())?n.getChild(t):null}function Mi(e){return 0===e.eventRegistrations_.length}function Fi(e,t){e.eventRegistrations_.push(t)}function qi(e,t,n){var r=[];if(n){(0,o.hu)(null==t,"A cancel should cancel all event registrations.");var i=e.query._path;e.eventRegistrations_.forEach((function(e){var t=e.createCancelEvent(n,i);t&&r.push(t)}))}if(t){for(var a=[],s=0;s<e.eventRegistrations_.length;++s){var u=e.eventRegistrations_[s];if(u.matches(t)){if(t.hasAnyCallback()){a=a.concat(e.eventRegistrations_.slice(s+1));break}}else a.push(u)}e.eventRegistrations_=a}else e.eventRegistrations_=[];return r}function ji(e,t,n,r){t.type===ir.MERGE&&null!==t.source.queryId&&((0,o.hu)(Ar(e.viewCache_),"We should always have a full cache before handling merges"),(0,o.hu)(xr(e.viewCache_),"Missing event cache, even though we have a server cache"));var i=e.viewCache_,a=bi(e.processor_,i,t,n,r);return yi(e.processor_,a.viewCache),(0,o.hu)(a.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=a.viewCache,Bi(e,a.changes,a.viewCache.eventCache.getNode(),null)}function Ui(e,t){var n=e.viewCache_.eventCache,r=[];if(!n.getNode().isLeafNode()){var i=n.getNode();i.forEachChild(hn,(function(e,t){r.push(On(e,t))}))}return n.isFullyInitialized()&&r.push(Pn(n.getNode())),Bi(e,r,n.getNode(),t)}function Bi(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return _r(e.eventGenerator_,t,n,i)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vi,Hi=function(){function e(){this.views=new Map}return e}();function Gi(e){(0,o.hu)(!Ni,"__referenceConstructor has already been defined"),Ni=e}function zi(){return(0,o.hu)(Ni,"Reference.ts has not been loaded"),Ni}function Ki(e){return 0===e.views.size}function $i(e,t,n,r){var i,s,u=t.source.queryId;if(null!==u){var c=e.views.get(u);return(0,o.hu)(null!=c,"SyncTree gave us an op for an invalid query."),ji(c,t,n,r)}var l=[];try{for(var h=(0,a.XA)(e.views.values()),f=h.next();!f.done;f=h.next()){c=f.value;l=l.concat(ji(c,t,n,r))}}catch(d){i={error:d}}finally{try{f&&!f.done&&(s=h.return)&&s.call(h)}finally{if(i)throw i.error}}return l}function Wi(e,t,n,r,i){var o=t._queryIdentifier,a=e.views.get(o);if(!a){var s=oi(n,i?r:null),u=!1;s?u=!0:r instanceof mn?(s=ai(n,r),u=!1):(s=mn.EMPTY_NODE,u=!1);var c=Ir(new br(s,u,!1),new br(r,i,!1));return new Pi(t,c)}return a}function Ji(e,t,n,r,i,o){var a=Wi(e,t,r,i,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,a),Fi(a,n),Ui(a,n)}function Zi(e,t,n,r){var i,o,s=t._queryIdentifier,u=[],c=[],l=to(e);if("default"===s)try{for(var h=(0,a.XA)(e.views.entries()),f=h.next();!f.done;f=h.next()){var d=(0,a.CR)(f.value,2),p=d[0],v=d[1];c=c.concat(qi(v,n,r)),Mi(v)&&(e.views.delete(p),v.query._queryParams.loadsAllData()||u.push(v.query))}}catch(g){i={error:g}}finally{try{f&&!f.done&&(o=h.return)&&o.call(h)}finally{if(i)throw i.error}}else{v=e.views.get(s);v&&(c=c.concat(qi(v,n,r)),Mi(v)&&(e.views.delete(s),v.query._queryParams.loadsAllData()||u.push(v.query)))}return l&&!to(e)&&u.push(new(zi())(t._repo,t._path)),{removed:u,events:c}}function Yi(e){var t,n,r=[];try{for(var i=(0,a.XA)(e.views.values()),o=i.next();!o.done;o=i.next()){var s=o.value;s.query._queryParams.loadsAllData()||r.push(s)}}catch(u){t={error:u}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}function Qi(e,t){var n,r,i=null;try{for(var o=(0,a.XA)(e.views.values()),s=o.next();!s.done;s=o.next()){var u=s.value;i=i||Li(u,t)}}catch(c){n={error:c}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i}function Xi(e,t){var n=t._queryParams;if(n.loadsAllData())return no(e);var r=t._queryIdentifier;return e.views.get(r)}function eo(e,t){return null!=Xi(e,t)}function to(e){return null!=no(e)}function no(e){var t,n;try{for(var r=(0,a.XA)(e.views.values()),i=r.next();!i.done;i=r.next()){var o=i.value;if(o.query._queryParams.loadsAllData())return o}}catch(s){t={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return null}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ro(e){(0,o.hu)(!Vi,"__referenceConstructor has already been defined"),Vi=e}function io(){return(0,o.hu)(Vi,"Reference.ts has not been loaded"),Vi}var oo=1,ao=function(){function e(e){this.listenProvider_=e,this.syncPointTree_=new Nr(null),this.pendingWriteTree_=ii(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}return e}();function so(e,t,n,r,i){return Gr(e.pendingWriteTree_,t,n,r,i),i?_o(e,new mr(hr(),t,n)):[]}function uo(e,t,n,r){zr(e.pendingWriteTree_,t,n,r);var i=Nr.fromObject(n);return _o(e,new yr(hr(),t,i))}function co(e,t,n){void 0===n&&(n=!1);var r=Kr(e.pendingWriteTree_,t),i=$r(e.pendingWriteTree_,t);if(i){var o=new Nr(null);return null!=r.snap?o=o.set(ht(),!0):j(r.children,(function(e){o=o.set(new lt(e),!0)})),_o(e,new vr(r.path,o,n))}return[]}function lo(e,t,n){return _o(e,new mr(fr(),t,n))}function ho(e,t,n){var r=Nr.fromObject(n);return _o(e,new yr(fr(),t,r))}function fo(e,t){return _o(e,new gr(fr(),t))}function po(e,t,n){var r=Co(e,n);if(r){var i=xo(r),o=i.path,a=i.queryId,s=_t(o,t),u=new gr(dr(a),s);return Ao(e,o,u)}return[]}function vo(e,t,n,r){var i=t._path,o=e.syncPointTree_.get(i),a=[];if(o&&("default"===t._queryIdentifier||eo(o,t))){var s=Zi(o,t,n,r);Ki(o)&&(e.syncPointTree_=e.syncPointTree_.remove(i));var u=s.removed;a=s.events;var c=-1!==u.findIndex((function(e){return e._queryParams.loadsAllData()})),l=e.syncPointTree_.findOnPath(i,(function(e,t){return to(t)}));if(c&&!l){var h=e.syncPointTree_.subtree(i);if(!h.isEmpty())for(var f=Ro(h),d=0;d<f.length;++d){var p=f[d],v=p.query,g=Eo(e,p);e.listenProvider_.startListening(No(v),Io(e,v),g.hashFn,g.onComplete)}}if(!l&&u.length>0&&!r)if(c){var m=null;e.listenProvider_.stopListening(No(t),m)}else u.forEach((function(t){var n=e.queryToTagMap.get(ko(t));e.listenProvider_.stopListening(No(t),n)}));Po(e,u)}return a}function go(e,t,n,r){var i=Co(e,r);if(null!=i){var o=xo(i),a=o.path,s=o.queryId,u=_t(a,t),c=new mr(dr(s),u,n);return Ao(e,a,c)}return[]}function mo(e,t,n,r){var i=Co(e,r);if(i){var o=xo(i),a=o.path,s=o.queryId,u=_t(a,t),c=Nr.fromObject(n),l=new yr(dr(s),u,c);return Ao(e,a,l)}return[]}function yo(e,t,n){var r=t._path,i=null,a=!1;e.syncPointTree_.foreachOnPath(r,(function(e,t){var n=_t(e,r);i=i||Qi(t,n),a=a||to(t)}));var s,u=e.syncPointTree_.get(r);if(u?(a=a||to(u),i=i||Qi(u,ht())):(u=new Hi,e.syncPointTree_=e.syncPointTree_.set(r,u)),null!=i)s=!0;else{s=!1,i=mn.EMPTY_NODE;var c=e.syncPointTree_.subtree(r);c.foreachChild((function(e,t){var n=Qi(t,ht());n&&(i=i.updateImmediateChild(e,n))}))}var l=eo(u,t);if(!l&&!t._queryParams.loadsAllData()){var h=ko(t);(0,o.hu)(!e.queryToTagMap.has(h),"View does not exist, but we have a tag");var f=Oo();e.queryToTagMap.set(h,f),e.tagToQueryMap.set(f,h)}var d=Hr(e.pendingWriteTree_,r),p=Ji(u,t,n,d,i,s);if(!l&&!a){var v=Xi(u,t);p=p.concat(Do(e,t,v))}return p}function bo(e,t,n){var r=!0,i=e.pendingWriteTree_,o=e.syncPointTree_.findOnPath(t,(function(e,n){var r=_t(e,t),i=Qi(n,r);if(i)return i}));return Qr(i,t,o,n,r)}function wo(e,t){var n=t._path,r=null;e.syncPointTree_.foreachOnPath(n,(function(e,t){var i=_t(e,n);r=r||Qi(t,i)}));var i=e.syncPointTree_.get(n);i?r=r||Qi(i,ht()):(i=new Hi,e.syncPointTree_=e.syncPointTree_.set(n,i));var o=null!=r,a=o?new br(r,!0,!1):null,s=Hr(e.pendingWriteTree_,t._path),u=Wi(i,t,s,o?a.getNode():mn.EMPTY_NODE,o);return Di(u)}function _o(e,t){return To(t,e.syncPointTree_,null,Hr(e.pendingWriteTree_,ht()))}function To(e,t,n,r){if(wt(e.path))return So(e,t,n,r);var i=t.get(ht());null==n&&null!=i&&(n=Qi(i,ht()));var o=[],a=ft(e.path),s=e.operationForChild(a),u=t.children.get(a);if(u&&s){var c=n?n.getImmediateChild(a):null,l=hi(r,a);o=o.concat(To(s,u,c,l))}return i&&(o=o.concat($i(i,e,r,n))),o}function So(e,t,n,r){var i=t.get(ht());null==n&&null!=i&&(n=Qi(i,ht()));var o=[];return t.children.inorderTraversal((function(t,i){var a=n?n.getImmediateChild(t):null,s=hi(r,t),u=e.operationForChild(t);u&&(o=o.concat(So(u,i,a,s)))})),i&&(o=o.concat($i(i,e,r,n))),o}function Eo(e,t){var n=t.query,r=Io(e,n);return{hashFn:function(){var e=Oi(t)||mn.EMPTY_NODE;return e.hash()},onComplete:function(t){if("ok"===t)return r?po(e,n._path,r):fo(e,n._path);var i=H(t,n);return vo(e,n,null,i)}}}function Io(e,t){var n=ko(t);return e.queryToTagMap.get(n)}function ko(e){return e._path.toString()+"$"+e._queryIdentifier}function Co(e,t){return e.tagToQueryMap.get(t)}function xo(e){var t=e.indexOf("$");return(0,o.hu)(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new lt(e.substr(0,t))}}function Ao(e,t,n){var r=e.syncPointTree_.get(t);(0,o.hu)(r,"Missing sync point for query tag that we're tracking");var i=Hr(e.pendingWriteTree_,t);return $i(r,n,i,null)}function Ro(e){return e.fold((function(e,t,n){if(t&&to(t)){var r=no(t);return[r]}var i=[];return t&&(i=Yi(t)),j(n,(function(e,t){i=i.concat(t)})),i}))}function No(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(io())(e._repo,e._path):e}function Po(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!r._queryParams.loadsAllData()){var i=ko(r),o=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(o)}}}function Oo(){return oo++}function Do(e,t,n){var r=t._path,i=Io(e,t),a=Eo(e,n),s=e.listenProvider_.startListening(No(t),i,a.hashFn,a.onComplete),u=e.syncPointTree_.subtree(r);if(i)(0,o.hu)(!to(u.value),"If we're adding a query, it shouldn't be shadowed");else for(var c=u.fold((function(e,t,n){if(!wt(e)&&t&&to(t))return[no(t).query];var r=[];return t&&(r=r.concat(Yi(t).map((function(e){return e.query})))),j(n,(function(e,t){r=r.concat(t)})),r})),l=0;l<c.length;++l){var h=c[l];e.listenProvider_.stopListening(No(h),Io(e,h))}return s}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lo=function(){function e(e){this.node_=e}return e.prototype.getImmediateChild=function(t){var n=this.node_.getImmediateChild(t);return new e(n)},e.prototype.node=function(){return this.node_},e}(),Mo=function(){function e(e,t){this.syncTree_=e,this.path_=t}return e.prototype.getImmediateChild=function(t){var n=bt(this.path_,t);return new e(this.syncTree_,n)},e.prototype.node=function(){return bo(this.syncTree_,this.path_)},e}(),Fo=function(e){return e=e||{},e["timestamp"]=e["timestamp"]||(new Date).getTime(),e},qo=function(e,t,n){return e&&"object"===typeof e?((0,o.hu)(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?jo(e[".sv"],t,n):"object"===typeof e[".sv"]?Uo(e[".sv"],t):void(0,o.hu)(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},jo=function(e,t,n){switch(e){case"timestamp":return n["timestamp"];default:(0,o.hu)(!1,"Unexpected server value: "+e)}},Uo=function(e,t,n){e.hasOwnProperty("increment")||(0,o.hu)(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e["increment"];"number"!==typeof r&&(0,o.hu)(!1,"Unexpected increment value: "+r);var i=t.node();if((0,o.hu)(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var a=i,s=a.getValue();return"number"!==typeof s?r:s+r},Bo=function(e,t,n,r){return Ho(t,new Mo(n,e),r)},Vo=function(e,t,n){return Ho(e,new Lo(t),n)};function Ho(e,t,n){var r,i=e.getPriority().val(),o=qo(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var a=e,s=qo(a.getValue(),t,n);return s!==a.getValue()||o!==a.getPriority().val()?new on(s,_n(o)):e}var u=e;return r=u,o!==u.getPriority().val()&&(r=r.updatePriority(new on(o))),u.forEachChild(hn,(function(e,i){var o=Ho(i,t.getImmediateChild(e),n);o!==i&&(r=r.updateImmediateChild(e,o))})),r}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Go=function(){function e(e,t,n){void 0===e&&(e=""),void 0===t&&(t=null),void 0===n&&(n={children:{},childCount:0}),this.name=e,this.parent=t,this.node=n}return e}();function zo(e,t){var n=t instanceof lt?t:new lt(t),r=e,i=ft(n);while(null!==i){var a=(0,o.DV)(r.node.children,i)||{children:{},childCount:0};r=new Go(i,r,a),n=pt(n),i=ft(n)}return r}function Ko(e){return e.node.value}function $o(e,t){e.node.value=t,ea(e)}function Wo(e){return e.node.childCount>0}function Jo(e){return void 0===Ko(e)&&!Wo(e)}function Zo(e,t){j(e.node.children,(function(n,r){t(new Go(n,e,r))}))}function Yo(e,t,n,r){n&&!r&&t(e),Zo(e,(function(e){Yo(e,t,!0,r)})),n&&r&&t(e)}function Qo(e,t,n){var r=n?e:e.parent;while(null!==r){if(t(r))return!0;r=r.parent}return!1}function Xo(e){return new lt(null===e.parent?e.name:Xo(e.parent)+"/"+e.name)}function ea(e){null!==e.parent&&ta(e.parent,e.name,e)}function ta(e,t,n){var r=Jo(n),i=(0,o.r3)(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,ea(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,ea(e))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var na=/[\[\].#$\/\u0000-\u001F\u007F]/,ra=/[\[\].#$\u0000-\u001F\u007F]/,ia=10485760,oa=function(e){return"string"===typeof e&&0!==e.length&&!na.test(e)},aa=function(e){return"string"===typeof e&&0!==e.length&&!ra.test(e)},sa=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),aa(e)},ua=function(e){return null===e||"string"===typeof e||"number"===typeof e&&!R(e)||e&&"object"===typeof e&&(0,o.r3)(e,".sv")},ca=function(e,t,n,r){r&&void 0===t||la((0,o.gK)(e,"value"),t,n)},la=function(e,t,n){var r=n instanceof lt?new It(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+At(r));if("function"===typeof t)throw new Error(e+"contains a function "+At(r)+" with contents = "+t.toString());if(R(t))throw new Error(e+"contains "+t.toString()+" "+At(r));if("string"===typeof t&&t.length>ia/3&&(0,o.ug)(t)>ia)throw new Error(e+"contains a string greater than "+ia+" utf8 bytes "+At(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"===typeof t){var i=!1,a=!1;if(j(t,(function(t,n){if(".value"===t)i=!0;else if(".priority"!==t&&".sv"!==t&&(a=!0,!oa(t)))throw new Error(e+" contains an invalid key ("+t+") "+At(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');kt(r,t),la(e,n,r),Ct(r)})),i&&a)throw new Error(e+' contains ".value" child '+At(r)+" in addition to actual children.")}},ha=function(e,t){var n,r;for(n=0;n<t.length;n++){r=t[n];for(var i=mt(r),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!oa(i[o]))throw new Error(e+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(Tt);var a=null;for(n=0;n<t.length;n++){if(r=t[n],null!==a&&Et(a,r))throw new Error(e+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}},fa=function(e,t,n,r){if(!r||void 0!==t){var i=(0,o.gK)(e,"values");if(!t||"object"!==typeof t||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");var a=[];j(t,(function(e,t){var r=new lt(e);if(la(i,t,bt(n,r)),".priority"===vt(r)&&!ua(t))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(r)})),ha(i,a)}},da=function(e,t,n){if(!n||void 0!==t){if(R(t))throw new Error((0,o.gK)(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!ua(t))throw new Error((0,o.gK)(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},pa=function(e,t,n){if(!n||void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,o.gK)(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},va=function(e,t,n,r){if((!r||void 0!==n)&&!oa(n))throw new Error((0,o.gK)(e,t)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},ga=function(e,t,n,r){if((!r||void 0!==n)&&!aa(n))throw new Error((0,o.gK)(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},ma=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),ga(e,t,n,r)},ya=function(e,t){if(".info"===ft(t))throw new Error(e+" failed = Can't modify data under /.info/")},ba=function(e,t){var n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!oa(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!sa(n))throw new Error((0,o.gK)(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},wa=function(e,t,n,r){if((!r||void 0!==n)&&"boolean"!==typeof n)throw new Error((0,o.gK)(e,t)+"must be a boolean.")},_a=function(){function e(){this.eventLists_=[],this.recursionDepth_=0}return e}();function Ta(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],o=i.getPath();null===n||St(o,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function Sa(e,t,n){Ta(e,n),Ia(e,(function(e){return St(e,t)}))}function Ea(e,t,n){Ta(e,n),Ia(e,(function(e){return Et(e,t)||Et(t,e)}))}function Ia(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i){var o=i.path;t(o)?(ka(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function ka(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();_&&E("event: "+n.toString()),W(r)}}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ca="repo_interrupt",xa=25,Aa=function(){function e(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new _a,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Xn(),this.transactionQueueTree_=new Go,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return e.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},e}();function Ra(e,t,n){if(e.stats_=me(e.repoInfo_),e.forceRestClient_||J())e.server_=new Yn(e.repoInfo_,(function(t,n,r,i){Oa(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((function(){return La(e,!0)}),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,o.Pz)(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new Bt(e.repoInfo_,t,(function(t,n,r,i){Oa(e,t,n,r,i)}),(function(t){La(e,t)}),(function(t){Ma(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((function(t){e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=ye(e.repoInfo_,(function(){return new cr(e.stats_,e.server_)})),e.infoData_=new Qn,e.infoSyncTree_=new ao({startListening:function(t,n,r,i){var o=[],a=e.infoData_.getNode(t._path);return a.isEmpty()||(o=lo(e.infoSyncTree_,t._path,a),setTimeout((function(){i("ok")}),0)),o},stopListening:function(){}}),Fa(e,"connected",!1),e.serverSyncTree_=new ao({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,(function(n,r){var o=i(n,r);Ea(e.eventQueue_,t._path,o)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}function Na(e){var t=e.infoData_.getNode(new lt(".info/serverTimeOffset")),n=t.val()||0;return(new Date).getTime()+n}function Pa(e){return Fo({timestamp:Na(e)})}function Oa(e,t,n,r,i){e.dataUpdateCount++;var a=new lt(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var s=[];if(i)if(r){var u=(0,o.UI)(n,(function(e){return _n(e)}));s=mo(e.serverSyncTree_,a,u,i)}else{var c=_n(n);s=go(e.serverSyncTree_,a,c,i)}else if(r){var l=(0,o.UI)(n,(function(e){return _n(e)}));s=ho(e.serverSyncTree_,a,l)}else{var h=_n(n);s=lo(e.serverSyncTree_,a,h)}var f=a;s.length>0&&(f=os(e,a)),Ea(e.eventQueue_,f,s)}function Da(e,t){e.interceptServerDataCallback_=t}function La(e,t){Fa(e,"connected",t),!1===t&&Va(e)}function Ma(e,t){j(t,(function(t,n){Fa(e,t,n)}))}function Fa(e,t,n){var r=new lt("/.info/"+t),i=_n(n);e.infoData_.updateSnapshot(r,i);var o=lo(e.infoSyncTree_,r,i);Ea(e.eventQueue_,r,o)}function qa(e){return e.nextWriteId_++}function ja(e,t){var n=wo(e.serverSyncTree_,t);return null!=n?Promise.resolve(n):e.server_.get(t).then((function(n){var r=_n(n).withIndex(t._queryParams.getIndex()),i=lo(e.serverSyncTree_,t._path,r);return Sa(e.eventQueue_,t._path,i),Promise.resolve(r)}),(function(n){return Xa(e,"get for query "+(0,o.Pz)(t)+" failed: "+n),Promise.reject(new Error(n))}))}function Ua(e,t,n,r,i){Xa(e,"set",{path:t.toString(),value:n,priority:r});var o=Pa(e),a=_n(n,r),s=bo(e.serverSyncTree_,t),u=Vo(a,s,o),c=qa(e),l=so(e.serverSyncTree_,t,u,c,!0);Ta(e.eventQueue_,l),e.server_.put(t.toString(),a.val(!0),(function(n,r){var o="ok"===n;o||x("set at "+t+" failed: "+n);var a=co(e.serverSyncTree_,c,!o);Ea(e.eventQueue_,t,a),es(e,i,n,r)}));var h=hs(e,t);os(e,h),Ea(e.eventQueue_,h,[])}function Ba(e,t,n,r){Xa(e,"update",{path:t.toString(),value:n});var i=!0,o=Pa(e),a={};if(j(n,(function(n,r){i=!1,a[n]=Bo(bt(t,n),_n(r),e.serverSyncTree_,o)})),i)E("update() called with empty data.  Don't do anything."),es(e,r,"ok",void 0);else{var s=qa(e),u=uo(e.serverSyncTree_,t,a,s);Ta(e.eventQueue_,u),e.server_.merge(t.toString(),n,(function(n,i){var o="ok"===n;o||x("update at "+t+" failed: "+n);var a=co(e.serverSyncTree_,s,!o),u=a.length>0?os(e,t):t;Ea(e.eventQueue_,u,a),es(e,r,n,i)})),j(n,(function(n){var r=hs(e,bt(t,n));os(e,r)})),Ea(e.eventQueue_,t,[])}}function Va(e){Xa(e,"onDisconnectEvents");var t=Pa(e),n=Xn();nr(e.onDisconnect_,ht(),(function(r,i){var o=Bo(r,i,e.serverSyncTree_,t);er(n,r,o)}));var r=[];nr(n,ht(),(function(t,n){r=r.concat(lo(e.serverSyncTree_,t,n));var i=hs(e,t);os(e,i)})),e.onDisconnect_=Xn(),Ea(e.eventQueue_,ht(),r)}function Ha(e,t,n){e.server_.onDisconnectCancel(t.toString(),(function(r,i){"ok"===r&&tr(e.onDisconnect_,t),es(e,n,r,i)}))}function Ga(e,t,n,r){var i=_n(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),(function(n,o){"ok"===n&&er(e.onDisconnect_,t,i),es(e,r,n,o)}))}function za(e,t,n,r,i){var o=_n(n,r);e.server_.onDisconnectPut(t.toString(),o.val(!0),(function(n,r){"ok"===n&&er(e.onDisconnect_,t,o),es(e,i,n,r)}))}function Ka(e,t,n,r){if((0,o.xb)(n))return E("onDisconnect().update() called with empty data.  Don't do anything."),void es(e,r,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,(function(i,o){"ok"===i&&j(n,(function(n,r){var i=_n(r);er(e.onDisconnect_,bt(t,n),i)})),es(e,r,i,o)}))}function $a(e,t,n){var r;r=".info"===ft(t._path)?yo(e.infoSyncTree_,t,n):yo(e.serverSyncTree_,t,n),Sa(e.eventQueue_,t._path,r)}function Wa(e,t,n){var r;r=".info"===ft(t._path)?vo(e.infoSyncTree_,t,n):vo(e.serverSyncTree_,t,n),Sa(e.eventQueue_,t._path,r)}function Ja(e){e.persistentConnection_&&e.persistentConnection_.interrupt(Ca)}function Za(e){e.persistentConnection_&&e.persistentConnection_.resume(Ca)}function Ya(e,t){if(void 0===t&&(t=!1),"undefined"!==typeof console){var n;t?(e.statsListener_||(e.statsListener_=new or(e.stats_)),n=e.statsListener_.get()):n=e.stats_.get();var r=Object.keys(n).reduce((function(e,t){return Math.max(t.length,e)}),0);j(n,(function(e,t){for(var n=e,i=e.length;i<r+2;i++)n+=" ";console.log(n+t)}))}}function Qa(e,t){e.stats_.incrementCounter(t),lr(e.statsReporter_,t)}function Xa(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r="";e.persistentConnection_&&(r=e.persistentConnection_.id+":"),E.apply(void 0,(0,a.ev)([r],(0,a.CR)(t)))}function es(e,t,n,r){t&&W((function(){if("ok"===n)t(null);else{var e=(n||"error").toUpperCase(),i=e;r&&(i+=": "+r);var o=new Error(i);o.code=e,t(o)}}))}function ts(e,t,n,r,i,a){Xa(e,"transaction on "+t);var s={path:t,update:n,onComplete:r,status:null,order:y(),applyLocally:a,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},u=ns(e,t,void 0);s.currentInputSnapshot=u;var c=s.update(u.val());if(void 0===c)s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete&&s.onComplete(null,!1,s.currentInputSnapshot);else{la("transaction failed: Data returned ",c,s.path),s.status=0;var l=zo(e.transactionQueueTree_,t),h=Ko(l)||[];h.push(s),$o(l,h);var f=void 0;if("object"===typeof c&&null!==c&&(0,o.r3)(c,".priority"))f=(0,o.DV)(c,".priority"),(0,o.hu)(ua(f),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.");else{var d=bo(e.serverSyncTree_,t)||mn.EMPTY_NODE;f=d.getPriority().val()}var p=Pa(e),v=_n(c,f),g=Vo(v,u,p);s.currentOutputSnapshotRaw=v,s.currentOutputSnapshotResolved=g,s.currentWriteId=qa(e);var m=so(e.serverSyncTree_,t,g,s.currentWriteId,s.applyLocally);Ea(e.eventQueue_,t,m),rs(e,e.transactionQueueTree_)}}function ns(e,t,n){return bo(e.serverSyncTree_,t,n)||mn.EMPTY_NODE}function rs(e,t){if(void 0===t&&(t=e.transactionQueueTree_),t||ls(e,t),Ko(t)){var n=us(e,t);(0,o.hu)(n.length>0,"Sending zero length transaction queue");var r=n.every((function(e){return 0===e.status}));r&&is(e,Xo(t),n)}else Wo(t)&&Zo(t,(function(t){rs(e,t)}))}function is(e,t,n){for(var r=n.map((function(e){return e.currentWriteId})),i=ns(e,t,r),a=i,s=i.hash(),u=0;u<n.length;u++){var c=n[u];(0,o.hu)(0===c.status,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;var l=_t(t,c.path);a=a.updateChild(l,c.currentOutputSnapshotRaw)}var h=a.val(!0),f=t;e.server_.put(f.toString(),h,(function(r){Xa(e,"transaction put response",{path:f.toString(),status:r});var i=[];if("ok"===r){for(var o=[],a=function(t){n[t].status=2,i=i.concat(co(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&o.push((function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)})),n[t].unwatcher()},s=0;s<n.length;s++)a(s);ls(e,zo(e.transactionQueueTree_,t)),rs(e,e.transactionQueueTree_),Ea(e.eventQueue_,t,i);for(s=0;s<o.length;s++)W(o[s])}else{if("datastale"===r)for(s=0;s<n.length;s++)3===n[s].status?n[s].status=4:n[s].status=0;else{x("transaction at "+f.toString()+" failed: "+r);for(s=0;s<n.length;s++)n[s].status=4,n[s].abortReason=r}os(e,t)}}),s)}function os(e,t){var n=ss(e,t),r=Xo(n),i=us(e,n);return as(e,i,r),r}function as(e,t,n){if(0!==t.length){for(var r=[],i=[],a=t.filter((function(e){return 0===e.status})),s=a.map((function(e){return e.currentWriteId})),u=function(a){var u,c=t[a],l=_t(n,c.path),h=!1;if((0,o.hu)(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===c.status)h=!0,u=c.abortReason,i=i.concat(co(e.serverSyncTree_,c.currentWriteId,!0));else if(0===c.status)if(c.retryCount>=xa)h=!0,u="maxretry",i=i.concat(co(e.serverSyncTree_,c.currentWriteId,!0));else{var f=ns(e,c.path,s);c.currentInputSnapshot=f;var d=t[a].update(f.val());if(void 0!==d){la("transaction failed: Data returned ",d,c.path);var p=_n(d),v="object"===typeof d&&null!=d&&(0,o.r3)(d,".priority");v||(p=p.updatePriority(f.getPriority()));var g=c.currentWriteId,m=Pa(e),y=Vo(p,f,m);c.currentOutputSnapshotRaw=p,c.currentOutputSnapshotResolved=y,c.currentWriteId=qa(e),s.splice(s.indexOf(g),1),i=i.concat(so(e.serverSyncTree_,c.path,y,c.currentWriteId,c.applyLocally)),i=i.concat(co(e.serverSyncTree_,g,!0))}else h=!0,u="nodata",i=i.concat(co(e.serverSyncTree_,c.currentWriteId,!0))}Ea(e.eventQueue_,n,i),i=[],h&&(t[a].status=2,function(e){setTimeout(e,Math.floor(0))}(t[a].unwatcher),t[a].onComplete&&("nodata"===u?r.push((function(){return t[a].onComplete(null,!1,t[a].currentInputSnapshot)})):r.push((function(){return t[a].onComplete(new Error(u),!1,null)}))))},c=0;c<t.length;c++)u(c);ls(e,e.transactionQueueTree_);for(c=0;c<r.length;c++)W(r[c]);rs(e,e.transactionQueueTree_)}}function ss(e,t){var n,r=e.transactionQueueTree_;n=ft(t);while(null!==n&&void 0===Ko(r))r=zo(r,n),t=pt(t),n=ft(t);return r}function us(e,t){var n=[];return cs(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function cs(e,t,n){var r=Ko(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);Zo(t,(function(t){cs(e,t,n)}))}function ls(e,t){var n=Ko(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,$o(t,n.length>0?n:void 0)}Zo(t,(function(t){ls(e,t)}))}function hs(e,t){var n=Xo(ss(e,t)),r=zo(e.transactionQueueTree_,t);return Qo(r,(function(t){fs(e,t)})),fs(e,r),Yo(r,(function(t){fs(e,t)})),n}function fs(e,t){var n=Ko(t);if(n){for(var r=[],i=[],a=-1,s=0;s<n.length;s++)3===n[s].status||(1===n[s].status?((0,o.hu)(a===s-1,"All SENT items should be at beginning of queue."),a=s,n[s].status=3,n[s].abortReason="set"):((0,o.hu)(0===n[s].status,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(co(e.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));-1===a?$o(t,void 0):n.length=a+1,Ea(e.eventQueue_,Xo(t),i);for(s=0;s<r.length;s++)W(r[s])}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ds(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(o){}t+="/"+i}return t}function ps(e){var t,n,r={};"?"===e.charAt(0)&&(e=e.substring(1));try{for(var i=(0,a.XA)(e.split("&")),o=i.next();!o.done;o=i.next()){var s=o.value;if(0!==s.length){var u=s.split("=");2===u.length?r[decodeURIComponent(u[0])]=decodeURIComponent(u[1]):x("Invalid query segment '"+s+"' in query '"+e+"'")}}}catch(c){t={error:c}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}var vs=function(e,t){var n=gs(e),r=n.namespace;"firebase.com"===n.domain&&C(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||C("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||A();var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new he(n.host,n.secure,r,t,i,"",r!==n.subdomain),path:new lt(n.pathString)}},gs=function(e){var t="",n="",r="",i="",o="",a=!0,s="https",u=443;if("string"===typeof e){var c=e.indexOf("//");c>=0&&(s=e.substring(0,c-1),e=e.substring(c+2));var l=e.indexOf("/");-1===l&&(l=e.length);var h=e.indexOf("?");-1===h&&(h=e.length),t=e.substring(0,Math.min(l,h)),l<h&&(i=ds(e.substring(l,h)));var f=ps(e.substring(Math.min(e.length,h)));c=t.indexOf(":"),c>=0?(a="https"===s||"wss"===s,u=parseInt(t.substring(c+1),10)):c=t.length;var d=t.slice(0,c);if("localhost"===d.toLowerCase())n="localhost";else if(d.split(".").length<=2)n=d;else{var p=t.indexOf(".");r=t.substring(0,p).toLowerCase(),n=t.substring(p+1),o=r}"ns"in f&&(o=f["ns"])}return{host:t,port:u,domain:n,subdomain:r,secure:a,scheme:s,pathString:i,namespace:o}},ms=function(){function e(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}return e.prototype.getPath=function(){var e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path},e.prototype.getEventType=function(){return this.eventType},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+(0,o.Pz)(this.snapshot.exportVal())},e}(),ys=function(){function e(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}return e.prototype.getPath=function(){return this.path},e.prototype.getEventType=function(){return"cancel"},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.path.toString()+":cancel"},e}(),bs=function(){function e(e,t){this.snapshotCallback=e,this.cancelCallback=t}return e.prototype.onValue=function(e,t){this.snapshotCallback.call(null,e,t)},e.prototype.onCancel=function(e){return(0,o.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)},Object.defineProperty(e.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),e.prototype.matches=function(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context},e}(),ws=function(){function e(e,t){this._repo=e,this._path=t}return e.prototype.cancel=function(){var e=new o.BH;return Ha(this._repo,this._path,e.wrapCallback((function(){}))),e.promise},e.prototype.remove=function(){ya("OnDisconnect.remove",this._path);var e=new o.BH;return Ga(this._repo,this._path,null,e.wrapCallback((function(){}))),e.promise},e.prototype.set=function(e){ya("OnDisconnect.set",this._path),ca("OnDisconnect.set",e,this._path,!1);var t=new o.BH;return Ga(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise},e.prototype.setWithPriority=function(e,t){ya("OnDisconnect.setWithPriority",this._path),ca("OnDisconnect.setWithPriority",e,this._path,!1),da("OnDisconnect.setWithPriority",t,!1);var n=new o.BH;return za(this._repo,this._path,e,t,n.wrapCallback((function(){}))),n.promise},e.prototype.update=function(e){ya("OnDisconnect.update",this._path),fa("OnDisconnect.update",e,this._path,!1);var t=new o.BH;return Ka(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise},e}(),_s=function(){function e(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}return Object.defineProperty(e.prototype,"key",{get:function(){return wt(this._path)?null:vt(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new Is(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryIdentifier",{get:function(){var e=Zn(this._queryParams),t=F(e);return"{}"===t?"default":t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryObject",{get:function(){return Zn(this._queryParams)},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(t=(0,o.m9)(t),!(t instanceof e))return!1;var n=this._repo===t._repo,r=St(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i},e.prototype.toJSON=function(){return this.toString()},e.prototype.toString=function(){return this._repo.toString()+gt(this._path)},e}();function Ts(e,t){if(!0===e._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function Ss(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===zt){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){var a=e.getIndexStartName();if(a!==P)throw new Error(r);if("string"!==typeof t)throw new Error(i)}if(e.hasEnd()){var s=e.getIndexEndName();if(s!==O)throw new Error(r);if("string"!==typeof n)throw new Error(i)}}else if(e.getIndex()===hn){if(null!=t&&!ua(t)||null!=n&&!ua(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,o.hu)(e.getIndex()instanceof Tn||e.getIndex()===En,"unknown index type."),null!=t&&"object"===typeof t||null!=n&&"object"===typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Es(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var Is=function(e){function t(t,n){return e.call(this,t,n,new Un,!1)||this}return(0,a.ZT)(t,e),Object.defineProperty(t.prototype,"parent",{get:function(){var e=yt(this._path);return null===e?null:new t(this._repo,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){var e=this;while(null!==e.parent)e=e.parent;return e},enumerable:!1,configurable:!0}),t}(_s),ks=function(){function e(e,t,n){this._node=e,this.ref=t,this._index=n}return Object.defineProperty(e.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),e.prototype.child=function(t){var n=new lt(t),r=As(this.ref,t);return new e(this._node.getChild(n),r,hn)},e.prototype.exists=function(){return!this._node.isEmpty()},e.prototype.exportVal=function(){return this._node.val(!0)},e.prototype.forEach=function(t){var n=this;if(this._node.isLeafNode())return!1;var r=this._node;return!!r.forEachChild(this._index,(function(r,i){return t(new e(i,As(n.ref,r),hn))}))},e.prototype.hasChild=function(e){var t=new lt(e);return!this._node.getChild(t).isEmpty()},e.prototype.hasChildren=function(){return!this._node.isLeafNode()&&!this._node.isEmpty()},e.prototype.toJSON=function(){return this.exportVal()},e.prototype.val=function(){return this._node.val()},e}();function Cs(e,t){return e=(0,o.m9)(e),e._checkNotDeleted("ref"),void 0!==t?As(e._root,t):e._root}function xs(e,t){e=(0,o.m9)(e),e._checkNotDeleted("refFromURL");var n=vs(t,e._repo.repoInfo_.nodeAdmin);ba("refFromURL",n);var r=n.repoInfo;return e._repo.repoInfo_.isCustomHost()||r.host===e._repo.repoInfo_.host||C("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+e._repo.repoInfo_.host+")"),Cs(e,n.path.toString())}function As(e,t){return e=(0,o.m9)(e),null===ft(e._path)?ma("child","path",t,!1):ga("child","path",t,!1),new Is(e._repo,bt(e._path,t))}function Rs(e,t){e=(0,o.m9)(e),ya("push",e._path),ca("push",t,e._path,!0);var n,r=Na(e._repo),i=An(r),a=As(e,i),s=As(e,i);return n=null!=t?Ps(s,t).then((function(){return s})):Promise.resolve(s),a.then=n.then.bind(n),a.catch=n.then.bind(n,void 0),a}function Ns(e){return ya("remove",e._path),Ps(e,null)}function Ps(e,t){e=(0,o.m9)(e),ya("set",e._path),ca("set",t,e._path,!1);var n=new o.BH;return Ua(e._repo,e._path,t,null,n.wrapCallback((function(){}))),n.promise}function Os(e,t){e=(0,o.m9)(e),ya("setPriority",e._path),da("setPriority",t,!1);var n=new o.BH;return Ua(e._repo,bt(e._path,".priority"),t,null,n.wrapCallback((function(){}))),n.promise}function Ds(e,t,n){if(ya("setWithPriority",e._path),ca("setWithPriority",t,e._path,!1),da("setWithPriority",n,!1),".length"===e.key||".keys"===e.key)throw"setWithPriority failed: "+e.key+" is a read-only object.";var r=new o.BH;return Ua(e._repo,e._path,t,n,r.wrapCallback((function(){}))),r.promise}function Ls(e,t){fa("update",t,e._path,!1);var n=new o.BH;return Ba(e._repo,e._path,t,n.wrapCallback((function(){}))),n.promise}function Ms(e){return e=(0,o.m9)(e),ja(e._repo,e).then((function(t){return new ks(t,new Is(e._repo,e._path),e._queryParams.getIndex())}))}var Fs=function(){function e(e){this.callbackContext=e}return e.prototype.respondsTo=function(e){return"value"===e},e.prototype.createEvent=function(e,t){var n=t._queryParams.getIndex();return new ms("value",this,new ks(e.snapshotNode,new Is(t._repo,t._path),n))},e.prototype.getEventRunner=function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,null)}},e.prototype.createCancelEvent=function(e,t){return this.callbackContext.hasCancelCallback?new ys(this,e,t):null},e.prototype.matches=function(t){return t instanceof e&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))},e.prototype.hasAnyCallback=function(){return null!==this.callbackContext},e}(),qs=function(){function e(e,t){this.eventType=e,this.callbackContext=t}return e.prototype.respondsTo=function(e){var t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t},e.prototype.createCancelEvent=function(e,t){return this.callbackContext.hasCancelCallback?new ys(this,e,t):null},e.prototype.createEvent=function(e,t){(0,o.hu)(null!=e.childName,"Child events should have a childName.");var n=As(new Is(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new ms(e.type,this,new ks(e.snapshotNode,n,r),e.prevName)},e.prototype.getEventRunner=function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,e.prevName)}},e.prototype.matches=function(t){return t instanceof e&&(this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)))},e.prototype.hasAnyCallback=function(){return!!this.callbackContext},e}();function js(e,t,n,r,i){var o;if("object"===typeof r&&(o=void 0,i=r),"function"===typeof r&&(o=r),i&&i.onlyOnce){var a=n,s=function(t,n){Wa(e._repo,e,c),a(t,n)};s.userCallback=n.userCallback,s.context=n.context,n=s}var u=new bs(n,o||void 0),c="value"===t?new Fs(u):new qs(t,u);return $a(e._repo,e,c),function(){return Wa(e._repo,e,c)}}function Us(e,t,n,r){return js(e,"value",t,n,r)}function Bs(e,t,n,r){return js(e,"child_added",t,n,r)}function Vs(e,t,n,r){return js(e,"child_changed",t,n,r)}function Hs(e,t,n,r){return js(e,"child_moved",t,n,r)}function Gs(e,t,n,r){return js(e,"child_removed",t,n,r)}function zs(e,t,n){var r=null,i=n?new bs(n):null;"value"===t?r=new Fs(i):t&&(r=new qs(t,i)),Wa(e._repo,e,r)}var Ks=function(){function e(){}return e}(),$s=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return(0,a.ZT)(t,e),t.prototype._apply=function(e){ca("endAt",this._value,e._path,!0);var t=Kn(e._queryParams,this._value,this._key);if(Es(t),Ss(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new _s(e._repo,e._path,t,e._orderByCalled)},t}(Ks);function Ws(e,t){return va("endAt","key",t,!0),new $s(e,t)}var Js=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return(0,a.ZT)(t,e),t.prototype._apply=function(e){ca("endBefore",this._value,e._path,!1);var t=$n(e._queryParams,this._value,this._key);if(Es(t),Ss(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new _s(e._repo,e._path,t,e._orderByCalled)},t}(Ks);function Zs(e,t){return va("endBefore","key",t,!0),new Js(e,t)}var Ys=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return(0,a.ZT)(t,e),t.prototype._apply=function(e){ca("startAt",this._value,e._path,!0);var t=Gn(e._queryParams,this._value,this._key);if(Es(t),Ss(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new _s(e._repo,e._path,t,e._orderByCalled)},t}(Ks);function Qs(e,t){return void 0===e&&(e=null),va("startAt","key",t,!0),new Ys(e,t)}var Xs=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return(0,a.ZT)(t,e),t.prototype._apply=function(e){ca("startAfter",this._value,e._path,!1);var t=zn(e._queryParams,this._value,this._key);if(Es(t),Ss(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new _s(e._repo,e._path,t,e._orderByCalled)},t}(Ks);function eu(e,t){return va("startAfter","key",t,!0),new Xs(e,t)}var tu=function(e){function t(t){var n=e.call(this)||this;return n._limit=t,n}return(0,a.ZT)(t,e),t.prototype._apply=function(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new _s(e._repo,e._path,Vn(e._queryParams,this._limit),e._orderByCalled)},t}(Ks);function nu(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new tu(e)}var ru=function(e){function t(t){var n=e.call(this)||this;return n._limit=t,n}return(0,a.ZT)(t,e),t.prototype._apply=function(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new _s(e._repo,e._path,Hn(e._queryParams,this._limit),e._orderByCalled)},t}(Ks);function iu(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new ru(e)}var ou=function(e){function t(t){var n=e.call(this)||this;return n._path=t,n}return(0,a.ZT)(t,e),t.prototype._apply=function(e){Ts(e,"orderByChild");var t=new lt(this._path);if(wt(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var n=new Tn(t),r=Wn(e._queryParams,n);return Ss(r),new _s(e._repo,e._path,r,!0)},t}(Ks);function au(e){if("$key"===e)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return ga("orderByChild","path",e,!1),new ou(e)}var su=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.ZT)(t,e),t.prototype._apply=function(e){Ts(e,"orderByKey");var t=Wn(e._queryParams,zt);return Ss(t),new _s(e._repo,e._path,t,!0)},t}(Ks);function uu(){return new su}var cu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.ZT)(t,e),t.prototype._apply=function(e){Ts(e,"orderByPriority");var t=Wn(e._queryParams,hn);return Ss(t),new _s(e._repo,e._path,t,!0)},t}(Ks);function lu(){return new cu}var hu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.ZT)(t,e),t.prototype._apply=function(e){Ts(e,"orderByValue");var t=Wn(e._queryParams,En);return Ss(t),new _s(e._repo,e._path,t,!0)},t}(Ks);function fu(){return new hu}var du=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return(0,a.ZT)(t,e),t.prototype._apply=function(e){if(ca("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new $s(this._value,this._key)._apply(new Ys(this._value,this._key)._apply(e))},t}(Ks);function pu(e,t){return va("equalTo","key",t,!0),new du(e,t)}function vu(e){for(var t,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var s=(0,o.m9)(e);try{for(var u=(0,a.XA)(r),c=u.next();!c.done;c=u.next()){var l=c.value;s=l._apply(s)}}catch(h){t={error:h}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}return s}Gi(Is),ro(Is);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var gu="FIREBASE_DATABASE_EMULATOR_HOST",mu={},yu=!1;function bu(e,t,n,r){e.repoInfo_=new he(t+":"+n,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams),r&&(e.authTokenProvider_=r)}function wu(e,t,n,r,i){var o=r||e.options.databaseURL;void 0===o&&(e.options.projectId||C("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),E("Using default host for project ",e.options.projectId),o=e.options.projectId+"-default-rtdb.firebaseio.com");var a,s=vs(o,i),u=s.repoInfo,c=void 0;"undefined"!==typeof process&&(c=process.env[gu]),c?(a=!0,o="http://"+c+"?ns="+u.namespace,s=vs(o,i),u=s.repoInfo):a=!s.repoInfo.secure;var l=i&&a?new X(X.OWNER):new Q(e.name,e.options,t);ba("Invalid Firebase Database URL",s),wt(s.path)||C("Database URL must point to the root of a Firebase Database (not including a child path).");var h=Tu(u,e,l,new Y(e.name,n));return new Eu(h,e)}function _u(e,t){var n=mu[t];n&&n[e.key]===e||C("Database "+t+"("+e.repoInfo_+") has already been deleted."),Ja(e),delete n[e.key]}function Tu(e,t,n,r){var i=mu[t.name];i||(i={},mu[t.name]=i);var o=i[e.toURLString()];return o&&C("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new Aa(e,yu,n,r),i[e.toURLString()]=o,o}function Su(e){yu=e}var Eu=function(){function e(e,t){this._repoInternal=e,this.app=t,this["type"]="database",this._instanceStarted=!1}return Object.defineProperty(e.prototype,"_repo",{get:function(){return this._instanceStarted||(Ra(this._repoInternal,this.app.options.appId,this.app.options["databaseAuthVariableOverride"]),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new Is(this._repo,ht())),this._rootInternal},enumerable:!1,configurable:!0}),e.prototype._delete=function(){return null!==this._rootInternal&&(_u(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()},e.prototype._checkNotDeleted=function(e){null===this._rootInternal&&C("Cannot call "+e+" on a deleted database.")},e}();function Iu(e,t,n,r){void 0===r&&(r={}),e=(0,o.m9)(e),e._checkNotDeleted("useEmulator"),e._instanceStarted&&C("Cannot call useEmulator() after instance has already been initialized.");var i=e._repoInternal,a=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&C('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new X(X.OWNER);else if(r.mockUserToken){var s="string"===typeof r.mockUserToken?r.mockUserToken:(0,o.Sg)(r.mockUserToken,e.app.options.projectId);a=new X(s)}bu(i,t,n,a)}function ku(e){e=(0,o.m9)(e),e._checkNotDeleted("goOffline"),Ja(e._repo)}function Cu(e){e=(0,o.m9)(e),e._checkNotDeleted("goOnline"),Za(e._repo)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xu={".sv":"timestamp"};function Au(){return xu}function Ru(e){return{".sv":{increment:e}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nu=function(){function e(e,t){this.committed=e,this.snapshot=t}return e.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}();function Pu(e,t,n){var r;if(e=(0,o.m9)(e),ya("Reference.transaction",e._path),".length"===e.key||".keys"===e.key)throw"Reference.transaction failed: "+e.key+" is a read-only object.";var i=null===(r=null===n||void 0===n?void 0:n.applyLocally)||void 0===r||r,a=new o.BH,s=function(t,n,r){var i=null;t?a.reject(t):(i=new ks(r,new Is(e._repo,e._path),hn),a.resolve(new Nu(n,i)))},u=Us(e,(function(){}));return ts(e._repo,e._path,t,s,u,i),a.promise}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ou=function(){function e(e){this._delegate=e}return e.prototype.cancel=function(e){(0,o.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,o.Wj)("OnDisconnect.cancel","onComplete",e,!0);var t=this._delegate.cancel();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},e.prototype.remove=function(e){(0,o.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,o.Wj)("OnDisconnect.remove","onComplete",e,!0);var t=this._delegate.remove();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},e.prototype.set=function(e,t){(0,o.Dv)("OnDisconnect.set",1,2,arguments.length),(0,o.Wj)("OnDisconnect.set","onComplete",t,!0);var n=this._delegate.set(e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n},e.prototype.setWithPriority=function(e,t,n){(0,o.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,o.Wj)("OnDisconnect.setWithPriority","onComplete",n,!0);var r=this._delegate.setWithPriority(e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r},e.prototype.update=function(e,t){if((0,o.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,x("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,o.Wj)("OnDisconnect.update","onComplete",t,!0);var i=this._delegate.update(e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i},e}(),Du=function(){function e(e,t){this.committed=e,this.snapshot=t}return e.prototype.toJSON=function(){return(0,o.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}(),Lu=function(){function e(e,t){this._database=e,this._delegate=t}return e.prototype.val=function(){return(0,o.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},e.prototype.exportVal=function(){return(0,o.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},e.prototype.toJSON=function(){return(0,o.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.exists=function(){return(0,o.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},e.prototype.child=function(t){return(0,o.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),ga("DataSnapshot.child","path",t,!1),new e(this._database,this._delegate.child(t))},e.prototype.hasChild=function(e){return(0,o.Dv)("DataSnapshot.hasChild",1,1,arguments.length),ga("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)},e.prototype.getPriority=function(){return(0,o.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},e.prototype.forEach=function(t){var n=this;return(0,o.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,o.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach((function(r){return t(new e(n._database,r))}))},e.prototype.hasChildren=function(){return(0,o.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(e.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),e.prototype.numChildren=function(){return(0,o.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},e.prototype.getRef=function(){return(0,o.Dv)("DataSnapshot.ref",0,0,arguments.length),new Fu(this._database,this._delegate.ref)},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),e}(),Mu=function(){function e(e,t){this.database=e,this._delegate=t}return e.prototype.on=function(t,n,r,i){var a,s=this;(0,o.Dv)("Query.on",2,4,arguments.length),(0,o.Wj)("Query.on","callback",n,!1);var u=e.getCancelAndContextArgs_("Query.on",r,i),c=function(e,t){n.call(u.context,new Lu(s.database,e),t)};c.userCallback=n,c.context=u.context;var l=null===(a=u.cancel)||void 0===a?void 0:a.bind(u.context);switch(t){case"value":return Us(this._delegate,c,l),n;case"child_added":return Bs(this._delegate,c,l),n;case"child_removed":return Gs(this._delegate,c,l),n;case"child_changed":return Vs(this._delegate,c,l),n;case"child_moved":return Hs(this._delegate,c,l),n;default:throw new Error((0,o.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},e.prototype.off=function(e,t,n){if((0,o.Dv)("Query.off",0,3,arguments.length),pa("Query.off",e,!0),(0,o.Wj)("Query.off","callback",t,!0),(0,o.lb)("Query.off","context",n,!0),t){var r=function(){};r.userCallback=t,r.context=n,zs(this._delegate,e,r)}else zs(this._delegate,e)},e.prototype.get=function(){var e=this;return Ms(this._delegate).then((function(t){return new Lu(e.database,t)}))},e.prototype.once=function(t,n,r,i){var a=this;(0,o.Dv)("Query.once",1,4,arguments.length),(0,o.Wj)("Query.once","callback",n,!0);var s=e.getCancelAndContextArgs_("Query.once",r,i),u=new o.BH,c=function(e,t){var r=new Lu(a.database,e);n&&n.call(s.context,r,t),u.resolve(r)};c.userCallback=n,c.context=s.context;var l=function(e){s.cancel&&s.cancel.call(s.context,e),u.reject(e)};switch(t){case"value":Us(this._delegate,c,l,{onlyOnce:!0});break;case"child_added":Bs(this._delegate,c,l,{onlyOnce:!0});break;case"child_removed":Gs(this._delegate,c,l,{onlyOnce:!0});break;case"child_changed":Vs(this._delegate,c,l,{onlyOnce:!0});break;case"child_moved":Hs(this._delegate,c,l,{onlyOnce:!0});break;default:throw new Error((0,o.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return u.promise},e.prototype.limitToFirst=function(t){return(0,o.Dv)("Query.limitToFirst",1,1,arguments.length),new e(this.database,vu(this._delegate,nu(t)))},e.prototype.limitToLast=function(t){return(0,o.Dv)("Query.limitToLast",1,1,arguments.length),new e(this.database,vu(this._delegate,iu(t)))},e.prototype.orderByChild=function(t){return(0,o.Dv)("Query.orderByChild",1,1,arguments.length),new e(this.database,vu(this._delegate,au(t)))},e.prototype.orderByKey=function(){return(0,o.Dv)("Query.orderByKey",0,0,arguments.length),new e(this.database,vu(this._delegate,uu()))},e.prototype.orderByPriority=function(){return(0,o.Dv)("Query.orderByPriority",0,0,arguments.length),new e(this.database,vu(this._delegate,lu()))},e.prototype.orderByValue=function(){return(0,o.Dv)("Query.orderByValue",0,0,arguments.length),new e(this.database,vu(this._delegate,fu()))},e.prototype.startAt=function(t,n){return void 0===t&&(t=null),(0,o.Dv)("Query.startAt",0,2,arguments.length),new e(this.database,vu(this._delegate,Qs(t,n)))},e.prototype.startAfter=function(t,n){return void 0===t&&(t=null),(0,o.Dv)("Query.startAfter",0,2,arguments.length),new e(this.database,vu(this._delegate,eu(t,n)))},e.prototype.endAt=function(t,n){return void 0===t&&(t=null),(0,o.Dv)("Query.endAt",0,2,arguments.length),new e(this.database,vu(this._delegate,Ws(t,n)))},e.prototype.endBefore=function(t,n){return void 0===t&&(t=null),(0,o.Dv)("Query.endBefore",0,2,arguments.length),new e(this.database,vu(this._delegate,Zs(t,n)))},e.prototype.equalTo=function(t,n){return(0,o.Dv)("Query.equalTo",1,2,arguments.length),new e(this.database,vu(this._delegate,pu(t,n)))},e.prototype.toString=function(){return(0,o.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()},e.prototype.toJSON=function(){return(0,o.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.isEqual=function(t){if((0,o.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof e)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(t._delegate)},e.getCancelAndContextArgs_=function(e,t,n){var r={cancel:void 0,context:void 0};if(t&&n)r.cancel=t,(0,o.Wj)(e,"cancel",r.cancel,!0),r.context=n,(0,o.lb)(e,"context",r.context,!0);else if(t)if("object"===typeof t&&null!==t)r.context=t;else{if("function"!==typeof t)throw new Error((0,o.gK)(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r},Object.defineProperty(e.prototype,"ref",{get:function(){return new Fu(this.database,new Is(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),e}(),Fu=function(e){function t(t,n){var r=e.call(this,t,new _s(n._repo,n._path,new Un,!1))||this;return r.database=t,r._delegate=n,r}return(0,a.ZT)(t,e),t.prototype.getKey=function(){return(0,o.Dv)("Reference.key",0,0,arguments.length),this._delegate.key},t.prototype.child=function(e){return(0,o.Dv)("Reference.child",1,1,arguments.length),"number"===typeof e&&(e=String(e)),new t(this.database,As(this._delegate,e))},t.prototype.getParent=function(){(0,o.Dv)("Reference.parent",0,0,arguments.length);var e=this._delegate.parent;return e?new t(this.database,e):null},t.prototype.getRoot=function(){return(0,o.Dv)("Reference.root",0,0,arguments.length),new t(this.database,this._delegate.root)},t.prototype.set=function(e,t){(0,o.Dv)("Reference.set",1,2,arguments.length),(0,o.Wj)("Reference.set","onComplete",t,!0);var n=Ps(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n},t.prototype.update=function(e,t){if((0,o.Dv)("Reference.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,x("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ya("Reference.update",this._delegate._path),(0,o.Wj)("Reference.update","onComplete",t,!0);var i=Ls(this._delegate,e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i},t.prototype.setWithPriority=function(e,t,n){(0,o.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,o.Wj)("Reference.setWithPriority","onComplete",n,!0);var r=Ds(this._delegate,e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r},t.prototype.remove=function(e){(0,o.Dv)("Reference.remove",0,1,arguments.length),(0,o.Wj)("Reference.remove","onComplete",e,!0);var t=Ns(this._delegate);return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},t.prototype.transaction=function(e,t,n){var r=this;(0,o.Dv)("Reference.transaction",1,3,arguments.length),(0,o.Wj)("Reference.transaction","transactionUpdate",e,!1),(0,o.Wj)("Reference.transaction","onComplete",t,!0),wa("Reference.transaction","applyLocally",n,!0);var i=Pu(this._delegate,e,{applyLocally:n}).then((function(e){return new Du(e.committed,new Lu(r.database,e.snapshot))}));return t&&i.then((function(e){return t(null,e.committed,e.snapshot)}),(function(e){return t(e,!1,null)})),i},t.prototype.setPriority=function(e,t){(0,o.Dv)("Reference.setPriority",1,2,arguments.length),(0,o.Wj)("Reference.setPriority","onComplete",t,!0);var n=Os(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n},t.prototype.push=function(e,n){var r=this;(0,o.Dv)("Reference.push",0,2,arguments.length),(0,o.Wj)("Reference.push","onComplete",n,!0);var i=Rs(this._delegate,e),a=i.then((function(e){return new t(r.database,e)}));n&&a.then((function(){return n(null)}),(function(e){return n(e)}));var s=new t(this.database,i);return s.then=a.then.bind(a),s.catch=a.catch.bind(a,void 0),s},t.prototype.onDisconnect=function(){return ya("Reference.onDisconnect",this._delegate._path),new Ou(new ws(this._delegate._repo,this._delegate._path))},Object.defineProperty(t.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),t}(Mu),qu=function(){function e(e,t){var n=this;this._delegate=e,this.app=t,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return e.prototype.useEmulator=function(e,t,n){void 0===n&&(n={}),Iu(this._delegate,e,t,n)},e.prototype.ref=function(e){if((0,o.Dv)("database.ref",0,1,arguments.length),e instanceof Fu){var t=xs(this._delegate,e.toString());return new Fu(this,t)}t=Cs(this._delegate,e);return new Fu(this,t)},e.prototype.refFromURL=function(e){var t="database.refFromURL";(0,o.Dv)(t,1,1,arguments.length);var n=xs(this._delegate,e);return new Fu(this,n)},e.prototype.goOffline=function(){return(0,o.Dv)("database.goOffline",0,0,arguments.length),ku(this._delegate)},e.prototype.goOnline=function(){return(0,o.Dv)("database.goOnline",0,0,arguments.length),Cu(this._delegate)},e.ServerValue={TIMESTAMP:Au(),increment:function(e){return Ru(e)}},e}(),ju=function(){Ve.forceDisallow(),Fe.forceAllow()},Uu=function(){Fe.forceDisallow()},Bu=function(){return Ve["isAvailable"]()},Vu=function(e,t){var n=e._delegate._repo.persistentConnection_;n.securityDebugCallback_=t},Hu=function(e,t){Ya(e._delegate._repo,t)},Gu=function(e,t){Qa(e._delegate._repo,t)},zu=function(e){return e._delegate._repo.dataUpdateCount},Ku=function(e,t){return Da(e._delegate._repo,t)};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $u(e){var t=e.app,n=e.url,r=e.version,o=e.customAuthImpl,a=e.namespace,s=e.nodeAdmin,u=void 0!==s&&s;h(r);var c=new i.zt("auth-internal",new i.H0("database-standalone"));return c.setComponent(new i.wA("auth-internal",(function(){return o}),"PRIVATE")),{instance:new qu(wu(t,c,void 0,n,u),t),namespace:a}}var Wu=Object.freeze({__proto__:null,forceLongPolling:ju,forceWebSockets:Uu,isWebSocketsAvailable:Bu,setSecurityDebugCallback:Vu,stats:Hu,statsIncrementCounter:Gu,dataUpdateCount:zu,interceptServerData:Ku,initStandalone:$u}),Ju=Bt;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Bt.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},Bt.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};var Zu=it,Yu=function(e){var t=Bt.prototype.put;return Bt.prototype.put=function(n,r,i,o){void 0!==o&&(o=e()),t.call(this,n,r,i,o)},function(){Bt.prototype.put=t}},Qu=he,Xu=function(e){return e._delegate._queryIdentifier},ec=function(e){Su(e)},tc=Object.freeze({__proto__:null,DataConnection:Ju,RealTimeConnection:Zu,hijackHash:Yu,ConnectionTarget:Qu,queryIdentifier:Xu,forceRestClient:ec}),nc=qu.ServerValue;function rc(t){h(t.SDK_VERSION);var n=t.INTERNAL.registerComponent(new i.wA("database",(function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return new qu(wu(r,i,o,n),r)}),"PUBLIC").setServiceProps({Reference:Fu,Query:Mu,Database:qu,DataSnapshot:Lu,enableLogging:S,INTERNAL:Wu,ServerValue:nc,TEST_ACCESS:tc}).setMultipleInstances(!0));t.registerVersion(u,c),(0,o.Yr)()&&(e.exports=n)}rc(r.Z)},2920:(e,t,n)=>{"use strict";
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
function r(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var i;n.d(t,{in:()=>o,Yd:()=>h,Ub:()=>f,Am:()=>d});var o,a=[];(function(e){e[e["DEBUG"]=0]="DEBUG",e[e["VERBOSE"]=1]="VERBOSE",e[e["INFO"]=2]="INFO",e[e["WARN"]=3]="WARN",e[e["ERROR"]=4]="ERROR",e[e["SILENT"]=5]="SILENT"})(o||(o={}));var s={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},u=o.INFO,c=(i={},i[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),l=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(t<e.logLevel)){var o=(new Date).toISOString(),a=c[t];if(!a)throw new Error("Attempted to log a message with an invalid logType (value: "+t+")");console[a].apply(console,r(["["+o+"]  "+e.name+":"],n))}},h=function(){function e(e){this.name=e,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,a.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in o))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(e){this._logLevel="string"===typeof e?s[e]:e},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],e)),this._logHandler.apply(this,r([this,o.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],e)),this._logHandler.apply(this,r([this,o.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],e)),this._logHandler.apply(this,r([this,o.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],e)),this._logHandler.apply(this,r([this,o.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],e)),this._logHandler.apply(this,r([this,o.ERROR],e))},e}();function f(e){a.forEach((function(t){t.setLogLevel(e)}))}function d(e,t){for(var n=function(n){var r=null;t&&t.level&&(r=s[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=[],a=2;a<arguments.length;a++)i[a-2]=arguments[a];var s=i.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:o[n].toLowerCase(),message:s,args:i,type:t.name})}},r=0,i=a;r<i.length;r++){var u=i[r];n(u)}}},2849:(e,t,n)=>{"use strict";n.d(t,{BH:()=>g,LL:()=>N,ZR:()=>R,gQ:()=>G,hu:()=>o,g5:()=>a,US:()=>c,h$:()=>l,r3:()=>j,Sg:()=>m,ne:()=>z,p$:()=>d,ZB:()=>p,gK:()=>Z,m9:()=>te,z$:()=>y,GJ:()=>q,jU:()=>_,ru:()=>T,d:()=>E,xb:()=>B,w1:()=>I,uI:()=>b,UG:()=>w,Yr:()=>C,b$:()=>S,G6:()=>x,Mn:()=>k,w9:()=>F,cI:()=>D,UI:()=>V,xO:()=>H,DV:()=>U,ug:()=>ee,dS:()=>X,Pz:()=>L,Dv:()=>J,Wj:()=>Y,lb:()=>Q});var r=n(8430),i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},o=function(e,t){if(!e)throw a(t)},a=function(e){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)},s=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},u=function(e){var t=[],n=0,r=0;while(n<e.length){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){o=e[n++];var a=e[n++],s=e[n++],u=((7&i)<<18|(63&o)<<12|(63&a)<<6|63&s)-65536;t[r++]=String.fromCharCode(55296+(u>>10)),t[r++]=String.fromCharCode(56320+(1023&u))}else{o=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return t.join("")},c={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],a=i+1<e.length,s=a?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=o>>2,h=(3&o)<<4|s>>4,f=(15&s)<<2|c>>6,d=63&c;u||(d=64,a||(f=64)),r.push(n[l],n[h],n[f],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(s(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):u(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],a=i<e.length,s=a?n[e.charAt(i)]:0;++i;var u=i<e.length,c=u?n[e.charAt(i)]:64;++i;var l=i<e.length,h=l?n[e.charAt(i)]:64;if(++i,null==o||null==s||null==c||null==h)throw Error();var f=o<<2|s>>4;if(r.push(f),64!==c){var d=s<<4&240|c>>2;if(r.push(d),64!==h){var p=c<<6&192|h;r.push(p)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},l=function(e){var t=s(e);return c.encodeByteArray(t,!0)},h=function(e){return l(e).replace(/\./g,"")},f=function(e){try{return c.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function d(e){return p(void 0,e)}function p(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:var n=t;return new Date(n.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var r in t)t.hasOwnProperty(r)&&v(r)&&(e[r]=p(e[r],t[r]));return e}function v(e){return"__proto__"!==e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var g=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}},e}();
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n={alg:"none",type:"JWT"},i=t||"demo-project",o=e.iat||0,a=e.sub||e.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var s=(0,r.pi)({iss:"https://securetoken.google.com/"+i,aud:i,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},e),u="";return[h(JSON.stringify(n)),h(JSON.stringify(s)),u].join(".")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y(){return"undefined"!==typeof navigator&&"string"===typeof navigator["userAgent"]?navigator["userAgent"]:""}function b(){return"undefined"!==typeof window&&!!(window["cordova"]||window["phonegap"]||window["PhoneGap"])&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(y())}function w(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function _(){return"object"===typeof self&&self.self===self}function T(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function S(){return"object"===typeof navigator&&"ReactNative"===navigator["product"]}function E(){return y().indexOf("Electron/")>=0}function I(){var e=y();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function k(){return y().indexOf("MSAppHost/")>=0}function C(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN}function x(){return!w()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var A="FirebaseError",R=function(e){function t(n,r,i){var o=e.call(this,r)||this;return o.code=n,o.customData=i,o.name=A,Object.setPrototypeOf(o,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,N.prototype.create),o}return(0,r.ZT)(t,e),t}(Error),N=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],a=o?P(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new R(i,s,r);return u},e}();function P(e,t){return e.replace(O,(function(e,n){var r=t[n];return null!=r?String(r):"<"+n+"?>"}))}var O=/\{\$([^}]+)}/g;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D(e){return JSON.parse(e)}function L(e){return JSON.stringify(e)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var M=function(e){var t={},n={},r={},i="";try{var o=e.split(".");t=D(f(o[0])||""),n=D(f(o[1])||""),i=o[2],r=n["d"]||{},delete n["d"]}catch(a){}return{header:t,claims:n,data:r,signature:i}},F=function(e){var t=M(e),n=t.claims;return!!n&&"object"===typeof n&&n.hasOwnProperty("iat")},q=function(e){var t=M(e).claims;return"object"===typeof t&&!0===t["admin"]};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function j(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function U(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function B(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function V(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function H(e){for(var t=[],n=function(e,n){Array.isArray(n)?n.forEach((function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))})):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))},r=0,i=Object.entries(e);r<i.length;r++){var o=i[r],a=o[0],s=o[1];n(a,s)}return t.length?"&"+t.join("&"):""}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var G=function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}return e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,s=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],h=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=l^u&(c^l),a=1518500249):(o=u^c^l,a=1859775393):r<60?(o=u&c|l&(u|c),a=2400959708):(o=u^c^l,a=3395469782);i=(s<<5|s>>>27)+o+h+a+n[r]&4294967295;h=l,l=c,c=4294967295&(u<<30|u>>>2),u=s,s=i}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;while(r<t){if(0===o)while(r<=n)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){while(r<t)if(i[o]=e.charCodeAt(r),++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}else while(r<t)if(i[o]=e[r],++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e},e}();function z(e,t){var n=new K(e,t);return n.subscribe.bind(n)}var K=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}return e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=$(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=W),void 0===r.error&&(r.error=W),void 0===r.complete&&(r.complete=W);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))},e}();function $(e,t){if("object"!==typeof e||null===e)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&"function"===typeof e[i])return!0}return!1}function W(){}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var J=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i){var o=e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".";throw new Error(o)}};function Z(e,t){return e+" failed: "+t+" argument "}function Y(e,t,n,r){if((!r||n)&&"function"!==typeof n)throw new Error(Z(e,t)+"must be a valid function.")}function Q(e,t,n,r){if((!r||n)&&("object"!==typeof n||null===n))throw new Error(Z(e,t)+"must be a valid context object.")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var X=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;r++,o(r<e.length,"Surrogate pair missing trail surrogate.");var s=e.charCodeAt(r)-56320;i=65536+(a<<10)+s}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},ee=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function te(e){return e&&e._delegate?e._delegate:e}},7518:e=>{e.exports=function(e,t,n){const r=void 0!==e.__vccOpts?e.__vccOpts:e,i=r[t];if(void 0===i)r[t]=n;else for(const o in n)void 0===i[o]&&(i[o]=n[o])}},1959:(e,t,n)=>{"use strict";n.d(t,{Bj:()=>a,qq:()=>_,Fl:()=>ze,X3:()=>Ae,PG:()=>Ce,dq:()=>Me,Xl:()=>Ne,Jd:()=>I,WL:()=>He,qj:()=>Se,iH:()=>Fe,lk:()=>C,Um:()=>Ee,XI:()=>qe,IU:()=>Re,j:()=>x,X$:()=>N,SU:()=>Be});var r=n(2323);let i;const o=[];class a{constructor(e=!1){this.active=!0,this.effects=[],this.cleanups=[],!e&&i&&(this.parent=i,this.index=(i.scopes||(i.scopes=[])).push(this)-1)}run(e){if(this.active)try{return this.on(),e()}finally{this.off()}else 0}on(){this.active&&(o.push(this),i=this)}off(){this.active&&(o.pop(),i=o[o.length-1])}stop(e){if(this.active){if(this.effects.forEach((e=>e.stop())),this.cleanups.forEach((e=>e())),this.scopes&&this.scopes.forEach((e=>e.stop(!0))),this.parent&&!e){const e=this.parent.scopes.pop();e&&e!==this&&(this.parent.scopes[this.index]=e,e.index=this.index)}this.active=!1}}}function s(e,t){t=t||i,t&&t.active&&t.effects.push(e)}const u=e=>{const t=new Set(e);return t.w=0,t.n=0,t},c=e=>(e.w&v)>0,l=e=>(e.n&v)>0,h=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=v},f=e=>{const{deps:t}=e;if(t.length){let n=0;for(let r=0;r<t.length;r++){const i=t[r];c(i)&&!l(i)?i.delete(e):t[n++]=i,i.w&=~v,i.n&=~v}t.length=n}},d=new WeakMap;let p=0,v=1;const g=30,m=[];let y;const b=Symbol(""),w=Symbol("");class _{constructor(e,t=null,n){this.fn=e,this.scheduler=t,this.active=!0,this.deps=[],s(this,n)}run(){if(!this.active)return this.fn();if(!m.includes(this))try{return m.push(y=this),k(),v=1<<++p,p<=g?h(this):T(this),this.fn()}finally{p<=g&&f(this),v=1<<--p,C(),m.pop();const e=m.length;y=e>0?m[e-1]:void 0}}stop(){this.active&&(T(this),this.onStop&&this.onStop(),this.active=!1)}}function T(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let S=!0;const E=[];function I(){E.push(S),S=!1}function k(){E.push(S),S=!0}function C(){const e=E.pop();S=void 0===e||e}function x(e,t,n){if(!A())return;let r=d.get(e);r||d.set(e,r=new Map);let i=r.get(n);i||r.set(n,i=u());const o=void 0;R(i,o)}function A(){return S&&void 0!==y}function R(e,t){let n=!1;p<=g?l(e)||(e.n|=v,n=!c(e)):n=!e.has(y),n&&(e.add(y),y.deps.push(e))}function N(e,t,n,i,o,a){const s=d.get(e);if(!s)return;let c=[];if("clear"===t)c=[...s.values()];else if("length"===n&&(0,r.kJ)(e))s.forEach(((e,t)=>{("length"===t||t>=i)&&c.push(e)}));else switch(void 0!==n&&c.push(s.get(n)),t){case"add":(0,r.kJ)(e)?(0,r.S0)(n)&&c.push(s.get("length")):(c.push(s.get(b)),(0,r._N)(e)&&c.push(s.get(w)));break;case"delete":(0,r.kJ)(e)||(c.push(s.get(b)),(0,r._N)(e)&&c.push(s.get(w)));break;case"set":(0,r._N)(e)&&c.push(s.get(b));break}if(1===c.length)c[0]&&P(c[0]);else{const e=[];for(const t of c)t&&e.push(...t);P(u(e))}}function P(e,t){for(const n of(0,r.kJ)(e)?e:[...e])(n!==y||n.allowRecurse)&&(n.scheduler?n.scheduler():n.run())}const O=(0,r.fY)("__proto__,__v_isRef,__isVue"),D=new Set(Object.getOwnPropertyNames(Symbol).map((e=>Symbol[e])).filter(r.yk)),L=U(),M=U(!1,!0),F=U(!0),q=j();function j(){const e={};return["includes","indexOf","lastIndexOf"].forEach((t=>{e[t]=function(...e){const n=Re(this);for(let t=0,i=this.length;t<i;t++)x(n,"get",t+"");const r=n[t](...e);return-1===r||!1===r?n[t](...e.map(Re)):r}})),["push","pop","shift","unshift","splice"].forEach((t=>{e[t]=function(...e){I();const n=Re(this)[t].apply(this,e);return C(),n}})),e}function U(e=!1,t=!1){return function(n,i,o){if("__v_isReactive"===i)return!e;if("__v_isReadonly"===i)return e;if("__v_raw"===i&&o===(e?t?we:be:t?ye:me).get(n))return n;const a=(0,r.kJ)(n);if(!e&&a&&(0,r.RI)(q,i))return Reflect.get(q,i,o);const s=Reflect.get(n,i,o);if((0,r.yk)(i)?D.has(i):O(i))return s;if(e||x(n,"get",i),t)return s;if(Me(s)){const e=!a||!(0,r.S0)(i);return e?s.value:s}return(0,r.Kn)(s)?e?Ie(s):Se(s):s}}const B=H(),V=H(!0);function H(e=!1){return function(t,n,i,o){let a=t[n];if(!e&&(i=Re(i),a=Re(a),!(0,r.kJ)(t)&&Me(a)&&!Me(i)))return a.value=i,!0;const s=(0,r.kJ)(t)&&(0,r.S0)(n)?Number(n)<t.length:(0,r.RI)(t,n),u=Reflect.set(t,n,i,o);return t===Re(o)&&(s?(0,r.aU)(i,a)&&N(t,"set",n,i,a):N(t,"add",n,i)),u}}function G(e,t){const n=(0,r.RI)(e,t),i=e[t],o=Reflect.deleteProperty(e,t);return o&&n&&N(e,"delete",t,void 0,i),o}function z(e,t){const n=Reflect.has(e,t);return(0,r.yk)(t)&&D.has(t)||x(e,"has",t),n}function K(e){return x(e,"iterate",(0,r.kJ)(e)?"length":b),Reflect.ownKeys(e)}const $={get:L,set:B,deleteProperty:G,has:z,ownKeys:K},W={get:F,set(e,t){return!0},deleteProperty(e,t){return!0}},J=(0,r.l7)({},$,{get:M,set:V}),Z=e=>e,Y=e=>Reflect.getPrototypeOf(e);function Q(e,t,n=!1,r=!1){e=e["__v_raw"];const i=Re(e),o=Re(t);t!==o&&!n&&x(i,"get",t),!n&&x(i,"get",o);const{has:a}=Y(i),s=r?Z:n?Oe:Pe;return a.call(i,t)?s(e.get(t)):a.call(i,o)?s(e.get(o)):void(e!==i&&e.get(t))}function X(e,t=!1){const n=this["__v_raw"],r=Re(n),i=Re(e);return e!==i&&!t&&x(r,"has",e),!t&&x(r,"has",i),e===i?n.has(e):n.has(e)||n.has(i)}function ee(e,t=!1){return e=e["__v_raw"],!t&&x(Re(e),"iterate",b),Reflect.get(e,"size",e)}function te(e){e=Re(e);const t=Re(this),n=Y(t),r=n.has.call(t,e);return r||(t.add(e),N(t,"add",e,e)),this}function ne(e,t){t=Re(t);const n=Re(this),{has:i,get:o}=Y(n);let a=i.call(n,e);a||(e=Re(e),a=i.call(n,e));const s=o.call(n,e);return n.set(e,t),a?(0,r.aU)(t,s)&&N(n,"set",e,t,s):N(n,"add",e,t),this}function re(e){const t=Re(this),{has:n,get:r}=Y(t);let i=n.call(t,e);i||(e=Re(e),i=n.call(t,e));const o=r?r.call(t,e):void 0,a=t.delete(e);return i&&N(t,"delete",e,void 0,o),a}function ie(){const e=Re(this),t=0!==e.size,n=void 0,r=e.clear();return t&&N(e,"clear",void 0,void 0,n),r}function oe(e,t){return function(n,r){const i=this,o=i["__v_raw"],a=Re(o),s=t?Z:e?Oe:Pe;return!e&&x(a,"iterate",b),o.forEach(((e,t)=>n.call(r,s(e),s(t),i)))}}function ae(e,t,n){return function(...i){const o=this["__v_raw"],a=Re(o),s=(0,r._N)(a),u="entries"===e||e===Symbol.iterator&&s,c="keys"===e&&s,l=o[e](...i),h=n?Z:t?Oe:Pe;return!t&&x(a,"iterate",c?w:b),{next(){const{value:e,done:t}=l.next();return t?{value:e,done:t}:{value:u?[h(e[0]),h(e[1])]:h(e),done:t}},[Symbol.iterator](){return this}}}}function se(e){return function(...t){return"delete"!==e&&this}}function ue(){const e={get(e){return Q(this,e)},get size(){return ee(this)},has:X,add:te,set:ne,delete:re,clear:ie,forEach:oe(!1,!1)},t={get(e){return Q(this,e,!1,!0)},get size(){return ee(this)},has:X,add:te,set:ne,delete:re,clear:ie,forEach:oe(!1,!0)},n={get(e){return Q(this,e,!0)},get size(){return ee(this,!0)},has(e){return X.call(this,e,!0)},add:se("add"),set:se("set"),delete:se("delete"),clear:se("clear"),forEach:oe(!0,!1)},r={get(e){return Q(this,e,!0,!0)},get size(){return ee(this,!0)},has(e){return X.call(this,e,!0)},add:se("add"),set:se("set"),delete:se("delete"),clear:se("clear"),forEach:oe(!0,!0)},i=["keys","values","entries",Symbol.iterator];return i.forEach((i=>{e[i]=ae(i,!1,!1),n[i]=ae(i,!0,!1),t[i]=ae(i,!1,!0),r[i]=ae(i,!0,!0)})),[e,n,t,r]}const[ce,le,he,fe]=ue();function de(e,t){const n=t?e?fe:he:e?le:ce;return(t,i,o)=>"__v_isReactive"===i?!e:"__v_isReadonly"===i?e:"__v_raw"===i?t:Reflect.get((0,r.RI)(n,i)&&i in t?n:t,i,o)}const pe={get:de(!1,!1)},ve={get:de(!1,!0)},ge={get:de(!0,!1)};const me=new WeakMap,ye=new WeakMap,be=new WeakMap,we=new WeakMap;function _e(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Te(e){return e["__v_skip"]||!Object.isExtensible(e)?0:_e((0,r.W7)(e))}function Se(e){return e&&e["__v_isReadonly"]?e:ke(e,!1,$,pe,me)}function Ee(e){return ke(e,!1,J,ve,ye)}function Ie(e){return ke(e,!0,W,ge,be)}function ke(e,t,n,i,o){if(!(0,r.Kn)(e))return e;if(e["__v_raw"]&&(!t||!e["__v_isReactive"]))return e;const a=o.get(e);if(a)return a;const s=Te(e);if(0===s)return e;const u=new Proxy(e,2===s?i:n);return o.set(e,u),u}function Ce(e){return xe(e)?Ce(e["__v_raw"]):!(!e||!e["__v_isReactive"])}function xe(e){return!(!e||!e["__v_isReadonly"])}function Ae(e){return Ce(e)||xe(e)}function Re(e){const t=e&&e["__v_raw"];return t?Re(t):e}function Ne(e){return(0,r.Nj)(e,"__v_skip",!0),e}const Pe=e=>(0,r.Kn)(e)?Se(e):e,Oe=e=>(0,r.Kn)(e)?Ie(e):e;function De(e){A()&&(e=Re(e),e.dep||(e.dep=u()),R(e.dep))}function Le(e,t){e=Re(e),e.dep&&P(e.dep)}function Me(e){return Boolean(e&&!0===e.__v_isRef)}function Fe(e){return je(e,!1)}function qe(e){return je(e,!0)}function je(e,t){return Me(e)?e:new Ue(e,t)}class Ue{constructor(e,t){this._shallow=t,this.dep=void 0,this.__v_isRef=!0,this._rawValue=t?e:Re(e),this._value=t?e:Pe(e)}get value(){return De(this),this._value}set value(e){e=this._shallow?e:Re(e),(0,r.aU)(e,this._rawValue)&&(this._rawValue=e,this._value=this._shallow?e:Pe(e),Le(this,e))}}function Be(e){return Me(e)?e.value:e}const Ve={get:(e,t,n)=>Be(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const i=e[t];return Me(i)&&!Me(n)?(i.value=n,!0):Reflect.set(e,t,n,r)}};function He(e){return Ce(e)?e:new Proxy(e,Ve)}class Ge{constructor(e,t,n){this._setter=t,this.dep=void 0,this._dirty=!0,this.__v_isRef=!0,this.effect=new _(e,(()=>{this._dirty||(this._dirty=!0,Le(this))})),this["__v_isReadonly"]=n}get value(){const e=Re(this);return De(e),e._dirty&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function ze(e,t){let n,i;const o=(0,r.mf)(e);o?(n=e,i=r.dG):(n=e.get,i=e.set);const a=new Ge(n,i,o||!i);return a}Promise.resolve()},3673:(e,t,n)=>{"use strict";n.d(t,{P$:()=>I,HY:()=>at,Ob:()=>M,lR:()=>Qe,$d:()=>sn,j4:()=>yt,kq:()=>Rt,iD:()=>mt,_:()=>Et,Us:()=>je,Uk:()=>At,Wm:()=>It,aZ:()=>P,FN:()=>Ht,Q6:()=>N,h:()=>Bn,f3:()=>_,Y3:()=>Sn,dl:()=>q,wF:()=>K,Jd:()=>Z,Xn:()=>W,bv:()=>$,Ah:()=>Y,ic:()=>J,wg:()=>ft,JJ:()=>w,Ko:()=>Lt,up:()=>tt,Q2:()=>rt,U2:()=>C,nK:()=>R,Y8:()=>T,YP:()=>Mn,w5:()=>h,wy:()=>Pe});var r=n(1959),i=n(2323);new Set;new Map;function o(e,t,...n){const r=e.vnode.props||i.kT;let o=n;const a=t.startsWith("update:"),s=a&&t.slice(7);if(s&&s in r){const e=`${"modelValue"===s?"model":s}Modifiers`,{number:t,trim:a}=r[e]||i.kT;a?o=n.map((e=>e.trim())):t&&(o=n.map(i.He))}let u;let c=r[u=(0,i.hR)(t)]||r[u=(0,i.hR)((0,i._A)(t))];!c&&a&&(c=r[u=(0,i.hR)((0,i.rs)(t))]),c&&sn(c,e,6,o);const l=r[u+"Once"];if(l){if(e.emitted){if(e.emitted[u])return}else e.emitted={};e.emitted[u]=!0,sn(l,e,6,o)}}function a(e,t,n=!1){const r=t.emitsCache,o=r.get(e);if(void 0!==o)return o;const s=e.emits;let u={},c=!1;if(!(0,i.mf)(e)){const r=e=>{const n=a(e,t,!0);n&&(c=!0,(0,i.l7)(u,n))};!n&&t.mixins.length&&t.mixins.forEach(r),e.extends&&r(e.extends),e.mixins&&e.mixins.forEach(r)}return s||c?((0,i.kJ)(s)?s.forEach((e=>u[e]=null)):(0,i.l7)(u,s),r.set(e,u),u):(r.set(e,null),null)}function s(e,t){return!(!e||!(0,i.F7)(t))&&(t=t.slice(2).replace(/Once$/,""),(0,i.RI)(e,t[0].toLowerCase()+t.slice(1))||(0,i.RI)(e,(0,i.rs)(t))||(0,i.RI)(e,t))}let u=null,c=null;function l(e){const t=u;return u=e,c=e&&e.type.__scopeId||null,t}function h(e,t=u,n){if(!t)return e;if(e._n)return e;const r=(...n)=>{r._d&&vt(-1);const i=l(t),o=e(...n);return l(i),r._d&&vt(1),o};return r._n=!0,r._c=!0,r._d=!0,r}function f(e){const{type:t,vnode:n,proxy:r,withProxy:o,props:a,propsOptions:[s],slots:u,attrs:c,emit:h,render:f,renderCache:v,data:g,setupState:m,ctx:y,inheritAttrs:b}=e;let w,_;const T=l(e);try{if(4&n.shapeFlag){const e=o||r;w=Nt(f.call(e,e,v,a,m,g,y)),_=c}else{const e=t;0,w=Nt(e.length>1?e(a,{attrs:c,slots:u,emit:h}):e(a,null)),_=t.props?c:d(c)}}catch(E){lt.length=0,un(E,e,1),w=It(ut)}let S=w;if(_&&!1!==b){const e=Object.keys(_),{shapeFlag:t}=S;e.length&&7&t&&(s&&e.some(i.tR)&&(_=p(_,s)),S=xt(S,_))}return n.dirs&&(S.dirs=S.dirs?S.dirs.concat(n.dirs):n.dirs),n.transition&&(S.transition=n.transition),w=S,l(T),w}const d=e=>{let t;for(const n in e)("class"===n||"style"===n||(0,i.F7)(n))&&((t||(t={}))[n]=e[n]);return t},p=(e,t)=>{const n={};for(const r in e)(0,i.tR)(r)&&r.slice(9)in t||(n[r]=e[r]);return n};function v(e,t,n){const{props:r,children:i,component:o}=e,{props:a,children:u,patchFlag:c}=t,l=o.emitsOptions;if(t.dirs||t.transition)return!0;if(!(n&&c>=0))return!(!i&&!u||u&&u.$stable)||r!==a&&(r?!a||g(r,a,l):!!a);if(1024&c)return!0;if(16&c)return r?g(r,a,l):!!a;if(8&c){const e=t.dynamicProps;for(let t=0;t<e.length;t++){const n=e[t];if(a[n]!==r[n]&&!s(l,n))return!0}}return!1}function g(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let i=0;i<r.length;i++){const o=r[i];if(t[o]!==e[o]&&!s(n,o))return!0}return!1}function m({vnode:e,parent:t},n){while(t&&t.subTree===e)(e=t.vnode).el=n,t=t.parent}const y=e=>e.__isSuspense;function b(e,t){t&&t.pendingBranch?(0,i.kJ)(e)?t.effects.push(...e):t.effects.push(e):Rn(e)}function w(e,t){if(Vt){let n=Vt.provides;const r=Vt.parent&&Vt.parent.provides;r===n&&(n=Vt.provides=Object.create(r)),n[e]=t}else 0}function _(e,t,n=!1){const r=Vt||u;if(r){const o=null==r.parent?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(o&&e in o)return o[e];if(arguments.length>1)return n&&(0,i.mf)(t)?t.call(r.proxy):t}else 0}function T(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return $((()=>{e.isMounted=!0})),Z((()=>{e.isUnmounting=!0})),e}const S=[Function,Array],E={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:S,onEnter:S,onAfterEnter:S,onEnterCancelled:S,onBeforeLeave:S,onLeave:S,onAfterLeave:S,onLeaveCancelled:S,onBeforeAppear:S,onAppear:S,onAfterAppear:S,onAppearCancelled:S},setup(e,{slots:t}){const n=Ht(),i=T();let o;return()=>{const a=t.default&&N(t.default(),!0);if(!a||!a.length)return;const s=(0,r.IU)(e),{mode:u}=s;const c=a[0];if(i.isLeaving)return x(c);const l=A(c);if(!l)return x(c);const h=C(l,s,i,n);R(l,h);const f=n.subTree,d=f&&A(f);let p=!1;const{getTransitionKey:v}=l.type;if(v){const e=v();void 0===o?o=e:e!==o&&(o=e,p=!0)}if(d&&d.type!==ut&&(!wt(l,d)||p)){const e=C(d,s,i,n);if(R(d,e),"out-in"===u)return i.isLeaving=!0,e.afterLeave=()=>{i.isLeaving=!1,n.update()},x(c);"in-out"===u&&l.type!==ut&&(e.delayLeave=(e,t,n)=>{const r=k(i,d);r[String(d.key)]=d,e._leaveCb=()=>{t(),e._leaveCb=void 0,delete h.delayedLeave},h.delayedLeave=n})}return c}}},I=E;function k(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function C(e,t,n,r){const{appear:i,mode:o,persisted:a=!1,onBeforeEnter:s,onEnter:u,onAfterEnter:c,onEnterCancelled:l,onBeforeLeave:h,onLeave:f,onAfterLeave:d,onLeaveCancelled:p,onBeforeAppear:v,onAppear:g,onAfterAppear:m,onAppearCancelled:y}=t,b=String(e.key),w=k(n,e),_=(e,t)=>{e&&sn(e,r,9,t)},T={mode:o,persisted:a,beforeEnter(t){let r=s;if(!n.isMounted){if(!i)return;r=v||s}t._leaveCb&&t._leaveCb(!0);const o=w[b];o&&wt(e,o)&&o.el._leaveCb&&o.el._leaveCb(),_(r,[t])},enter(e){let t=u,r=c,o=l;if(!n.isMounted){if(!i)return;t=g||u,r=m||c,o=y||l}let a=!1;const s=e._enterCb=t=>{a||(a=!0,_(t?o:r,[e]),T.delayedLeave&&T.delayedLeave(),e._enterCb=void 0)};t?(t(e,s),t.length<=1&&s()):s()},leave(t,r){const i=String(e.key);if(t._enterCb&&t._enterCb(!0),n.isUnmounting)return r();_(h,[t]);let o=!1;const a=t._leaveCb=n=>{o||(o=!0,r(),_(n?p:d,[t]),t._leaveCb=void 0,w[i]===e&&delete w[i])};w[i]=e,f?(f(t,a),f.length<=1&&a()):a()},clone(e){return C(e,t,n,r)}};return T}function x(e){if(D(e))return e=xt(e),e.children=null,e}function A(e){return D(e)?e.children?e.children[0]:void 0:e}function R(e,t){6&e.shapeFlag&&e.component?R(e.component.subTree,t):128&e.shapeFlag?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function N(e,t=!1){let n=[],r=0;for(let i=0;i<e.length;i++){const o=e[i];o.type===at?(128&o.patchFlag&&r++,n=n.concat(N(o.children,t))):(t||o.type!==ut)&&n.push(o)}if(r>1)for(let i=0;i<n.length;i++)n[i].patchFlag=-2;return n}function P(e){return(0,i.mf)(e)?{setup:e,name:e.name}:e}const O=e=>!!e.type.__asyncLoader;const D=e=>e.type.__isKeepAlive,L={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(e,{slots:t}){const n=Ht(),r=n.ctx;if(!r.renderer)return t.default;const o=new Map,a=new Set;let s=null;const u=n.suspense,{renderer:{p:c,m:l,um:h,o:{createElement:f}}}=r,d=f("div");function p(e){V(e),h(e,n,u)}function v(e){o.forEach(((t,n)=>{const r=rn(t.type);!r||e&&e(r)||g(n)}))}function g(e){const t=o.get(e);s&&t.type===s.type?s&&V(s):p(t),o.delete(e),a.delete(e)}r.activate=(e,t,n,r,o)=>{const a=e.component;l(e,t,n,0,u),c(a.vnode,e,t,n,a,u,r,e.slotScopeIds,o),qe((()=>{a.isDeactivated=!1,a.a&&(0,i.ir)(a.a);const t=e.props&&e.props.onVnodeMounted;t&&Ve(t,a.parent,e)}),u)},r.deactivate=e=>{const t=e.component;l(e,d,null,1,u),qe((()=>{t.da&&(0,i.ir)(t.da);const n=e.props&&e.props.onVnodeUnmounted;n&&Ve(n,t.parent,e),t.isDeactivated=!0}),u)},Mn((()=>[e.include,e.exclude]),(([e,t])=>{e&&v((t=>F(e,t))),t&&v((e=>!F(t,e)))}),{flush:"post",deep:!0});let m=null;const y=()=>{null!=m&&o.set(m,H(n.subTree))};return $(y),J(y),Z((()=>{o.forEach((e=>{const{subTree:t,suspense:r}=n,i=H(t);if(e.type!==i.type)p(e);else{V(i);const e=i.component.da;e&&qe(e,r)}}))})),()=>{if(m=null,!t.default)return null;const n=t.default(),r=n[0];if(n.length>1)return s=null,n;if(!bt(r)||!(4&r.shapeFlag)&&!(128&r.shapeFlag))return s=null,r;let i=H(r);const u=i.type,c=rn(O(i)?i.type.__asyncResolved||{}:u),{include:l,exclude:h,max:f}=e;if(l&&(!c||!F(l,c))||h&&c&&F(h,c))return s=i,r;const d=null==i.key?u:i.key,p=o.get(d);return i.el&&(i=xt(i),128&r.shapeFlag&&(r.ssContent=i)),m=d,p?(i.el=p.el,i.component=p.component,i.transition&&R(i,i.transition),i.shapeFlag|=512,a.delete(d),a.add(d)):(a.add(d),f&&a.size>parseInt(f,10)&&g(a.values().next().value)),i.shapeFlag|=256,s=i,r}}},M=L;function F(e,t){return(0,i.kJ)(e)?e.some((e=>F(e,t))):(0,i.HD)(e)?e.split(",").indexOf(t)>-1:!!e.test&&e.test(t)}function q(e,t){U(e,"a",t)}function j(e,t){U(e,"da",t)}function U(e,t,n=Vt){const r=e.__wdc||(e.__wdc=()=>{let t=n;while(t){if(t.isDeactivated)return;t=t.parent}e()});if(G(t,r,n),n){let e=n.parent;while(e&&e.parent)D(e.parent.vnode)&&B(r,t,n,e),e=e.parent}}function B(e,t,n,r){const o=G(t,e,r,!0);Y((()=>{(0,i.Od)(r[t],o)}),n)}function V(e){let t=e.shapeFlag;256&t&&(t-=256),512&t&&(t-=512),e.shapeFlag=t}function H(e){return 128&e.shapeFlag?e.ssContent:e}function G(e,t,n=Vt,i=!1){if(n){const o=n[e]||(n[e]=[]),a=t.__weh||(t.__weh=(...i)=>{if(n.isUnmounted)return;(0,r.Jd)(),Gt(n);const o=sn(t,n,e,i);return zt(),(0,r.lk)(),o});return i?o.unshift(a):o.push(a),a}}const z=e=>(t,n=Vt)=>(!Jt||"sp"===e)&&G(e,t,n),K=z("bm"),$=z("m"),W=z("bu"),J=z("u"),Z=z("bum"),Y=z("um"),Q=z("sp"),X=z("rtg"),ee=z("rtc");function te(e,t=Vt){G("ec",e,t)}let ne=!0;function re(e){const t=se(e),n=e.proxy,o=e.ctx;ne=!1,t.beforeCreate&&oe(t.beforeCreate,e,"bc");const{data:a,computed:s,methods:u,watch:c,provide:l,inject:h,created:f,beforeMount:d,mounted:p,beforeUpdate:v,updated:g,activated:m,deactivated:y,beforeDestroy:b,beforeUnmount:_,destroyed:T,unmounted:S,render:E,renderTracked:I,renderTriggered:k,errorCaptured:C,serverPrefetch:x,expose:A,inheritAttrs:R,components:N,directives:P,filters:O}=t,D=null;if(h&&ie(h,o,D,e.appContext.config.unwrapInjectedRef),u)for(const r in u){const e=u[r];(0,i.mf)(e)&&(o[r]=e.bind(n))}if(a){0;const t=a.call(n,n);0,(0,i.Kn)(t)&&(e.data=(0,r.qj)(t))}if(ne=!0,s)for(const w in s){const e=s[w],t=(0,i.mf)(e)?e.bind(n,n):(0,i.mf)(e.get)?e.get.bind(n,n):i.dG;0;const a=!(0,i.mf)(e)&&(0,i.mf)(e.set)?e.set.bind(n):i.dG,u=(0,r.Fl)({get:t,set:a});Object.defineProperty(o,w,{enumerable:!0,configurable:!0,get:()=>u.value,set:e=>u.value=e})}if(c)for(const r in c)ae(c[r],o,n,r);if(l){const e=(0,i.mf)(l)?l.call(n):l;Reflect.ownKeys(e).forEach((t=>{w(t,e[t])}))}function L(e,t){(0,i.kJ)(t)?t.forEach((t=>e(t.bind(n)))):t&&e(t.bind(n))}if(f&&oe(f,e,"c"),L(K,d),L($,p),L(W,v),L(J,g),L(q,m),L(j,y),L(te,C),L(ee,I),L(X,k),L(Z,_),L(Y,S),L(Q,x),(0,i.kJ)(A))if(A.length){const t=e.exposed||(e.exposed={});A.forEach((e=>{Object.defineProperty(t,e,{get:()=>n[e],set:t=>n[e]=t})}))}else e.exposed||(e.exposed={});E&&e.render===i.dG&&(e.render=E),null!=R&&(e.inheritAttrs=R),N&&(e.components=N),P&&(e.directives=P)}function ie(e,t,n=i.dG,o=!1){(0,i.kJ)(e)&&(e=fe(e));for(const a in e){const n=e[a];let s;s=(0,i.Kn)(n)?"default"in n?_(n.from||a,n.default,!0):_(n.from||a):_(n),(0,r.dq)(s)&&o?Object.defineProperty(t,a,{enumerable:!0,configurable:!0,get:()=>s.value,set:e=>s.value=e}):t[a]=s}}function oe(e,t,n){sn((0,i.kJ)(e)?e.map((e=>e.bind(t.proxy))):e.bind(t.proxy),t,n)}function ae(e,t,n,r){const o=r.includes(".")?jn(n,r):()=>n[r];if((0,i.HD)(e)){const n=t[e];(0,i.mf)(n)&&Mn(o,n)}else if((0,i.mf)(e))Mn(o,e.bind(n));else if((0,i.Kn)(e))if((0,i.kJ)(e))e.forEach((e=>ae(e,t,n,r)));else{const r=(0,i.mf)(e.handler)?e.handler.bind(n):t[e.handler];(0,i.mf)(r)&&Mn(o,r,e)}else 0}function se(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:i,optionsCache:o,config:{optionMergeStrategies:a}}=e.appContext,s=o.get(t);let u;return s?u=s:i.length||n||r?(u={},i.length&&i.forEach((e=>ue(u,e,a,!0))),ue(u,t,a)):u=t,o.set(t,u),u}function ue(e,t,n,r=!1){const{mixins:i,extends:o}=t;o&&ue(e,o,n,!0),i&&i.forEach((t=>ue(e,t,n,!0)));for(const a in t)if(r&&"expose"===a);else{const r=ce[a]||n&&n[a];e[a]=r?r(e[a],t[a]):t[a]}return e}const ce={data:le,props:pe,emits:pe,methods:pe,computed:pe,beforeCreate:de,created:de,beforeMount:de,mounted:de,beforeUpdate:de,updated:de,beforeDestroy:de,beforeUnmount:de,destroyed:de,unmounted:de,activated:de,deactivated:de,errorCaptured:de,serverPrefetch:de,components:pe,directives:pe,watch:ve,provide:le,inject:he};function le(e,t){return t?e?function(){return(0,i.l7)((0,i.mf)(e)?e.call(this,this):e,(0,i.mf)(t)?t.call(this,this):t)}:t:e}function he(e,t){return pe(fe(e),fe(t))}function fe(e){if((0,i.kJ)(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function de(e,t){return e?[...new Set([].concat(e,t))]:t}function pe(e,t){return e?(0,i.l7)((0,i.l7)(Object.create(null),e),t):t}function ve(e,t){if(!e)return t;if(!t)return e;const n=(0,i.l7)(Object.create(null),e);for(const r in t)n[r]=de(e[r],t[r]);return n}function ge(e,t,n,o=!1){const a={},s={};(0,i.Nj)(s,_t,1),e.propsDefaults=Object.create(null),ye(e,t,a,s);for(const r in e.propsOptions[0])r in a||(a[r]=void 0);n?e.props=o?a:(0,r.Um)(a):e.type.props?e.props=a:e.props=s,e.attrs=s}function me(e,t,n,o){const{props:a,attrs:s,vnode:{patchFlag:u}}=e,c=(0,r.IU)(a),[l]=e.propsOptions;let h=!1;if(!(o||u>0)||16&u){let r;ye(e,t,a,s)&&(h=!0);for(const o in c)t&&((0,i.RI)(t,o)||(r=(0,i.rs)(o))!==o&&(0,i.RI)(t,r))||(l?!n||void 0===n[o]&&void 0===n[r]||(a[o]=be(l,c,o,void 0,e,!0)):delete a[o]);if(s!==c)for(const e in s)t&&(0,i.RI)(t,e)||(delete s[e],h=!0)}else if(8&u){const n=e.vnode.dynamicProps;for(let r=0;r<n.length;r++){let o=n[r];const u=t[o];if(l)if((0,i.RI)(s,o))u!==s[o]&&(s[o]=u,h=!0);else{const t=(0,i._A)(o);a[t]=be(l,c,t,u,e,!1)}else u!==s[o]&&(s[o]=u,h=!0)}}h&&(0,r.X$)(e,"set","$attrs")}function ye(e,t,n,o){const[a,u]=e.propsOptions;let c,l=!1;if(t)for(let r in t){if((0,i.Gg)(r))continue;const h=t[r];let f;a&&(0,i.RI)(a,f=(0,i._A)(r))?u&&u.includes(f)?(c||(c={}))[f]=h:n[f]=h:s(e.emitsOptions,r)||h!==o[r]&&(o[r]=h,l=!0)}if(u){const t=(0,r.IU)(n),o=c||i.kT;for(let r=0;r<u.length;r++){const s=u[r];n[s]=be(a,t,s,o[s],e,!(0,i.RI)(o,s))}}return l}function be(e,t,n,r,o,a){const s=e[n];if(null!=s){const e=(0,i.RI)(s,"default");if(e&&void 0===r){const e=s.default;if(s.type!==Function&&(0,i.mf)(e)){const{propsDefaults:i}=o;n in i?r=i[n]:(Gt(o),r=i[n]=e.call(null,t),zt())}else r=e}s[0]&&(a&&!e?r=!1:!s[1]||""!==r&&r!==(0,i.rs)(n)||(r=!0))}return r}function we(e,t,n=!1){const r=t.propsCache,o=r.get(e);if(o)return o;const a=e.props,s={},u=[];let c=!1;if(!(0,i.mf)(e)){const r=e=>{c=!0;const[n,r]=we(e,t,!0);(0,i.l7)(s,n),r&&u.push(...r)};!n&&t.mixins.length&&t.mixins.forEach(r),e.extends&&r(e.extends),e.mixins&&e.mixins.forEach(r)}if(!a&&!c)return r.set(e,i.Z6),i.Z6;if((0,i.kJ)(a))for(let h=0;h<a.length;h++){0;const e=(0,i._A)(a[h]);_e(e)&&(s[e]=i.kT)}else if(a){0;for(const e in a){const t=(0,i._A)(e);if(_e(t)){const n=a[e],r=s[t]=(0,i.kJ)(n)||(0,i.mf)(n)?{type:n}:n;if(r){const e=Ee(Boolean,r.type),n=Ee(String,r.type);r[0]=e>-1,r[1]=n<0||e<n,(e>-1||(0,i.RI)(r,"default"))&&u.push(t)}}}}const l=[s,u];return r.set(e,l),l}function _e(e){return"$"!==e[0]}function Te(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:null===e?"null":""}function Se(e,t){return Te(e)===Te(t)}function Ee(e,t){return(0,i.kJ)(t)?t.findIndex((t=>Se(t,e))):(0,i.mf)(t)&&Se(t,e)?0:-1}const Ie=e=>"_"===e[0]||"$stable"===e,ke=e=>(0,i.kJ)(e)?e.map(Nt):[Nt(e)],Ce=(e,t,n)=>{const r=h(((...e)=>ke(t(...e))),n);return r._c=!1,r},xe=(e,t,n)=>{const r=e._ctx;for(const o in e){if(Ie(o))continue;const n=e[o];if((0,i.mf)(n))t[o]=Ce(o,n,r);else if(null!=n){0;const e=ke(n);t[o]=()=>e}}},Ae=(e,t)=>{const n=ke(t);e.slots.default=()=>n},Re=(e,t)=>{if(32&e.vnode.shapeFlag){const n=t._;n?(e.slots=(0,r.IU)(t),(0,i.Nj)(t,"_",n)):xe(t,e.slots={})}else e.slots={},t&&Ae(e,t);(0,i.Nj)(e.slots,_t,1)},Ne=(e,t,n)=>{const{vnode:r,slots:o}=e;let a=!0,s=i.kT;if(32&r.shapeFlag){const e=t._;e?n&&1===e?a=!1:((0,i.l7)(o,t),n||1!==e||delete o._):(a=!t.$stable,xe(t,o)),s=t}else t&&(Ae(e,t),s={default:1});if(a)for(const i in o)Ie(i)||i in s||delete o[i]};function Pe(e,t){const n=u;if(null===n)return e;const r=n.proxy,o=e.dirs||(e.dirs=[]);for(let a=0;a<t.length;a++){let[e,n,s,u=i.kT]=t[a];(0,i.mf)(e)&&(e={mounted:e,updated:e}),e.deep&&Un(n),o.push({dir:e,instance:r,value:n,oldValue:void 0,arg:s,modifiers:u})}return e}function Oe(e,t,n,i){const o=e.dirs,a=t&&t.dirs;for(let s=0;s<o.length;s++){const u=o[s];a&&(u.oldValue=a[s].value);let c=u.dir[i];c&&((0,r.Jd)(),sn(c,n,8,[e.el,u,e,t]),(0,r.lk)())}}function De(){return{app:null,config:{isNativeTag:i.NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Le=0;function Me(e,t){return function(n,r=null){null==r||(0,i.Kn)(r)||(r=null);const o=De(),a=new Set;let s=!1;const u=o.app={_uid:Le++,_component:n,_props:r,_container:null,_context:o,_instance:null,version:Vn,get config(){return o.config},set config(e){0},use(e,...t){return a.has(e)||(e&&(0,i.mf)(e.install)?(a.add(e),e.install(u,...t)):(0,i.mf)(e)&&(a.add(e),e(u,...t))),u},mixin(e){return o.mixins.includes(e)||o.mixins.push(e),u},component(e,t){return t?(o.components[e]=t,u):o.components[e]},directive(e,t){return t?(o.directives[e]=t,u):o.directives[e]},mount(i,a,c){if(!s){const l=It(n,r);return l.appContext=o,a&&t?t(l,i):e(l,i,c),s=!0,u._container=i,i.__vue_app__=u,nn(l.component)||l.component.proxy}},unmount(){s&&(e(null,u._container),delete u._container.__vue_app__)},provide(e,t){return o.provides[e]=t,u}};return u}}function Fe(){}const qe=b;function je(e){return Ue(e)}function Ue(e,t){Fe();const n=(0,i.E9)();n.__VUE__=!0;const{insert:o,remove:a,patchProp:s,createElement:u,createText:c,createComment:l,setText:h,setElementText:d,parentNode:p,nextSibling:g,setScopeId:y=i.dG,cloneNode:b,insertStaticContent:w}=e,_=(e,t,n,r=null,i=null,o=null,a=!1,s=null,u=!!t.dynamicChildren)=>{if(e===t)return;e&&!wt(e,t)&&(r=Y(e),K(e,i,o,!0),e=null),-2===t.patchFlag&&(u=!1,t.dynamicChildren=null);const{type:c,ref:l,shapeFlag:h}=t;switch(c){case st:T(e,t,n,r);break;case ut:S(e,t,n,r);break;case ct:null==e&&E(t,n,r,a);break;case at:M(e,t,n,r,i,o,a,s,u);break;default:1&h?C(e,t,n,r,i,o,a,s,u):6&h?F(e,t,n,r,i,o,a,s,u):(64&h||128&h)&&c.process(e,t,n,r,i,o,a,s,u,X)}null!=l&&i&&Be(l,e&&e.ref,o,t||e,!t)},T=(e,t,n,r)=>{if(null==e)o(t.el=c(t.children),n,r);else{const n=t.el=e.el;t.children!==e.children&&h(n,t.children)}},S=(e,t,n,r)=>{null==e?o(t.el=l(t.children||""),n,r):t.el=e.el},E=(e,t,n,r)=>{[e.el,e.anchor]=w(e.children,t,n,r)},I=({el:e,anchor:t},n,r)=>{let i;while(e&&e!==t)i=g(e),o(e,n,r),e=i;o(t,n,r)},k=({el:e,anchor:t})=>{let n;while(e&&e!==t)n=g(e),a(e),e=n;a(t)},C=(e,t,n,r,i,o,a,s,u)=>{a=a||"svg"===t.type,null==e?x(t,n,r,i,o,a,s,u):N(e,t,i,o,a,s,u)},x=(e,t,n,r,a,c,l,h)=>{let f,p;const{type:v,props:g,shapeFlag:m,transition:y,patchFlag:w,dirs:_}=e;if(e.el&&void 0!==b&&-1===w)f=e.el=b(e.el);else{if(f=e.el=u(e.type,c,g&&g.is,g),8&m?d(f,e.children):16&m&&R(e.children,f,null,r,a,c&&"foreignObject"!==v,l,h),_&&Oe(e,null,r,"created"),g){for(const t in g)"value"===t||(0,i.Gg)(t)||s(f,t,null,g[t],c,e.children,r,a,Z);"value"in g&&s(f,"value",null,g.value),(p=g.onVnodeBeforeMount)&&Ve(p,r,e)}A(f,e,e.scopeId,l,r)}_&&Oe(e,null,r,"beforeMount");const T=(!a||a&&!a.pendingBranch)&&y&&!y.persisted;T&&y.beforeEnter(f),o(f,t,n),((p=g&&g.onVnodeMounted)||T||_)&&qe((()=>{p&&Ve(p,r,e),T&&y.enter(f),_&&Oe(e,null,r,"mounted")}),a)},A=(e,t,n,r,i)=>{if(n&&y(e,n),r)for(let o=0;o<r.length;o++)y(e,r[o]);if(i){let n=i.subTree;if(t===n){const t=i.vnode;A(e,t,t.scopeId,t.slotScopeIds,i.parent)}}},R=(e,t,n,r,i,o,a,s,u=0)=>{for(let c=u;c<e.length;c++){const u=e[c]=s?Pt(e[c]):Nt(e[c]);_(null,u,t,n,r,i,o,a,s)}},N=(e,t,n,r,o,a,u)=>{const c=t.el=e.el;let{patchFlag:l,dynamicChildren:h,dirs:f}=t;l|=16&e.patchFlag;const p=e.props||i.kT,v=t.props||i.kT;let g;(g=v.onVnodeBeforeUpdate)&&Ve(g,n,t,e),f&&Oe(t,e,n,"beforeUpdate");const m=o&&"foreignObject"!==t.type;if(h?P(e.dynamicChildren,h,c,n,r,m,a):u||V(e,t,c,null,n,r,m,a,!1),l>0){if(16&l)L(c,t,p,v,n,r,o);else if(2&l&&p.class!==v.class&&s(c,"class",null,v.class,o),4&l&&s(c,"style",p.style,v.style,o),8&l){const i=t.dynamicProps;for(let t=0;t<i.length;t++){const a=i[t],u=p[a],l=v[a];l===u&&"value"!==a||s(c,a,u,l,o,e.children,n,r,Z)}}1&l&&e.children!==t.children&&d(c,t.children)}else u||null!=h||L(c,t,p,v,n,r,o);((g=v.onVnodeUpdated)||f)&&qe((()=>{g&&Ve(g,n,t,e),f&&Oe(t,e,n,"updated")}),r)},P=(e,t,n,r,i,o,a)=>{for(let s=0;s<t.length;s++){const u=e[s],c=t[s],l=u.el&&(u.type===at||!wt(u,c)||70&u.shapeFlag)?p(u.el):n;_(u,c,l,null,r,i,o,a,!0)}},L=(e,t,n,r,o,a,u)=>{if(n!==r){for(const c in r){if((0,i.Gg)(c))continue;const l=r[c],h=n[c];l!==h&&"value"!==c&&s(e,c,h,l,u,t.children,o,a,Z)}if(n!==i.kT)for(const c in n)(0,i.Gg)(c)||c in r||s(e,c,n[c],null,u,t.children,o,a,Z);"value"in r&&s(e,"value",n.value,r.value)}},M=(e,t,n,r,i,a,s,u,l)=>{const h=t.el=e?e.el:c(""),f=t.anchor=e?e.anchor:c("");let{patchFlag:d,dynamicChildren:p,slotScopeIds:v}=t;v&&(u=u?u.concat(v):v),null==e?(o(h,n,r),o(f,n,r),R(t.children,n,f,i,a,s,u,l)):d>0&&64&d&&p&&e.dynamicChildren?(P(e.dynamicChildren,p,n,i,a,s,u),(null!=t.key||i&&t===i.subTree)&&He(e,t,!0)):V(e,t,n,f,i,a,s,u,l)},F=(e,t,n,r,i,o,a,s,u)=>{t.slotScopeIds=s,null==e?512&t.shapeFlag?i.ctx.activate(t,n,r,a,u):q(t,n,r,i,o,a,u):j(e,t,u)},q=(e,t,n,r,i,o,a)=>{const s=e.component=Bt(e,r,i);if(D(e)&&(s.ctx.renderer=X),Zt(s),s.asyncDep){if(i&&i.registerDep(s,U),!e.el){const e=s.subTree=It(ut);S(null,e,t,n)}}else U(s,e,t,n,i,o,a)},j=(e,t,n)=>{const r=t.component=e.component;if(v(e,t,n)){if(r.asyncDep&&!r.asyncResolved)return void B(r,t,n);r.next=t,Cn(r.update),r.update()}else t.component=e.component,t.el=e.el,r.vnode=t},U=(e,t,n,o,a,s,u)=>{const c=()=>{if(e.isMounted){let t,{next:n,bu:r,u:o,parent:c,vnode:h}=e,d=n;0,l.allowRecurse=!1,n?(n.el=h.el,B(e,n,u)):n=h,r&&(0,i.ir)(r),(t=n.props&&n.props.onVnodeBeforeUpdate)&&Ve(t,c,n,h),l.allowRecurse=!0;const v=f(e);0;const g=e.subTree;e.subTree=v,_(g,v,p(g.el),Y(g),e,a,s),n.el=v.el,null===d&&m(e,v.el),o&&qe(o,a),(t=n.props&&n.props.onVnodeUpdated)&&qe((()=>Ve(t,c,n,h)),a)}else{let r;const{el:u,props:c}=t,{bm:h,m:d,parent:p}=e,v=O(t);if(l.allowRecurse=!1,h&&(0,i.ir)(h),!v&&(r=c&&c.onVnodeBeforeMount)&&Ve(r,p,t),l.allowRecurse=!0,u&&te){const n=()=>{e.subTree=f(e),te(u,e.subTree,e,a,null)};v?t.type.__asyncLoader().then((()=>!e.isUnmounted&&n())):n()}else{0;const r=e.subTree=f(e);0,_(null,r,n,o,e,a,s),t.el=r.el}if(d&&qe(d,a),!v&&(r=c&&c.onVnodeMounted)){const e=t;qe((()=>Ve(r,p,e)),a)}256&t.shapeFlag&&e.a&&qe(e.a,a),e.isMounted=!0,t=n=o=null}},l=new r.qq(c,(()=>In(e.update)),e.scope),h=e.update=l.run.bind(l);h.id=e.uid,l.allowRecurse=h.allowRecurse=!0,h()},B=(e,t,n)=>{t.component=e;const i=e.vnode.props;e.vnode=t,e.next=null,me(e,t.props,i,n),Ne(e,t.children,n),(0,r.Jd)(),Nn(void 0,e.update),(0,r.lk)()},V=(e,t,n,r,i,o,a,s,u=!1)=>{const c=e&&e.children,l=e?e.shapeFlag:0,h=t.children,{patchFlag:f,shapeFlag:p}=t;if(f>0){if(128&f)return void G(c,h,n,r,i,o,a,s,u);if(256&f)return void H(c,h,n,r,i,o,a,s,u)}8&p?(16&l&&Z(c,i,o),h!==c&&d(n,h)):16&l?16&p?G(c,h,n,r,i,o,a,s,u):Z(c,i,o,!0):(8&l&&d(n,""),16&p&&R(h,n,r,i,o,a,s,u))},H=(e,t,n,r,o,a,s,u,c)=>{e=e||i.Z6,t=t||i.Z6;const l=e.length,h=t.length,f=Math.min(l,h);let d;for(d=0;d<f;d++){const r=t[d]=c?Pt(t[d]):Nt(t[d]);_(e[d],r,n,null,o,a,s,u,c)}l>h?Z(e,o,a,!0,!1,f):R(t,n,r,o,a,s,u,c,f)},G=(e,t,n,r,o,a,s,u,c)=>{let l=0;const h=t.length;let f=e.length-1,d=h-1;while(l<=f&&l<=d){const r=e[l],i=t[l]=c?Pt(t[l]):Nt(t[l]);if(!wt(r,i))break;_(r,i,n,null,o,a,s,u,c),l++}while(l<=f&&l<=d){const r=e[f],i=t[d]=c?Pt(t[d]):Nt(t[d]);if(!wt(r,i))break;_(r,i,n,null,o,a,s,u,c),f--,d--}if(l>f){if(l<=d){const e=d+1,i=e<h?t[e].el:r;while(l<=d)_(null,t[l]=c?Pt(t[l]):Nt(t[l]),n,i,o,a,s,u,c),l++}}else if(l>d)while(l<=f)K(e[l],o,a,!0),l++;else{const p=l,v=l,g=new Map;for(l=v;l<=d;l++){const e=t[l]=c?Pt(t[l]):Nt(t[l]);null!=e.key&&g.set(e.key,l)}let m,y=0;const b=d-v+1;let w=!1,T=0;const S=new Array(b);for(l=0;l<b;l++)S[l]=0;for(l=p;l<=f;l++){const r=e[l];if(y>=b){K(r,o,a,!0);continue}let i;if(null!=r.key)i=g.get(r.key);else for(m=v;m<=d;m++)if(0===S[m-v]&&wt(r,t[m])){i=m;break}void 0===i?K(r,o,a,!0):(S[i-v]=l+1,i>=T?T=i:w=!0,_(r,t[i],n,null,o,a,s,u,c),y++)}const E=w?Ge(S):i.Z6;for(m=E.length-1,l=b-1;l>=0;l--){const e=v+l,i=t[e],f=e+1<h?t[e+1].el:r;0===S[l]?_(null,i,n,f,o,a,s,u,c):w&&(m<0||l!==E[m]?z(i,n,f,2):m--)}}},z=(e,t,n,r,i=null)=>{const{el:a,type:s,transition:u,children:c,shapeFlag:l}=e;if(6&l)return void z(e.component.subTree,t,n,r);if(128&l)return void e.suspense.move(t,n,r);if(64&l)return void s.move(e,t,n,X);if(s===at){o(a,t,n);for(let e=0;e<c.length;e++)z(c[e],t,n,r);return void o(e.anchor,t,n)}if(s===ct)return void I(e,t,n);const h=2!==r&&1&l&&u;if(h)if(0===r)u.beforeEnter(a),o(a,t,n),qe((()=>u.enter(a)),i);else{const{leave:e,delayLeave:r,afterLeave:i}=u,s=()=>o(a,t,n),c=()=>{e(a,(()=>{s(),i&&i()}))};r?r(a,s,c):c()}else o(a,t,n)},K=(e,t,n,r=!1,i=!1)=>{const{type:o,props:a,ref:s,children:u,dynamicChildren:c,shapeFlag:l,patchFlag:h,dirs:f}=e;if(null!=s&&Be(s,null,n,e,!0),256&l)return void t.ctx.deactivate(e);const d=1&l&&f,p=!O(e);let v;if(p&&(v=a&&a.onVnodeBeforeUnmount)&&Ve(v,t,e),6&l)J(e.component,n,r);else{if(128&l)return void e.suspense.unmount(n,r);d&&Oe(e,null,t,"beforeUnmount"),64&l?e.type.remove(e,t,n,i,X,r):c&&(o!==at||h>0&&64&h)?Z(c,t,n,!1,!0):(o===at&&384&h||!i&&16&l)&&Z(u,t,n),r&&$(e)}(p&&(v=a&&a.onVnodeUnmounted)||d)&&qe((()=>{v&&Ve(v,t,e),d&&Oe(e,null,t,"unmounted")}),n)},$=e=>{const{type:t,el:n,anchor:r,transition:i}=e;if(t===at)return void W(n,r);if(t===ct)return void k(e);const o=()=>{a(n),i&&!i.persisted&&i.afterLeave&&i.afterLeave()};if(1&e.shapeFlag&&i&&!i.persisted){const{leave:t,delayLeave:r}=i,a=()=>t(n,o);r?r(e.el,o,a):a()}else o()},W=(e,t)=>{let n;while(e!==t)n=g(e),a(e),e=n;a(t)},J=(e,t,n)=>{const{bum:r,scope:o,update:a,subTree:s,um:u}=e;r&&(0,i.ir)(r),o.stop(),a&&(a.active=!1,K(s,e,t,n)),u&&qe(u,t),qe((()=>{e.isUnmounted=!0}),t),t&&t.pendingBranch&&!t.isUnmounted&&e.asyncDep&&!e.asyncResolved&&e.suspenseId===t.pendingId&&(t.deps--,0===t.deps&&t.resolve())},Z=(e,t,n,r=!1,i=!1,o=0)=>{for(let a=o;a<e.length;a++)K(e[a],t,n,r,i)},Y=e=>6&e.shapeFlag?Y(e.component.subTree):128&e.shapeFlag?e.suspense.next():g(e.anchor||e.el),Q=(e,t,n)=>{null==e?t._vnode&&K(t._vnode,null,null,!0):_(t._vnode||null,e,t,null,null,null,n),Pn(),t._vnode=e},X={p:_,um:K,m:z,r:$,mt:q,mc:R,pc:V,pbc:P,n:Y,o:e};let ee,te;return t&&([ee,te]=t(X)),{render:Q,hydrate:ee,createApp:Me(Q,ee)}}function Be(e,t,n,o,a=!1){if((0,i.kJ)(e))return void e.forEach(((e,r)=>Be(e,t&&((0,i.kJ)(t)?t[r]:t),n,o,a)));if(O(o)&&!a)return;const s=4&o.shapeFlag?nn(o.component)||o.component.proxy:o.el,u=a?null:s,{i:c,r:l}=e;const h=t&&t.r,f=c.refs===i.kT?c.refs={}:c.refs,d=c.setupState;if(null!=h&&h!==l&&((0,i.HD)(h)?(f[h]=null,(0,i.RI)(d,h)&&(d[h]=null)):(0,r.dq)(h)&&(h.value=null)),(0,i.HD)(l)){const e=()=>{f[l]=u,(0,i.RI)(d,l)&&(d[l]=u)};u?(e.id=-1,qe(e,n)):e()}else if((0,r.dq)(l)){const e=()=>{l.value=u};u?(e.id=-1,qe(e,n)):e()}else(0,i.mf)(l)&&an(l,c,12,[u,f])}function Ve(e,t,n,r=null){sn(e,t,7,[n,r])}function He(e,t,n=!1){const r=e.children,o=t.children;if((0,i.kJ)(r)&&(0,i.kJ)(o))for(let i=0;i<r.length;i++){const e=r[i];let t=o[i];1&t.shapeFlag&&!t.dynamicChildren&&((t.patchFlag<=0||32===t.patchFlag)&&(t=o[i]=Pt(o[i]),t.el=e.el),n||He(e,t))}}function Ge(e){const t=e.slice(),n=[0];let r,i,o,a,s;const u=e.length;for(r=0;r<u;r++){const u=e[r];if(0!==u){if(i=n[n.length-1],e[i]<u){t[r]=i,n.push(r);continue}o=0,a=n.length-1;while(o<a)s=o+a>>1,e[n[s]]<u?o=s+1:a=s;u<e[n[o]]&&(o>0&&(t[r]=n[o-1]),n[o]=r)}}o=n.length,a=n[o-1];while(o-- >0)n[o]=a,a=t[a];return n}const ze=e=>e.__isTeleport,Ke=e=>e&&(e.disabled||""===e.disabled),$e=e=>"undefined"!==typeof SVGElement&&e instanceof SVGElement,We=(e,t)=>{const n=e&&e.to;if((0,i.HD)(n)){if(t){const e=t(n);return e}return null}return n},Je={__isTeleport:!0,process(e,t,n,r,i,o,a,s,u,c){const{mc:l,pc:h,pbc:f,o:{insert:d,querySelector:p,createText:v,createComment:g}}=c,m=Ke(t.props);let{shapeFlag:y,children:b,dynamicChildren:w}=t;if(null==e){const e=t.el=v(""),c=t.anchor=v("");d(e,n,r),d(c,n,r);const h=t.target=We(t.props,p),f=t.targetAnchor=v("");h&&(d(f,h),a=a||$e(h));const g=(e,t)=>{16&y&&l(b,e,t,i,o,a,s,u)};m?g(n,c):h&&g(h,f)}else{t.el=e.el;const r=t.anchor=e.anchor,l=t.target=e.target,d=t.targetAnchor=e.targetAnchor,v=Ke(e.props),g=v?n:l,y=v?r:d;if(a=a||$e(l),w?(f(e.dynamicChildren,w,g,i,o,a,s),He(e,t,!0)):u||h(e,t,g,y,i,o,a,s,!1),m)v||Ze(t,n,r,c,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const e=t.target=We(t.props,p);e&&Ze(t,e,null,c,0)}else v&&Ze(t,l,d,c,1)}},remove(e,t,n,r,{um:i,o:{remove:o}},a){const{shapeFlag:s,children:u,anchor:c,targetAnchor:l,target:h,props:f}=e;if(h&&o(l),(a||!Ke(f))&&(o(c),16&s))for(let d=0;d<u.length;d++){const e=u[d];i(e,t,n,!0,!!e.dynamicChildren)}},move:Ze,hydrate:Ye};function Ze(e,t,n,{o:{insert:r},m:i},o=2){0===o&&r(e.targetAnchor,t,n);const{el:a,anchor:s,shapeFlag:u,children:c,props:l}=e,h=2===o;if(h&&r(a,t,n),(!h||Ke(l))&&16&u)for(let f=0;f<c.length;f++)i(c[f],t,n,2);h&&r(s,t,n)}function Ye(e,t,n,r,i,o,{o:{nextSibling:a,parentNode:s,querySelector:u}},c){const l=t.target=We(t.props,u);if(l){const u=l._lpa||l.firstChild;16&t.shapeFlag&&(Ke(t.props)?(t.anchor=c(a(e),t,s(e),n,r,i,o),t.targetAnchor=u):(t.anchor=a(e),t.targetAnchor=c(u,t,l,n,r,i,o)),l._lpa=t.targetAnchor&&a(t.targetAnchor))}return t.anchor&&a(t.anchor)}const Qe=Je,Xe="components",et="directives";function tt(e,t){return it(Xe,e,!0,t)||e}const nt=Symbol();function rt(e){return it(et,e)}function it(e,t,n=!0,r=!1){const o=u||Vt;if(o){const n=o.type;if(e===Xe){const e=rn(n);if(e&&(e===t||e===(0,i._A)(t)||e===(0,i.kC)((0,i._A)(t))))return n}const a=ot(o[e]||n[e],t)||ot(o.appContext[e],t);return!a&&r?n:a}}function ot(e,t){return e&&(e[t]||e[(0,i._A)(t)]||e[(0,i.kC)((0,i._A)(t))])}const at=Symbol(void 0),st=Symbol(void 0),ut=Symbol(void 0),ct=Symbol(void 0),lt=[];let ht=null;function ft(e=!1){lt.push(ht=e?null:[])}function dt(){lt.pop(),ht=lt[lt.length-1]||null}let pt=1;function vt(e){pt+=e}function gt(e){return e.dynamicChildren=pt>0?ht||i.Z6:null,dt(),pt>0&&ht&&ht.push(e),e}function mt(e,t,n,r,i,o){return gt(Et(e,t,n,r,i,o,!0))}function yt(e,t,n,r,i){return gt(It(e,t,n,r,i,!0))}function bt(e){return!!e&&!0===e.__v_isVNode}function wt(e,t){return e.type===t.type&&e.key===t.key}const _t="__vInternal",Tt=({key:e})=>null!=e?e:null,St=({ref:e})=>null!=e?(0,i.HD)(e)||(0,r.dq)(e)||(0,i.mf)(e)?{i:u,r:e}:e:null;function Et(e,t=null,n=null,r=0,o=null,a=(e===at?0:1),s=!1,u=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Tt(t),ref:t&&St(t),scopeId:c,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:r,dynamicProps:o,dynamicChildren:null,appContext:null};return u?(Ot(l,n),128&a&&e.normalize(l)):n&&(l.shapeFlag|=(0,i.HD)(n)?8:16),pt>0&&!s&&ht&&(l.patchFlag>0||6&a)&&32!==l.patchFlag&&ht.push(l),l}const It=kt;function kt(e,t=null,n=null,o=0,a=null,s=!1){if(e&&e!==nt||(e=ut),bt(e)){const r=xt(e,t,!0);return n&&Ot(r,n),r}if(on(e)&&(e=e.__vccOpts),t){t=Ct(t);let{class:e,style:n}=t;e&&!(0,i.HD)(e)&&(t.class=(0,i.C_)(e)),(0,i.Kn)(n)&&((0,r.X3)(n)&&!(0,i.kJ)(n)&&(n=(0,i.l7)({},n)),t.style=(0,i.j5)(n))}const u=(0,i.HD)(e)?1:y(e)?128:ze(e)?64:(0,i.Kn)(e)?4:(0,i.mf)(e)?2:0;return Et(e,t,n,o,a,u,s,!0)}function Ct(e){return e?(0,r.X3)(e)||_t in e?(0,i.l7)({},e):e:null}function xt(e,t,n=!1){const{props:r,ref:o,patchFlag:a,children:s}=e,u=t?Dt(r||{},t):r,c={__v_isVNode:!0,__v_skip:!0,type:e.type,props:u,key:u&&Tt(u),ref:t&&t.ref?n&&o?(0,i.kJ)(o)?o.concat(St(t)):[o,St(t)]:St(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:s,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==at?-1===a?16:16|a:a,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&xt(e.ssContent),ssFallback:e.ssFallback&&xt(e.ssFallback),el:e.el,anchor:e.anchor};return c}function At(e=" ",t=0){return It(st,null,e,t)}function Rt(e="",t=!1){return t?(ft(),yt(ut,null,e)):It(ut,null,e)}function Nt(e){return null==e||"boolean"===typeof e?It(ut):(0,i.kJ)(e)?It(at,null,e.slice()):"object"===typeof e?Pt(e):It(st,null,String(e))}function Pt(e){return null===e.el||e.memo?e:xt(e)}function Ot(e,t){let n=0;const{shapeFlag:r}=e;if(null==t)t=null;else if((0,i.kJ)(t))n=16;else if("object"===typeof t){if(65&r){const n=t.default;return void(n&&(n._c&&(n._d=!1),Ot(e,n()),n._c&&(n._d=!0)))}{n=32;const r=t._;r||_t in t?3===r&&u&&(1===u.slots._?t._=1:(t._=2,e.patchFlag|=1024)):t._ctx=u}}else(0,i.mf)(t)?(t={default:t,_ctx:u},n=32):(t=String(t),64&r?(n=16,t=[At(t)]):n=8);e.children=t,e.shapeFlag|=n}function Dt(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const e in r)if("class"===e)t.class!==r.class&&(t.class=(0,i.C_)([t.class,r.class]));else if("style"===e)t.style=(0,i.j5)([t.style,r.style]);else if((0,i.F7)(e)){const n=t[e],i=r[e];n!==i&&(t[e]=n?[].concat(n,i):i)}else""!==e&&(t[e]=r[e])}return t}function Lt(e,t,n,r){let o;const a=n&&n[r];if((0,i.kJ)(e)||(0,i.HD)(e)){o=new Array(e.length);for(let n=0,r=e.length;n<r;n++)o[n]=t(e[n],n,void 0,a&&a[n])}else if("number"===typeof e){0,o=new Array(e);for(let n=0;n<e;n++)o[n]=t(n+1,n,void 0,a&&a[n])}else if((0,i.Kn)(e))if(e[Symbol.iterator])o=Array.from(e,((e,n)=>t(e,n,void 0,a&&a[n])));else{const n=Object.keys(e);o=new Array(n.length);for(let r=0,i=n.length;r<i;r++){const i=n[r];o[r]=t(e[i],i,r,a&&a[r])}}else o=[];return n&&(n[r]=o),o}const Mt=e=>e?Kt(e)?nn(e)||e.proxy:Mt(e.parent):null,Ft=(0,i.l7)(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Mt(e.parent),$root:e=>Mt(e.root),$emit:e=>e.emit,$options:e=>se(e),$forceUpdate:e=>()=>In(e.update),$nextTick:e=>Sn.bind(e.proxy),$watch:e=>qn.bind(e)}),qt={get({_:e},t){const{ctx:n,setupState:o,data:a,props:s,accessCache:u,type:c,appContext:l}=e;let h;if("$"!==t[0]){const r=u[t];if(void 0!==r)switch(r){case 0:return o[t];case 1:return a[t];case 3:return n[t];case 2:return s[t]}else{if(o!==i.kT&&(0,i.RI)(o,t))return u[t]=0,o[t];if(a!==i.kT&&(0,i.RI)(a,t))return u[t]=1,a[t];if((h=e.propsOptions[0])&&(0,i.RI)(h,t))return u[t]=2,s[t];if(n!==i.kT&&(0,i.RI)(n,t))return u[t]=3,n[t];ne&&(u[t]=4)}}const f=Ft[t];let d,p;return f?("$attrs"===t&&(0,r.j)(e,"get",t),f(e)):(d=c.__cssModules)&&(d=d[t])?d:n!==i.kT&&(0,i.RI)(n,t)?(u[t]=3,n[t]):(p=l.config.globalProperties,(0,i.RI)(p,t)?p[t]:void 0)},set({_:e},t,n){const{data:r,setupState:o,ctx:a}=e;if(o!==i.kT&&(0,i.RI)(o,t))o[t]=n;else if(r!==i.kT&&(0,i.RI)(r,t))r[t]=n;else if((0,i.RI)(e.props,t))return!1;return("$"!==t[0]||!(t.slice(1)in e))&&(a[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:o,propsOptions:a}},s){let u;return void 0!==n[s]||e!==i.kT&&(0,i.RI)(e,s)||t!==i.kT&&(0,i.RI)(t,s)||(u=a[0])&&(0,i.RI)(u,s)||(0,i.RI)(r,s)||(0,i.RI)(Ft,s)||(0,i.RI)(o.config.globalProperties,s)}};const jt=De();let Ut=0;function Bt(e,t,n){const s=e.type,u=(t?t.appContext:e.appContext)||jt,c={uid:Ut++,vnode:e,type:s,parent:t,appContext:u,root:null,next:null,subTree:null,update:null,scope:new r.Bj(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(u.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:we(s,u),emitsOptions:a(s,u),emit:null,emitted:null,propsDefaults:i.kT,inheritAttrs:s.inheritAttrs,ctx:i.kT,data:i.kT,props:i.kT,attrs:i.kT,slots:i.kT,refs:i.kT,setupState:i.kT,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return c.ctx={_:c},c.root=t?t.root:c,c.emit=o.bind(null,c),e.ce&&e.ce(c),c}let Vt=null;const Ht=()=>Vt||u,Gt=e=>{Vt=e,e.scope.on()},zt=()=>{Vt&&Vt.scope.off(),Vt=null};function Kt(e){return 4&e.vnode.shapeFlag}let $t,Wt,Jt=!1;function Zt(e,t=!1){Jt=t;const{props:n,children:r}=e.vnode,i=Kt(e);ge(e,n,i,t),Re(e,r);const o=i?Yt(e,t):void 0;return Jt=!1,o}function Yt(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=(0,r.Xl)(new Proxy(e.ctx,qt));const{setup:o}=n;if(o){const n=e.setupContext=o.length>1?tn(e):null;Gt(e),(0,r.Jd)();const a=an(o,e,0,[e.props,n]);if((0,r.lk)(),zt(),(0,i.tI)(a)){if(a.then(zt,zt),t)return a.then((n=>{Qt(e,n,t)})).catch((t=>{un(t,e,0)}));e.asyncDep=a}else Qt(e,a,t)}else Xt(e,t)}function Qt(e,t,n){(0,i.mf)(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:(0,i.Kn)(t)&&(e.setupState=(0,r.WL)(t)),Xt(e,n)}function Xt(e,t,n){const o=e.type;if(!e.render){if(!t&&$t&&!o.render){const t=o.template;if(t){0;const{isCustomElement:n,compilerOptions:r}=e.appContext.config,{delimiters:a,compilerOptions:s}=o,u=(0,i.l7)((0,i.l7)({isCustomElement:n,delimiters:a},r),s);o.render=$t(t,u)}}e.render=o.render||i.dG,Wt&&Wt(e)}Gt(e),(0,r.Jd)(),re(e),(0,r.lk)(),zt()}function en(e){return new Proxy(e.attrs,{get(t,n){return(0,r.j)(e,"get","$attrs"),t[n]}})}function tn(e){const t=t=>{e.exposed=t||{}};let n;return{get attrs(){return n||(n=en(e))},slots:e.slots,emit:e.emit,expose:t}}function nn(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy((0,r.WL)((0,r.Xl)(e.exposed)),{get(t,n){return n in t?t[n]:n in Ft?Ft[n](e):void 0}}))}function rn(e){return(0,i.mf)(e)&&e.displayName||e.name}function on(e){return(0,i.mf)(e)&&"__vccOpts"in e}function an(e,t,n,r){let i;try{i=r?e(...r):e()}catch(o){un(o,t,n)}return i}function sn(e,t,n,r){if((0,i.mf)(e)){const o=an(e,t,n,r);return o&&(0,i.tI)(o)&&o.catch((e=>{un(e,t,n)})),o}const o=[];for(let i=0;i<e.length;i++)o.push(sn(e[i],t,n,r));return o}function un(e,t,n,r=!0){const i=t?t.vnode:null;if(t){let r=t.parent;const i=t.proxy,o=n;while(r){const t=r.ec;if(t)for(let n=0;n<t.length;n++)if(!1===t[n](e,i,o))return;r=r.parent}const a=t.appContext.config.errorHandler;if(a)return void an(a,null,10,[e,i,o])}cn(e,n,i,r)}function cn(e,t,n,r=!0){console.error(e)}let ln=!1,hn=!1;const fn=[];let dn=0;const pn=[];let vn=null,gn=0;const mn=[];let yn=null,bn=0;const wn=Promise.resolve();let _n=null,Tn=null;function Sn(e){const t=_n||wn;return e?t.then(this?e.bind(this):e):t}function En(e){let t=dn+1,n=fn.length;while(t<n){const r=t+n>>>1,i=On(fn[r]);i<e?t=r+1:n=r}return t}function In(e){fn.length&&fn.includes(e,ln&&e.allowRecurse?dn+1:dn)||e===Tn||(null==e.id?fn.push(e):fn.splice(En(e.id),0,e),kn())}function kn(){ln||hn||(hn=!0,_n=wn.then(Dn))}function Cn(e){const t=fn.indexOf(e);t>dn&&fn.splice(t,1)}function xn(e,t,n,r){(0,i.kJ)(e)?n.push(...e):t&&t.includes(e,e.allowRecurse?r+1:r)||n.push(e),kn()}function An(e){xn(e,vn,pn,gn)}function Rn(e){xn(e,yn,mn,bn)}function Nn(e,t=null){if(pn.length){for(Tn=t,vn=[...new Set(pn)],pn.length=0,gn=0;gn<vn.length;gn++)vn[gn]();vn=null,gn=0,Tn=null,Nn(e,t)}}function Pn(e){if(mn.length){const e=[...new Set(mn)];if(mn.length=0,yn)return void yn.push(...e);for(yn=e,yn.sort(((e,t)=>On(e)-On(t))),bn=0;bn<yn.length;bn++)yn[bn]();yn=null,bn=0}}const On=e=>null==e.id?1/0:e.id;function Dn(e){hn=!1,ln=!0,Nn(e),fn.sort(((e,t)=>On(e)-On(t)));i.dG;try{for(dn=0;dn<fn.length;dn++){const e=fn[dn];e&&!1!==e.active&&an(e,null,14)}}finally{dn=0,fn.length=0,Pn(e),ln=!1,_n=null,(fn.length||pn.length||mn.length)&&Dn(e)}}const Ln={};function Mn(e,t,n){return Fn(e,t,n)}function Fn(e,t,{immediate:n,deep:o,flush:a,onTrack:s,onTrigger:u}=i.kT){const c=Vt;let l,h,f=!1,d=!1;if((0,r.dq)(e)?(l=()=>e.value,f=!!e._shallow):(0,r.PG)(e)?(l=()=>e,o=!0):(0,i.kJ)(e)?(d=!0,f=e.some(r.PG),l=()=>e.map((e=>(0,r.dq)(e)?e.value:(0,r.PG)(e)?Un(e):(0,i.mf)(e)?an(e,c,2):void 0))):l=(0,i.mf)(e)?t?()=>an(e,c,2):()=>{if(!c||!c.isUnmounted)return h&&h(),sn(e,c,3,[p])}:i.dG,t&&o){const e=l;l=()=>Un(e())}let p=e=>{h=y.onStop=()=>{an(e,c,4)}};if(Jt)return p=i.dG,t?n&&sn(t,c,3,[l(),d?[]:void 0,p]):l(),i.dG;let v=d?[]:Ln;const g=()=>{if(y.active)if(t){const e=y.run();(o||f||(d?e.some(((e,t)=>(0,i.aU)(e,v[t]))):(0,i.aU)(e,v)))&&(h&&h(),sn(t,c,3,[e,v===Ln?void 0:v,p]),v=e)}else y.run()};let m;g.allowRecurse=!!t,m="sync"===a?g:"post"===a?()=>qe(g,c&&c.suspense):()=>{!c||c.isMounted?An(g):g()};const y=new r.qq(l,m);return t?n?g():v=y.run():"post"===a?qe(y.run.bind(y),c&&c.suspense):y.run(),()=>{y.stop(),c&&c.scope&&(0,i.Od)(c.scope.effects,y)}}function qn(e,t,n){const r=this.proxy,o=(0,i.HD)(e)?e.includes(".")?jn(r,e):()=>r[e]:e.bind(r,r);let a;(0,i.mf)(t)?a=t:(a=t.handler,n=t);const s=Vt;Gt(this);const u=Fn(o,a.bind(r),n);return s?Gt(s):zt(),u}function jn(e,t){const n=t.split(".");return()=>{let t=e;for(let e=0;e<n.length&&t;e++)t=t[n[e]];return t}}function Un(e,t){if(!(0,i.Kn)(e)||e["__v_skip"])return e;if(t=t||new Set,t.has(e))return e;if(t.add(e),(0,r.dq)(e))Un(e.value,t);else if((0,i.kJ)(e))for(let n=0;n<e.length;n++)Un(e[n],t);else if((0,i.DM)(e)||(0,i._N)(e))e.forEach((e=>{Un(e,t)}));else if((0,i.PO)(e))for(const n in e)Un(e[n],t);return e}function Bn(e,t,n){const r=arguments.length;return 2===r?(0,i.Kn)(t)&&!(0,i.kJ)(t)?bt(t)?It(e,null,[t]):It(e,t):It(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):3===r&&bt(n)&&(n=[n]),It(e,t,n))}Symbol("");const Vn="3.2.20"},8880:(e,t,n)=>{"use strict";n.d(t,{uT:()=>q,W3:()=>ie,ri:()=>pe,D2:()=>le});var r=n(2323),i=n(3673),o=n(1959);const a="http://www.w3.org/2000/svg",s="undefined"!==typeof document?document:null,u=new Map,c={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const i=t?s.createElementNS(a,e):s.createElement(e,n?{is:n}:void 0);return"select"===e&&r&&null!=r.multiple&&i.setAttribute("multiple",r.multiple),i},createText:e=>s.createTextNode(e),createComment:e=>s.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>s.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},cloneNode(e){const t=e.cloneNode(!0);return"_value"in e&&(t._value=e._value),t},insertStaticContent(e,t,n,r){const i=n?n.previousSibling:t.lastChild;let o=u.get(e);if(!o){const t=s.createElement("template");if(t.innerHTML=r?`<svg>${e}</svg>`:e,o=t.content,r){const e=o.firstChild;while(e.firstChild)o.appendChild(e.firstChild);o.removeChild(e)}u.set(e,o)}return t.insertBefore(o.cloneNode(!0),n),[i?i.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function l(e,t,n){const r=e._vtc;r&&(t=(t?[t,...r]:[...r]).join(" ")),null==t?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function h(e,t,n){const i=e.style,o=i.display;if(n)if((0,r.HD)(n))t!==n&&(i.cssText=n);else{for(const e in n)d(i,e,n[e]);if(t&&!(0,r.HD)(t))for(const e in t)null==n[e]&&d(i,e,"")}else e.removeAttribute("style");"_vod"in e&&(i.display=o)}const f=/\s*!important$/;function d(e,t,n){if((0,r.kJ)(n))n.forEach((n=>d(e,t,n)));else if(t.startsWith("--"))e.setProperty(t,n);else{const i=g(e,t);f.test(n)?e.setProperty((0,r.rs)(i),n.replace(f,""),"important"):e[i]=n}}const p=["Webkit","Moz","ms"],v={};function g(e,t){const n=v[t];if(n)return n;let i=(0,r._A)(t);if("filter"!==i&&i in e)return v[t]=i;i=(0,r.kC)(i);for(let r=0;r<p.length;r++){const n=p[r]+i;if(n in e)return v[t]=n}return t}const m="http://www.w3.org/1999/xlink";function y(e,t,n,i,o){if(i&&t.startsWith("xlink:"))null==n?e.removeAttributeNS(m,t.slice(6,t.length)):e.setAttributeNS(m,t,n);else{const i=(0,r.Pq)(t);null==n||i&&!(0,r.yA)(n)?e.removeAttribute(t):e.setAttribute(t,i?"":n)}}function b(e,t,n,i,o,a,s){if("innerHTML"===t||"textContent"===t)return i&&s(i,o,a),void(e[t]=null==n?"":n);if("value"===t&&"PROGRESS"!==e.tagName){e._value=n;const r=null==n?"":n;return e.value!==r&&(e.value=r),void(null==n&&e.removeAttribute(t))}if(""===n||null==n){const i=typeof e[t];if("boolean"===i)return void(e[t]=(0,r.yA)(n));if(null==n&&"string"===i)return e[t]="",void e.removeAttribute(t);if("number"===i){try{e[t]=0}catch(u){}return void e.removeAttribute(t)}}try{e[t]=n}catch(c){0}}let w=Date.now,_=!1;if("undefined"!==typeof window){w()>document.createEvent("Event").timeStamp&&(w=()=>performance.now());const e=navigator.userAgent.match(/firefox\/(\d+)/i);_=!!(e&&Number(e[1])<=53)}let T=0;const S=Promise.resolve(),E=()=>{T=0},I=()=>T||(S.then(E),T=w());function k(e,t,n,r){e.addEventListener(t,n,r)}function C(e,t,n,r){e.removeEventListener(t,n,r)}function x(e,t,n,r,i=null){const o=e._vei||(e._vei={}),a=o[t];if(r&&a)a.value=r;else{const[n,s]=R(t);if(r){const a=o[t]=N(r,i);k(e,n,a,s)}else a&&(C(e,n,a,s),o[t]=void 0)}}const A=/(?:Once|Passive|Capture)$/;function R(e){let t;if(A.test(e)){let n;t={};while(n=e.match(A))e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[(0,r.rs)(e.slice(2)),t]}function N(e,t){const n=e=>{const r=e.timeStamp||w();(_||r>=n.attached-1)&&(0,i.$d)(P(e,n.value),t,5,[e])};return n.value=e,n.attached=I(),n}function P(e,t){if((0,r.kJ)(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map((e=>t=>!t._stopped&&e(t)))}return t}const O=/^on[a-z]/,D=(e,t,n,i,o=!1,a,s,u,c)=>{"class"===t?l(e,i,o):"style"===t?h(e,n,i):(0,r.F7)(t)?(0,r.tR)(t)||x(e,t,n,i,s):("."===t[0]?(t=t.slice(1),1):"^"===t[0]?(t=t.slice(1),0):L(e,t,i,o))?b(e,t,i,a,s,u,c):("true-value"===t?e._trueValue=i:"false-value"===t&&(e._falseValue=i),y(e,t,i,o))};function L(e,t,n,i){return i?"innerHTML"===t||"textContent"===t||!!(t in e&&O.test(t)&&(0,r.mf)(n)):"spellcheck"!==t&&"draggable"!==t&&("form"!==t&&(("list"!==t||"INPUT"!==e.tagName)&&(("type"!==t||"TEXTAREA"!==e.tagName)&&((!O.test(t)||!(0,r.HD)(n))&&t in e))))}"undefined"!==typeof HTMLElement&&HTMLElement;const M="transition",F="animation",q=(e,{slots:t})=>(0,i.h)(i.P$,H(e),t);q.displayName="Transition";const j={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},U=q.props=(0,r.l7)({},i.P$.props,j),B=(e,t=[])=>{(0,r.kJ)(e)?e.forEach((e=>e(...t))):e&&e(...t)},V=e=>!!e&&((0,r.kJ)(e)?e.some((e=>e.length>1)):e.length>1);function H(e){const t={};for(const r in e)r in j||(t[r]=e[r]);if(!1===e.css)return t;const{name:n="v",type:i,duration:o,enterFromClass:a=`${n}-enter-from`,enterActiveClass:s=`${n}-enter-active`,enterToClass:u=`${n}-enter-to`,appearFromClass:c=a,appearActiveClass:l=s,appearToClass:h=u,leaveFromClass:f=`${n}-leave-from`,leaveActiveClass:d=`${n}-leave-active`,leaveToClass:p=`${n}-leave-to`}=e,v=G(o),g=v&&v[0],m=v&&v[1],{onBeforeEnter:y,onEnter:b,onEnterCancelled:w,onLeave:_,onLeaveCancelled:T,onBeforeAppear:S=y,onAppear:E=b,onAppearCancelled:I=w}=t,k=(e,t,n)=>{$(e,t?h:u),$(e,t?l:s),n&&n()},C=(e,t)=>{$(e,p),$(e,d),t&&t()},x=e=>(t,n)=>{const r=e?E:b,o=()=>k(t,e,n);B(r,[t,o]),W((()=>{$(t,e?c:a),K(t,e?h:u),V(r)||Z(t,i,g,o)}))};return(0,r.l7)(t,{onBeforeEnter(e){B(y,[e]),K(e,a),K(e,s)},onBeforeAppear(e){B(S,[e]),K(e,c),K(e,l)},onEnter:x(!1),onAppear:x(!0),onLeave(e,t){const n=()=>C(e,t);K(e,f),ee(),K(e,d),W((()=>{$(e,f),K(e,p),V(_)||Z(e,i,m,n)})),B(_,[e,n])},onEnterCancelled(e){k(e,!1),B(w,[e])},onAppearCancelled(e){k(e,!0),B(I,[e])},onLeaveCancelled(e){C(e),B(T,[e])}})}function G(e){if(null==e)return null;if((0,r.Kn)(e))return[z(e.enter),z(e.leave)];{const t=z(e);return[t,t]}}function z(e){const t=(0,r.He)(e);return t}function K(e,t){t.split(/\s+/).forEach((t=>t&&e.classList.add(t))),(e._vtc||(e._vtc=new Set)).add(t)}function $(e,t){t.split(/\s+/).forEach((t=>t&&e.classList.remove(t)));const{_vtc:n}=e;n&&(n.delete(t),n.size||(e._vtc=void 0))}function W(e){requestAnimationFrame((()=>{requestAnimationFrame(e)}))}let J=0;function Z(e,t,n,r){const i=e._endId=++J,o=()=>{i===e._endId&&r()};if(n)return setTimeout(o,n);const{type:a,timeout:s,propCount:u}=Y(e,t);if(!a)return r();const c=a+"end";let l=0;const h=()=>{e.removeEventListener(c,f),o()},f=t=>{t.target===e&&++l>=u&&h()};setTimeout((()=>{l<u&&h()}),s+1),e.addEventListener(c,f)}function Y(e,t){const n=window.getComputedStyle(e),r=e=>(n[e]||"").split(", "),i=r(M+"Delay"),o=r(M+"Duration"),a=Q(i,o),s=r(F+"Delay"),u=r(F+"Duration"),c=Q(s,u);let l=null,h=0,f=0;t===M?a>0&&(l=M,h=a,f=o.length):t===F?c>0&&(l=F,h=c,f=u.length):(h=Math.max(a,c),l=h>0?a>c?M:F:null,f=l?l===M?o.length:u.length:0);const d=l===M&&/\b(transform|all)(,|$)/.test(n[M+"Property"]);return{type:l,timeout:h,propCount:f,hasTransform:d}}function Q(e,t){while(e.length<t.length)e=e.concat(e);return Math.max(...t.map(((t,n)=>X(t)+X(e[n]))))}function X(e){return 1e3*Number(e.slice(0,-1).replace(",","."))}function ee(){return document.body.offsetHeight}const te=new WeakMap,ne=new WeakMap,re={name:"TransitionGroup",props:(0,r.l7)({},U,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=(0,i.FN)(),r=(0,i.Y8)();let a,s;return(0,i.ic)((()=>{if(!a.length)return;const t=e.moveClass||`${e.name||"v"}-move`;if(!ue(a[0].el,n.vnode.el,t))return;a.forEach(oe),a.forEach(ae);const r=a.filter(se);ee(),r.forEach((e=>{const n=e.el,r=n.style;K(n,t),r.transform=r.webkitTransform=r.transitionDuration="";const i=n._moveCb=e=>{e&&e.target!==n||e&&!/transform$/.test(e.propertyName)||(n.removeEventListener("transitionend",i),n._moveCb=null,$(n,t))};n.addEventListener("transitionend",i)}))})),()=>{const u=(0,o.IU)(e),c=H(u);let l=u.tag||i.HY;a=s,s=t.default?(0,i.Q6)(t.default()):[];for(let e=0;e<s.length;e++){const t=s[e];null!=t.key&&(0,i.nK)(t,(0,i.U2)(t,c,r,n))}if(a)for(let e=0;e<a.length;e++){const t=a[e];(0,i.nK)(t,(0,i.U2)(t,c,r,n)),te.set(t,t.el.getBoundingClientRect())}return(0,i.Wm)(l,null,s)}}},ie=re;function oe(e){const t=e.el;t._moveCb&&t._moveCb(),t._enterCb&&t._enterCb()}function ae(e){ne.set(e,e.el.getBoundingClientRect())}function se(e){const t=te.get(e),n=ne.get(e),r=t.left-n.left,i=t.top-n.top;if(r||i){const t=e.el.style;return t.transform=t.webkitTransform=`translate(${r}px,${i}px)`,t.transitionDuration="0s",e}}function ue(e,t,n){const r=e.cloneNode();e._vtc&&e._vtc.forEach((e=>{e.split(/\s+/).forEach((e=>e&&r.classList.remove(e)))})),n.split(/\s+/).forEach((e=>e&&r.classList.add(e))),r.style.display="none";const i=1===t.nodeType?t:t.parentNode;i.appendChild(r);const{hasTransform:o}=Y(r);return i.removeChild(r),o}const ce={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},le=(e,t)=>n=>{if(!("key"in n))return;const i=(0,r.rs)(n.key);return t.some((e=>e===i||ce[e]===i))?e(n):void 0};const he=(0,r.l7)({patchProp:D},c);let fe;function de(){return fe||(fe=(0,i.Us)(he))}const pe=(...e)=>{const t=de().createApp(...e);const{mount:n}=t;return t.mount=e=>{const i=ve(e);if(!i)return;const o=t._component;(0,r.mf)(o)||o.render||o.template||(o.template=i.innerHTML),i.innerHTML="";const a=n(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),a},t};function ve(e){if((0,r.HD)(e)){const t=document.querySelector(e);return t}return e}},2323:(e,t,n)=>{"use strict";function r(e,t){const n=Object.create(null),r=e.split(",");for(let i=0;i<r.length;i++)n[r[i]]=!0;return t?e=>!!n[e.toLowerCase()]:e=>!!n[e]}n.d(t,{Z6:()=>w,kT:()=>b,NO:()=>T,dG:()=>_,_A:()=>$,kC:()=>Z,Nj:()=>ee,l7:()=>k,E9:()=>re,aU:()=>Q,RI:()=>A,rs:()=>J,yA:()=>u,ir:()=>X,kJ:()=>R,mf:()=>D,e1:()=>o,S0:()=>H,_N:()=>N,tR:()=>I,Kn:()=>F,F7:()=>E,PO:()=>V,tI:()=>q,Gg:()=>G,DM:()=>P,Pq:()=>s,HD:()=>L,yk:()=>M,WV:()=>v,hq:()=>g,fY:()=>r,C_:()=>d,j5:()=>c,Od:()=>C,zw:()=>m,hR:()=>Y,He:()=>te,W7:()=>B});const i="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt",o=r(i);const a="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",s=r(a);function u(e){return!!e||""===e}function c(e){if(R(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],i=L(r)?f(r):c(r);if(i)for(const e in i)t[e]=i[e]}return t}return L(e)||F(e)?e:void 0}const l=/;(?![^(]*\))/g,h=/:(.+)/;function f(e){const t={};return e.split(l).forEach((e=>{if(e){const n=e.split(h);n.length>1&&(t[n[0].trim()]=n[1].trim())}})),t}function d(e){let t="";if(L(e))t=e;else if(R(e))for(let n=0;n<e.length;n++){const r=d(e[n]);r&&(t+=r+" ")}else if(F(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function p(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=v(e[r],t[r]);return n}function v(e,t){if(e===t)return!0;let n=O(e),r=O(t);if(n||r)return!(!n||!r)&&e.getTime()===t.getTime();if(n=R(e),r=R(t),n||r)return!(!n||!r)&&p(e,t);if(n=F(e),r=F(t),n||r){if(!n||!r)return!1;const i=Object.keys(e).length,o=Object.keys(t).length;if(i!==o)return!1;for(const n in e){const r=e.hasOwnProperty(n),i=t.hasOwnProperty(n);if(r&&!i||!r&&i||!v(e[n],t[n]))return!1}}return String(e)===String(t)}function g(e,t){return e.findIndex((e=>v(e,t)))}const m=e=>null==e?"":R(e)||F(e)&&(e.toString===j||!D(e.toString))?JSON.stringify(e,y,2):String(e),y=(e,t)=>t&&t.__v_isRef?y(e,t.value):N(t)?{[`Map(${t.size})`]:[...t.entries()].reduce(((e,[t,n])=>(e[`${t} =>`]=n,e)),{})}:P(t)?{[`Set(${t.size})`]:[...t.values()]}:!F(t)||R(t)||V(t)?t:String(t),b={},w=[],_=()=>{},T=()=>!1,S=/^on[^a-z]/,E=e=>S.test(e),I=e=>e.startsWith("onUpdate:"),k=Object.assign,C=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},x=Object.prototype.hasOwnProperty,A=(e,t)=>x.call(e,t),R=Array.isArray,N=e=>"[object Map]"===U(e),P=e=>"[object Set]"===U(e),O=e=>e instanceof Date,D=e=>"function"===typeof e,L=e=>"string"===typeof e,M=e=>"symbol"===typeof e,F=e=>null!==e&&"object"===typeof e,q=e=>F(e)&&D(e.then)&&D(e.catch),j=Object.prototype.toString,U=e=>j.call(e),B=e=>U(e).slice(8,-1),V=e=>"[object Object]"===U(e),H=e=>L(e)&&"NaN"!==e&&"-"!==e[0]&&""+parseInt(e,10)===e,G=r(",key,ref,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),z=e=>{const t=Object.create(null);return n=>{const r=t[n];return r||(t[n]=e(n))}},K=/-(\w)/g,$=z((e=>e.replace(K,((e,t)=>t?t.toUpperCase():"")))),W=/\B([A-Z])/g,J=z((e=>e.replace(W,"-$1").toLowerCase())),Z=z((e=>e.charAt(0).toUpperCase()+e.slice(1))),Y=z((e=>e?`on${Z(e)}`:"")),Q=(e,t)=>!Object.is(e,t),X=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},ee=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},te=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let ne;const re=()=>ne||(ne="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{})},52:(e,t,n)=>{e.exports=n(7974)},8699:(e,t,n)=>{"use strict";var r=n(7210),i=n(4923),o=n(3634),a=n(7696),s=n(9835),u=n(3423),c=n(8365),l=n(701);e.exports=function(e){return new Promise((function(t,n){var h=e.data,f=e.headers,d=e.responseType;r.isFormData(h)&&delete f["Content-Type"];var p=new XMLHttpRequest;if(e.auth){var v=e.auth.username||"",g=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";f.Authorization="Basic "+btoa(v+":"+g)}var m=s(e.baseURL,e.url);function y(){if(p){var r="getAllResponseHeaders"in p?u(p.getAllResponseHeaders()):null,o=d&&"text"!==d&&"json"!==d?p.response:p.responseText,a={data:o,status:p.status,statusText:p.statusText,headers:r,config:e,request:p};i(t,n,a),p=null}}if(p.open(e.method.toUpperCase(),a(m,e.params,e.paramsSerializer),!0),p.timeout=e.timeout,"onloadend"in p?p.onloadend=y:p.onreadystatechange=function(){p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))&&setTimeout(y)},p.onabort=function(){p&&(n(l("Request aborted",e,"ECONNABORTED",p)),p=null)},p.onerror=function(){n(l("Network Error",e,null,p)),p=null},p.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(l(t,e,e.transitional&&e.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",p)),p=null},r.isStandardBrowserEnv()){var b=(e.withCredentials||c(m))&&e.xsrfCookieName?o.read(e.xsrfCookieName):void 0;b&&(f[e.xsrfHeaderName]=b)}"setRequestHeader"in p&&r.forEach(f,(function(e,t){"undefined"===typeof h&&"content-type"===t.toLowerCase()?delete f[t]:p.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(p.withCredentials=!!e.withCredentials),d&&"json"!==d&&(p.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&p.addEventListener("progress",e.onDownloadProgress),"function"===typeof e.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){p&&(p.abort(),n(e),p=null)})),h||(h=null),p.send(h)}))}},7974:(e,t,n)=>{"use strict";var r=n(7210),i=n(2938),o=n(8799),a=n(4495),s=n(7079);function u(e){var t=new o(e),n=i(o.prototype.request,t);return r.extend(n,o.prototype,t),r.extend(n,t),n}var c=u(s);c.Axios=o,c.create=function(e){return u(a(c.defaults,e))},c.Cancel=n(6678),c.CancelToken=n(8858),c.isCancel=n(6029),c.all=function(e){return Promise.all(e)},c.spread=n(5178),c.isAxiosError=n(5615),e.exports=c,e.exports["default"]=c},6678:e=>{"use strict";function t(e){this.message=e}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,e.exports=t},8858:(e,t,n)=>{"use strict";var r=n(6678);function i(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var e,t=new i((function(t){e=t}));return{token:t,cancel:e}},e.exports=i},6029:e=>{"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},8799:(e,t,n)=>{"use strict";var r=n(7210),i=n(7696),o=n(2591),a=n(516),s=n(4495),u=n(3170),c=u.validators;function l(e){this.defaults=e,this.interceptors={request:new o,response:new o}}l.prototype.request=function(e){"string"===typeof e?(e=arguments[1]||{},e.url=arguments[0]):e=e||{},e=s(this.defaults,e),e.method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=e.transitional;void 0!==t&&u.assertOptions(t,{silentJSONParsing:c.transitional(c.boolean,"1.0.0"),forcedJSONParsing:c.transitional(c.boolean,"1.0.0"),clarifyTimeoutError:c.transitional(c.boolean,"1.0.0")},!1);var n=[],r=!0;this.interceptors.request.forEach((function(t){"function"===typeof t.runWhen&&!1===t.runWhen(e)||(r=r&&t.synchronous,n.unshift(t.fulfilled,t.rejected))}));var i,o=[];if(this.interceptors.response.forEach((function(e){o.push(e.fulfilled,e.rejected)})),!r){var l=[a,void 0];Array.prototype.unshift.apply(l,n),l=l.concat(o),i=Promise.resolve(e);while(l.length)i=i.then(l.shift(),l.shift());return i}var h=e;while(n.length){var f=n.shift(),d=n.shift();try{h=f(h)}catch(p){d(p);break}}try{i=a(h)}catch(p){return Promise.reject(p)}while(o.length)i=i.then(o.shift(),o.shift());return i},l.prototype.getUri=function(e){return e=s(this.defaults,e),i(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(e){l.prototype[e]=function(t,n){return this.request(s(n||{},{method:e,url:t,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(e){l.prototype[e]=function(t,n,r){return this.request(s(r||{},{method:e,url:t,data:n}))}})),e.exports=l},2591:(e,t,n)=>{"use strict";var r=n(7210);function i(){this.handlers=[]}i.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},9835:(e,t,n)=>{"use strict";var r=n(8380),i=n(6092);e.exports=function(e,t){return e&&!r(t)?i(e,t):t}},701:(e,t,n)=>{"use strict";var r=n(654);e.exports=function(e,t,n,i,o){var a=new Error(e);return r(a,t,n,i,o)}},516:(e,t,n)=>{"use strict";var r=n(7210),i=n(4330),o=n(6029),a=n(7079);function s(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){s(e),e.headers=e.headers||{},e.data=i.call(e,e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]}));var t=e.adapter||a.adapter;return t(e).then((function(t){return s(e),t.data=i.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return o(t)||(s(e),t&&t.response&&(t.response.data=i.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},654:e=>{"use strict";e.exports=function(e,t,n,r,i){return e.config=t,n&&(e.code=n),e.request=r,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},4495:(e,t,n)=>{"use strict";var r=n(7210);e.exports=function(e,t){t=t||{};var n={},i=["url","method","data"],o=["headers","auth","proxy","params"],a=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],s=["validateStatus"];function u(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function c(i){r.isUndefined(t[i])?r.isUndefined(e[i])||(n[i]=u(void 0,e[i])):n[i]=u(e[i],t[i])}r.forEach(i,(function(e){r.isUndefined(t[e])||(n[e]=u(void 0,t[e]))})),r.forEach(o,c),r.forEach(a,(function(i){r.isUndefined(t[i])?r.isUndefined(e[i])||(n[i]=u(void 0,e[i])):n[i]=u(void 0,t[i])})),r.forEach(s,(function(r){r in t?n[r]=u(e[r],t[r]):r in e&&(n[r]=u(void 0,e[r]))}));var l=i.concat(o).concat(a).concat(s),h=Object.keys(e).concat(Object.keys(t)).filter((function(e){return-1===l.indexOf(e)}));return r.forEach(h,c),n}},4923:(e,t,n)=>{"use strict";var r=n(701);e.exports=function(e,t,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},4330:(e,t,n)=>{"use strict";var r=n(7210),i=n(7079);e.exports=function(e,t,n){var o=this||i;return r.forEach(n,(function(n){e=n.call(o,e,t)})),e}},7079:(e,t,n)=>{"use strict";var r=n(7210),i=n(4733),o=n(654),a={"Content-Type":"application/x-www-form-urlencoded"};function s(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function u(){var e;return("undefined"!==typeof XMLHttpRequest||"undefined"!==typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(e=n(8699)),e}function c(e,t,n){if(r.isString(e))try{return(t||JSON.parse)(e),r.trim(e)}catch(i){if("SyntaxError"!==i.name)throw i}return(n||JSON.stringify)(e)}var l={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:u(),transformRequest:[function(e,t){return i(t,"Accept"),i(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(s(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)||t&&"application/json"===t["Content-Type"]?(s(t,"application/json"),c(e)):e}],transformResponse:[function(e){var t=this.transitional,n=t&&t.silentJSONParsing,i=t&&t.forcedJSONParsing,a=!n&&"json"===this.responseType;if(a||i&&r.isString(e)&&e.length)try{return JSON.parse(e)}catch(s){if(a){if("SyntaxError"===s.name)throw o(s,this,"E_JSON_PARSE");throw s}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(e){l.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){l.headers[e]=r.merge(a)})),e.exports=l},2938:e=>{"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},7696:(e,t,n)=>{"use strict";var r=n(7210);function i(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var o;if(n)o=n(t);else if(r.isURLSearchParams(t))o=t.toString();else{var a=[];r.forEach(t,(function(e,t){null!==e&&"undefined"!==typeof e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),a.push(i(t)+"="+i(e))})))})),o=a.join("&")}if(o){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}},6092:e=>{"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},3634:(e,t,n)=>{"use strict";var r=n(7210);e.exports=r.isStandardBrowserEnv()?function(){return{write:function(e,t,n,i,o,a){var s=[];s.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(i)&&s.push("path="+i),r.isString(o)&&s.push("domain="+o),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()},8380:e=>{"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},5615:e=>{"use strict";e.exports=function(e){return"object"===typeof e&&!0===e.isAxiosError}},8365:(e,t,n)=>{"use strict";var r=n(7210);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=i(window.location.href),function(t){var n=r.isString(t)?i(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return function(){return!0}}()},4733:(e,t,n)=>{"use strict";var r=n(7210);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},3423:(e,t,n)=>{"use strict";var r=n(7210),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,o,a={};return e?(r.forEach(e.split("\n"),(function(e){if(o=e.indexOf(":"),t=r.trim(e.substr(0,o)).toLowerCase(),n=r.trim(e.substr(o+1)),t){if(a[t]&&i.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([n]):a[t]?a[t]+", "+n:n}})),a):a}},5178:e=>{"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},3170:(e,t,n)=>{"use strict";var r=n(8593),i={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){i[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var o={},a=r.version.split(".");function s(e,t){for(var n=t?t.split("."):a,r=e.split("."),i=0;i<3;i++){if(n[i]>r[i])return!0;if(n[i]<r[i])return!1}return!1}function u(e,t,n){if("object"!==typeof e)throw new TypeError("options must be an object");var r=Object.keys(e),i=r.length;while(i-- >0){var o=r[i],a=t[o];if(a){var s=e[o],u=void 0===s||a(s,o,e);if(!0!==u)throw new TypeError("option "+o+" must be "+u)}else if(!0!==n)throw Error("Unknown option "+o)}}i.transitional=function(e,t,n){var i=t&&s(t);function a(e,t){return"[Axios v"+r.version+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,r,s){if(!1===e)throw new Error(a(r," has been removed in "+t));return i&&!o[r]&&(o[r]=!0,console.warn(a(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,s)}},e.exports={isOlderVersion:s,assertOptions:u,validators:i}},7210:(e,t,n)=>{"use strict";var r=n(2938),i=Object.prototype.toString;function o(e){return"[object Array]"===i.call(e)}function a(e){return"undefined"===typeof e}function s(e){return null!==e&&!a(e)&&null!==e.constructor&&!a(e.constructor)&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function u(e){return"[object ArrayBuffer]"===i.call(e)}function c(e){return"undefined"!==typeof FormData&&e instanceof FormData}function l(e){var t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer,t}function h(e){return"string"===typeof e}function f(e){return"number"===typeof e}function d(e){return null!==e&&"object"===typeof e}function p(e){if("[object Object]"!==i.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function v(e){return"[object Date]"===i.call(e)}function g(e){return"[object File]"===i.call(e)}function m(e){return"[object Blob]"===i.call(e)}function y(e){return"[object Function]"===i.call(e)}function b(e){return d(e)&&y(e.pipe)}function w(e){return"undefined"!==typeof URLSearchParams&&e instanceof URLSearchParams}function _(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function T(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)}function S(e,t){if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),o(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}function E(){var e={};function t(t,n){p(e[n])&&p(t)?e[n]=E(e[n],t):p(t)?e[n]=E({},t):o(t)?e[n]=t.slice():e[n]=t}for(var n=0,r=arguments.length;n<r;n++)S(arguments[n],t);return e}function I(e,t,n){return S(t,(function(t,i){e[i]=n&&"function"===typeof t?r(t,n):t})),e}function k(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}e.exports={isArray:o,isArrayBuffer:u,isBuffer:s,isFormData:c,isArrayBufferView:l,isString:h,isNumber:f,isObject:d,isPlainObject:p,isUndefined:a,isDate:v,isFile:g,isBlob:m,isFunction:y,isStream:b,isURLSearchParams:w,isStandardBrowserEnv:T,forEach:S,merge:E,extend:I,trim:_,stripBOM:k}},5096:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(3673),i=n(1959),o=n(4554),a=n(2417),s=n(7657);const u=(0,r.aZ)({name:"QAvatar",props:{...a.LU,fontSize:String,color:String,textColor:String,icon:String,square:Boolean,rounded:Boolean},setup(e,{slots:t}){const n=(0,a.ZP)(e),u=(0,i.Fl)((()=>"q-avatar"+(e.color?` bg-${e.color}`:"")+(e.textColor?` text-${e.textColor} q-chip--colored`:"")+(!0===e.square?" q-avatar--square":!0===e.rounded?" rounded-borders":""))),c=(0,i.Fl)((()=>e.fontSize?{fontSize:e.fontSize}:null));return()=>{const i=void 0!==e.icon?[(0,r.h)(o.Z,{name:e.icon})]:void 0;return(0,r.h)("div",{class:u.value,style:n.value},[(0,r.h)("div",{class:"q-avatar__content row flex-center overflow-hidden",style:c.value},(0,s.pf)(t.default,i))])}}})},5607:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(3673),i=n(1959),o=n(2236),a=n(7657);const s=(0,r.aZ)({name:"QBanner",props:{...o.S,inlineActions:Boolean,dense:Boolean,rounded:Boolean},setup(e,{slots:t}){const n=(0,r.FN)(),s=(0,o.Z)(e,n.proxy.$q),u=(0,i.Fl)((()=>"q-banner row items-center"+(!0===e.dense?" q-banner--dense":"")+(!0===s.value?" q-banner--dark q-dark":"")+(!0===e.rounded?" rounded-borders":""))),c=(0,i.Fl)((()=>"q-banner__actions row items-center justify-end col-"+(!0===e.inlineActions?"auto":"all")));return()=>{const n=[(0,r.h)("div",{class:"q-banner__avatar col-auto row items-center self-start"},(0,a.KR)(t.avatar)),(0,r.h)("div",{class:"q-banner__content col text-body2"},(0,a.KR)(t.default))],i=(0,a.KR)(t.action);return void 0!==i&&n.push((0,r.h)("div",{class:c.value},i)),(0,r.h)("div",{class:u.value+(!1===e.inlineActions&&void 0!==i?" q-banner--top-padding":""),role:"alert"},n)}}})},5709:(e,t,n)=>{"use strict";n.d(t,{Z:()=>$});n(9377);var r=n(3673),i=n(1959),o=n(4554),a=n(2165),s=n(7657);const u=(0,r.aZ)({name:"QBtnGroup",props:{unelevated:Boolean,outline:Boolean,flat:Boolean,rounded:Boolean,push:Boolean,stretch:Boolean,glossy:Boolean,spread:Boolean},setup(e,{slots:t}){const n=(0,i.Fl)((()=>{const t=["unelevated","outline","flat","rounded","push","stretch","glossy"].filter((t=>!0===e[t])).map((e=>`q-btn-group--${e}`)).join(" ");return"q-btn-group row no-wrap"+(t.length>0?" "+t:"")+(!0===e.spread?" q-btn-group--spread":" inline")}));return()=>(0,r.h)("div",{class:n.value},(0,s.KR)(t.default))}});n(71);var c=n(8880),l=n(9725),h=n(4716),f=n(1436);const d={target:{default:!0},noParentEvent:Boolean,contextMenu:Boolean};function p({showing:e,avoidEmit:t,configureAnchorEl:n}){const{props:o,proxy:a,emit:s}=(0,r.FN)(),u=(0,i.iH)(null);let c;function d(e){return null!==u.value&&(void 0===e||void 0===e.touches||e.touches.length<=1)}const p={};function v(){(0,h.ul)(p,"anchor")}function g(e){u.value=e;while(u.value.classList.contains("q-anchor--skip"))u.value=u.value.parentNode;n()}function m(){if(!1===o.target||""===o.target)u.value=null;else if(!0===o.target)g(a.$el.parentNode);else{let t=o.target;if("string"===typeof o.target)try{t=document.querySelector(o.target)}catch(e){t=void 0}void 0!==t&&null!==t?(u.value=t.$el||t,n()):(u.value=null,console.error(`Anchor: target "${o.target}" not found`))}}return void 0===n&&(Object.assign(p,{hide(e){a.hide(e)},toggle(e){a.toggle(e),e.qAnchorHandled=!0},toggleKey(e){!0===(0,f.So)(e,13)&&p.toggle(e)},contextClick(e){a.hide(e),(0,h.X$)(e),(0,r.Y3)((()=>{a.show(e),e.qAnchorHandled=!0}))},prevent:h.X$,mobileTouch(e){if(p.mobileCleanup(e),!0!==d(e))return;a.hide(e),u.value.classList.add("non-selectable");const t=e.target;(0,h.M0)(p,"anchor",[[t,"touchmove","mobileCleanup","passive"],[t,"touchend","mobileCleanup","passive"],[t,"touchcancel","mobileCleanup","passive"],[u.value,"contextmenu","prevent","notPassive"]]),c=setTimeout((()=>{a.show(e),e.qAnchorHandled=!0}),300)},mobileCleanup(t){u.value.classList.remove("non-selectable"),clearTimeout(c),!0===e.value&&void 0!==t&&(0,l.M)()}}),n=function(e=o.contextMenu){if(!0===o.noParentEvent||null===u.value)return;let t;t=!0===e?!0===a.$q.platform.is.mobile?[[u.value,"touchstart","mobileTouch","passive"]]:[[u.value,"mousedown","hide","passive"],[u.value,"contextmenu","contextClick","notPassive"]]:[[u.value,"click","toggle","passive"],[u.value,"keyup","toggleKey","passive"]],(0,h.M0)(p,"anchor",t)}),(0,r.YP)((()=>o.contextMenu),(e=>{null!==u.value&&(v(),n(e))})),(0,r.YP)((()=>o.target),(()=>{null!==u.value&&v(),m()})),(0,r.YP)((()=>o.noParentEvent),(e=>{null!==u.value&&(!0===e?v():n())})),(0,r.bv)((()=>{m(),!0!==t&&!0===o.modelValue&&null===u.value&&s("update:modelValue",!1)})),(0,r.Jd)((()=>{clearTimeout(c),v()})),{anchorEl:u,canShow:d,anchorEvents:p}}function v(e,t){const n=(0,i.iH)(null);let o;function a(e,t){const n=(void 0!==t?"add":"remove")+"EventListener",r=void 0!==t?t:o;e!==window&&e[n]("scroll",r,h.rU.passive),window[n]("scroll",r,h.rU.passive),o=t}function s(){null!==n.value&&(a(n.value),n.value=null)}const u=(0,r.YP)((()=>e.noParentEvent),(()=>{null!==n.value&&(s(),t())}));return(0,r.Jd)(u),{localScrollTarget:n,unconfigureScrollTarget:s,changeScrollEvent:a}}var g=n(3628),m=n(2236),y=n(9104),b=n(6104),w=n(416),_=n(4955),T=n(4312),S=n(8400),E=n(4704),I=n(8517),k=n(2012);let C;const{notPassiveCapture:x}=h.rU,A=[];function R(e){clearTimeout(C);const t=e.target;if(void 0===t||8===t.nodeType||!0===t.classList.contains("no-pointer-events"))return;let n=T.wN.length-1;while(n>=0){const e=T.wN[n].$;if("QDialog"!==e.type.name)break;if(!0!==e.props.seamless)return;n--}for(let r=A.length-1;r>=0;r--){const n=A[r];if(null!==n.anchorEl.value&&!1!==n.anchorEl.value.contains(t)||t!==document.body&&(null===n.innerRef.value||!1!==n.innerRef.value.contains(t)))return;e.qClickOutside=!0,n.onClickOutside(e)}}function N(e){A.push(e),1===A.length&&(document.addEventListener("mousedown",R,x),document.addEventListener("touchstart",R,x))}function P(e){const t=A.findIndex((t=>t===e));t>-1&&(A.splice(t,1),0===A.length&&(clearTimeout(C),document.removeEventListener("mousedown",R,x),document.removeEventListener("touchstart",R,x)))}var O=n(4688);let D,L;function M(e){const t=e.split(" ");return 2===t.length&&(!0!==["top","center","bottom"].includes(t[0])?(console.error("Anchor/Self position must start with one of top/center/bottom"),!1):!0===["left","middle","right","start","end"].includes(t[1])||(console.error("Anchor/Self position must end with one of left/middle/right/start/end"),!1))}function F(e){return!e||2===e.length&&("number"===typeof e[0]&&"number"===typeof e[1])}const q={"start#ltr":"left","start#rtl":"right","end#ltr":"right","end#rtl":"left"};function j(e,t){const n=e.split(" ");return{vertical:n[0],horizontal:q[`${n[1]}#${!0===t?"rtl":"ltr"}`]}}function U(e,t){let{top:n,left:r,right:i,bottom:o,width:a,height:s}=e.getBoundingClientRect();return void 0!==t&&(n-=t[1],r-=t[0],o+=t[1],i+=t[0],a+=t[0],s+=t[1]),{top:n,left:r,right:i,bottom:o,width:a,height:s,middle:r+(i-r)/2,center:n+(o-n)/2}}function B(e){return{top:0,center:e.offsetHeight/2,bottom:e.offsetHeight,left:0,middle:e.offsetWidth/2,right:e.offsetWidth}}function V(e){if(!0===O.Lp.is.ios&&void 0!==window.visualViewport){const e=document.body.style,{offsetLeft:t,offsetTop:n}=window.visualViewport;t!==D&&(e.setProperty("--q-pe-left",t+"px"),D=t),n!==L&&(e.setProperty("--q-pe-top",n+"px"),L=n)}let t;const{scrollLeft:n,scrollTop:r}=e.el;if(void 0===e.absoluteOffset)t=U(e.anchorEl,!0===e.cover?[0,0]:e.offset);else{const{top:n,left:r}=e.anchorEl.getBoundingClientRect(),i=n+e.absoluteOffset.top,o=r+e.absoluteOffset.left;t={top:i,left:o,width:1,height:1,right:o+1,center:i,middle:o,bottom:i+1}}let i={maxHeight:e.maxHeight,maxWidth:e.maxWidth,visibility:"visible"};!0!==e.fit&&!0!==e.cover||(i.minWidth=t.width+"px",!0===e.cover&&(i.minHeight=t.height+"px")),Object.assign(e.el.style,i);const o=B(e.el),a={top:t[e.anchorOrigin.vertical]-o[e.selfOrigin.vertical],left:t[e.anchorOrigin.horizontal]-o[e.selfOrigin.horizontal]};H(a,t,o,e.anchorOrigin,e.selfOrigin),i={top:a.top+"px",left:a.left+"px"},void 0!==a.maxHeight&&(i.maxHeight=a.maxHeight+"px",t.height>a.maxHeight&&(i.minHeight=i.maxHeight)),void 0!==a.maxWidth&&(i.maxWidth=a.maxWidth+"px",t.width>a.maxWidth&&(i.minWidth=i.maxWidth)),Object.assign(e.el.style,i),e.el.scrollTop!==r&&(e.el.scrollTop=r),e.el.scrollLeft!==n&&(e.el.scrollLeft=n)}function H(e,t,n,r,i){const o=n.bottom,a=n.right,s=(0,S.np)(),u=window.innerHeight-s,c=document.body.clientWidth;if(e.top<0||e.top+o>u)if("center"===i.vertical)e.top=t[r.vertical]>u/2?Math.max(0,u-o):0,e.maxHeight=Math.min(o,u);else if(t[r.vertical]>u/2){const n=Math.min(u,"center"===r.vertical?t.center:r.vertical===i.vertical?t.bottom:t.top);e.maxHeight=Math.min(o,n),e.top=Math.max(0,n-o)}else e.top=Math.max(0,"center"===r.vertical?t.center:r.vertical===i.vertical?t.top:t.bottom),e.maxHeight=Math.min(o,u-e.top);if(e.left<0||e.left+a>c)if(e.maxWidth=Math.min(a,c),"middle"===i.horizontal)e.left=t[r.horizontal]>c/2?Math.max(0,c-a):0;else if(t[r.horizontal]>c/2){const n=Math.min(c,"middle"===r.horizontal?t.middle:r.horizontal===i.horizontal?t.right:t.left);e.maxWidth=Math.min(a,n),e.left=Math.max(0,n-e.maxWidth)}else e.left=Math.max(0,"middle"===r.horizontal?t.middle:r.horizontal===i.horizontal?t.left:t.right),e.maxWidth=Math.min(a,c-e.left)}["left","middle","right"].forEach((e=>{q[`${e}#ltr`]=e,q[`${e}#rtl`]=e}));var G=n(230);const z=(0,r.aZ)({name:"QMenu",inheritAttrs:!1,props:{...d,...g.vr,...m.S,...b.D,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:M},self:{type:String,validator:M},offset:{type:Array,validator:F},scrollTarget:{default:void 0},touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...g.gH,"click","escape-key"],setup(e,{slots:t,emit:n,attrs:o}){let a,u,l,f=null;const d=(0,r.FN)(),{proxy:C}=d,{$q:x}=C,A=(0,i.iH)(null),R=(0,i.iH)(!1),O=(0,i.Fl)((()=>!0!==e.persistent&&!0!==e.noRouteDismiss)),D=(0,m.Z)(e,x),{registerTick:L,removeTick:M,prepareTick:F}=(0,w.Z)(),{registerTimeout:q,removeTimeout:U}=(0,_.Z)(),{transition:B,transitionStyle:H}=(0,b.Z)(e,R),{localScrollTarget:z,changeScrollEvent:K,unconfigureScrollTarget:$}=v(e,le),{anchorEl:W,canShow:J}=p({showing:R}),{hide:Z}=(0,g.ZP)({showing:R,canShow:J,handleShow:se,handleHide:ue,hideOnRouteChange:O,processOnMount:!0}),{showPortal:Y,hidePortal:Q,renderPortal:X}=(0,y.Z)(d,A,ve),ee={anchorEl:W,innerRef:A,onClickOutside(t){if(!0!==e.persistent&&!0===R.value)return Z(t),("touchstart"===t.type||t.target.classList.contains("q-dialog__backdrop"))&&(0,h.NS)(t),!0}},te=(0,i.Fl)((()=>j(e.anchor||(!0===e.cover?"center middle":"bottom start"),x.lang.rtl))),ne=(0,i.Fl)((()=>!0===e.cover?te.value:j(e.self||"top start",x.lang.rtl))),re=(0,i.Fl)((()=>(!0===e.square?" q-menu--square":"")+(!0===D.value?" q-menu--dark q-dark":""))),ie=(0,i.Fl)((()=>!0===e.autoClose?{onClick:he}:{})),oe=(0,i.Fl)((()=>!0===R.value&&!0!==e.persistent));function ae(){(0,G.jd)((()=>{let e=A.value;e&&!0!==e.contains(document.activeElement)&&(e=e.querySelector("[autofocus], [data-autofocus]")||e,e.focus())}))}function se(t){if(M(),U(),f=!1===e.noRefocus?document.activeElement:null,(0,I.i)(fe),Y(),le(),a=void 0,void 0!==t&&(e.touchPosition||e.contextMenu)){const e=(0,h.FK)(t);if(void 0!==e.left){const{top:t,left:n}=W.value.getBoundingClientRect();a={left:e.left-n,top:e.top-t}}}void 0===u&&(u=(0,r.YP)((()=>x.screen.width+"|"+x.screen.height+"|"+e.self+"|"+e.anchor+"|"+x.lang.rtl),pe)),!0!==e.noFocus&&document.activeElement.blur(),L((()=>{pe(),!0!==e.noFocus&&ae()})),F(),q((()=>{!0===x.platform.is.ios&&(l=e.autoClose,A.value.click()),pe(),Y(!0),n("show",t)}),e.transitionDuration)}function ue(t){M(),U(),ce(!0),null===f||void 0!==t&&!0===t.qClickOutside||f.focus(),q((()=>{Q(),n("hide",t)}),e.transitionDuration)}function ce(e){a=void 0,void 0!==u&&(u(),u=void 0),!0!==e&&!0!==R.value||((0,I.H)(fe),$(),P(ee),(0,E.k)(de))}function le(){null===W.value&&void 0===e.scrollTarget||(z.value=(0,S.b0)(W.value,e.scrollTarget),K(z.value,pe))}function he(e){!0!==l?((0,T.AH)(C,e),n("click",e)):l=!1}function fe(e){!0===oe.value&&!0!==(0,k.mY)(A.value,e.target)&&ae()}function de(e){n("escape-key"),Z(e)}function pe(){const t=A.value;null!==t&&null!==W.value&&V({el:t,offset:e.offset,anchorEl:W.value,anchorOrigin:te.value,selfOrigin:ne.value,absoluteOffset:a,fit:e.fit,cover:e.cover,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function ve(){return(0,r.h)(c.uT,{name:B.value,appear:!0},(()=>!0===R.value?(0,r.h)("div",{...o,ref:A,tabindex:-1,class:["q-menu q-position-engine scroll"+re.value,o.class],style:[o.style,H.value],...ie.value},(0,s.KR)(t.default)):null))}return(0,r.YP)(oe,(e=>{!0===e?((0,E.c)(de),N(ee)):((0,E.k)(de),P(ee))})),(0,r.Jd)(ce),Object.assign(C,{focus:ae,updatePosition:pe}),X}});var K=n(3646);const $=(0,r.aZ)({name:"QBtnDropdown",props:{...K.b,modelValue:Boolean,split:Boolean,dropdownIcon:String,contentClass:[Array,String,Object],contentStyle:[Array,String,Object],cover:Boolean,persistent:Boolean,noRouteDismiss:Boolean,autoClose:Boolean,menuAnchor:{type:String,default:"bottom end"},menuSelf:{type:String,default:"top end"},menuOffset:Array,disableMainBtn:Boolean,disableDropdown:Boolean,noIconAnimation:Boolean},emits:["update:modelValue","click","before-show","show","before-hide","hide"],setup(e,{slots:t,emit:n}){const{proxy:c}=(0,r.FN)(),l=(0,i.iH)(e.modelValue),f=(0,i.iH)(null),d=(0,i.Fl)((()=>{const t={"aria-expanded":!0===l.value?"true":"false","aria-haspopup":"true"};return(!0===e.disable||!1===e.split&&!0===e.disableMainBtn||!0===e.disableDropdown)&&(t["aria-disabled"]="true"),t})),p=(0,i.Fl)((()=>"q-btn-dropdown__arrow"+(!0===l.value&&!1===e.noIconAnimation?" rotate-180":"")+(!1===e.split?" q-btn-dropdown__arrow-container":"")));function v(e){l.value=!0,n("before-show",e)}function g(e){n("show",e),n("update:modelValue",!0)}function m(e){l.value=!1,n("before-hide",e)}function y(e){n("hide",e),n("update:modelValue",!1)}function b(e){n("click",e)}function w(e){(0,h.sT)(e),S(),n("click",e)}function _(e){null!==f.value&&f.value.toggle(e)}function T(e){null!==f.value&&f.value.show(e)}function S(e){null!==f.value&&f.value.hide(e)}return(0,r.YP)((()=>e.modelValue),(e=>{null!==f.value&&f.value[e?"show":"hide"]()})),(0,r.YP)((()=>e.split),S),Object.assign(c,{show:T,hide:S,toggle:_}),(0,r.bv)((()=>{!0===e.modelValue&&T()})),()=>{const n=[(0,r.h)(o.Z,{class:p.value,name:e.dropdownIcon||c.$q.iconSet.arrow.dropdown})];return!0!==e.disableDropdown&&n.push((0,r.h)(z,{ref:f,class:e.contentClass,style:e.contentStyle,cover:e.cover,fit:!0,persistent:e.persistent,noRouteDismiss:e.noRouteDismiss,autoClose:e.autoClose,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,separateClosePopup:!0,onBeforeShow:v,onShow:g,onBeforeHide:m,onHide:y},t.default)),!1===e.split?(0,r.h)(a.Z,{class:"q-btn-dropdown q-btn-dropdown--simple",...e,disable:!0===e.disable||!0===e.disableMainBtn,noWrap:!0,round:!1,...d.value,onClick:b},(()=>(0,s.KR)(t.label,[]).concat(n))):(0,r.h)(u,{class:"q-btn-dropdown q-btn-dropdown--split no-wrap q-btn-item",outline:e.outline,flat:e.flat,rounded:e.rounded,push:e.push,unelevated:e.unelevated,glossy:e.glossy,stretch:e.stretch},(()=>[(0,r.h)(a.Z,{class:"q-btn-dropdown--current",...e,disable:!0===e.disable||!0===e.disableMainBtn,noWrap:!0,iconRight:e.iconRight,round:!1,onClick:w},t.label),(0,r.h)(a.Z,{class:"q-btn-dropdown__arrow-container q-anchor--skip",...d.value,disable:!0===e.disable||!0===e.disableDropdown,outline:e.outline,flat:e.flat,rounded:e.rounded,push:e.push,size:e.size,color:e.color,textColor:e.textColor,dense:e.dense,ripple:e.ripple},(()=>n))]))}}})},2165:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(3673),i=n(1959),o=n(8880),a=n(4554),s=n(9754),u=n(6489),c=n(3646),l=n(7657),h=n(4716),f=n(1436);const{passiveCapture:d}=h.rU;let p=null,v=null,g=null;const m=(0,r.aZ)({name:"QBtn",props:{...c.b,percentage:Number,darkPercentage:Boolean},emits:["click","keydown","touchstart","mousedown","keyup"],setup(e,{slots:t,emit:n}){const{proxy:m}=(0,r.FN)(),{classes:y,style:b,innerClasses:w,attributes:_,hasLink:T,isLink:S,navigateToLink:E,isActionable:I}=(0,c.Z)(e),k=(0,i.iH)(null),C=(0,i.iH)(null);let x,A,R=null;const N=(0,i.Fl)((()=>void 0!==e.label&&null!==e.label&&""!==e.label)),P=(0,i.Fl)((()=>!0!==e.disable&&!1!==e.ripple&&{keyCodes:!0===S.value?[13,32]:[13],...!0===e.ripple?{}:e.ripple})),O=(0,i.Fl)((()=>({center:e.round}))),D=(0,i.Fl)((()=>{const t=Math.max(0,Math.min(100,e.percentage));return t>0?{transition:"transform 0.6s",transform:`translateX(${t-100}%)`}:{}})),L=(0,i.Fl)((()=>!0===e.loading?{onMousedown:H,onTouchstartPassive:H,onClick:H,onKeydown:H,onKeyup:H}:!0===I.value?{onClick:F,onKeydown:q,onMousedown:U,onTouchstartPassive:j}:{onClick:h.NS})),M=(0,i.Fl)((()=>({ref:k,class:"q-btn q-btn-item non-selectable no-outline "+y.value,style:b.value,..._.value,...L.value})));function F(t){if(null!==k.value){if(void 0!==t){if(!0===t.defaultPrevented)return;const n=document.activeElement;if("submit"===e.type&&n!==document.body&&!1===k.value.contains(n)&&!1===n.contains(k.value)){k.value.focus();const e=()=>{document.removeEventListener("keydown",h.NS,!0),document.removeEventListener("keyup",e,d),null!==k.value&&k.value.removeEventListener("blur",e,d)};document.addEventListener("keydown",h.NS,!0),document.addEventListener("keyup",e,d),k.value.addEventListener("blur",e,d)}}if(!0===T.value){const e=()=>{t.__qNavigate=!0,E(t)};n("click",t,e),!0!==t.defaultPrevented&&e()}else n("click",t)}}function q(e){null!==k.value&&(!0===(0,f.So)(e,[13,32])&&((0,h.NS)(e),v!==k.value&&(null!==v&&V(),k.value.focus(),v=k.value,k.value.classList.add("q-btn--active"),document.addEventListener("keyup",B,!0),k.value.addEventListener("blur",B,d))),n("keydown",e))}function j(e){null!==k.value&&(p!==k.value&&(null!==p&&V(),p=k.value,R=e.target,R.addEventListener("touchcancel",B,d),R.addEventListener("touchend",B,d)),x=!0,clearTimeout(A),A=setTimeout((()=>{x=!1}),200),n("touchstart",e))}function U(e){null!==k.value&&(g!==k.value&&(null!==g&&V(),g=k.value,k.value.classList.add("q-btn--active"),document.addEventListener("mouseup",B,d)),e.qSkipRipple=!0===x,n("mousedown",e))}function B(e){if(null!==k.value&&(void 0===e||"blur"!==e.type||document.activeElement!==k.value)){if(void 0!==e&&"keyup"===e.type){if(v===k.value&&!0===(0,f.So)(e,[13,32])){const t=new MouseEvent("click",e);t.qKeyEvent=!0,!0===e.defaultPrevented&&(0,h.X$)(t),!0===e.cancelBubble&&(0,h.sT)(t),k.value.dispatchEvent(t),(0,h.NS)(e),e.qKeyEvent=!0}n("keyup",e)}V()}}function V(e){const t=C.value;!0===e||p!==k.value&&g!==k.value||null===t||t===document.activeElement||(t.setAttribute("tabindex",-1),t.focus()),p===k.value&&(null!==R&&(R.removeEventListener("touchcancel",B,d),R.removeEventListener("touchend",B,d)),p=R=null),g===k.value&&(document.removeEventListener("mouseup",B,d),g=null),v===k.value&&(document.removeEventListener("keyup",B,!0),null!==k.value&&k.value.removeEventListener("blur",B,d),v=null),null!==k.value&&k.value.classList.remove("q-btn--active")}function H(e){e.qSkipRipple=!0}return(0,r.Jd)((()=>{V(!0)})),Object.assign(m,{click:F}),()=>{let n=[];void 0!==e.icon&&n.push((0,r.h)(a.Z,{name:e.icon,left:!1===e.stack&&!0===N.value,role:"img","aria-hidden":"true"})),!0===N.value&&n.push((0,r.h)("span",{class:"block"},[e.label])),n=(0,l.vs)(t.default,n),void 0!==e.iconRight&&!1===e.round&&n.push((0,r.h)(a.Z,{name:e.iconRight,right:!1===e.stack&&!0===N.value,role:"img","aria-hidden":"true"}));const i=[(0,r.h)("span",{class:"q-focus-helper",ref:C})];return!0===e.loading&&void 0!==e.percentage&&i.push((0,r.h)("span",{class:"q-btn__progress absolute-full overflow-hidden"},[(0,r.h)("span",{class:"q-btn__progress-indicator fit block"+(!0===e.darkPercentage?" q-btn__progress--dark":""),style:D.value})])),i.push((0,r.h)("span",{class:"q-btn__content text-center col items-center q-anchor--skip "+w.value},n)),null!==e.loading&&i.push((0,r.h)(o.uT,{name:"q-transition--fade"},(()=>!0===e.loading?[(0,r.h)("span",{key:"loading",class:"absolute-full flex flex-center"},void 0!==t.loading?t.loading():[(0,r.h)(s.Z)])]:null))),(0,r.wy)((0,r.h)(!0===S.value?"a":"button",M.value,i),[[u.Z,P.value,void 0,O.value]])}}})},3646:(e,t,n)=>{"use strict";n.d(t,{b:()=>c,Z:()=>l});n(9377);var r=n(1959),i=n(9992),o=n(2417),a=n(7277);const s={none:0,xs:4,sm:8,md:16,lg:24,xl:32},u={xs:8,sm:10,md:14,lg:20,xl:24},c={...o.LU,...a.$,type:{type:String,default:"button"},label:[Number,String],icon:String,iconRight:String,round:Boolean,outline:Boolean,flat:Boolean,unelevated:Boolean,rounded:Boolean,push:Boolean,glossy:Boolean,size:String,fab:Boolean,fabMini:Boolean,padding:String,color:String,textColor:String,noCaps:Boolean,noWrap:Boolean,dense:Boolean,tabindex:[Number,String],ripple:{type:[Boolean,Object],default:!0},align:{...i.jO.align,default:"center"},stack:Boolean,stretch:Boolean,loading:{type:Boolean,default:null},disable:Boolean};function l(e){const t=(0,o.ZP)(e,u),n=(0,i.ZP)(e),{hasLink:c,linkProps:l,navigateToLink:h}=(0,a.Z)(),f=(0,r.Fl)((()=>{const n=!1===e.fab&&!1===e.fabMini?t.value:{};return void 0!==e.padding?Object.assign({},n,{padding:e.padding.split(/\s+/).map((e=>e in s?s[e]+"px":e)).join(" "),minWidth:"0",minHeight:"0"}):n})),d=(0,r.Fl)((()=>!0===e.rounded||!0===e.fab||!0===e.fabMini)),p=(0,r.Fl)((()=>!0!==e.disable&&!0!==e.loading)),v=(0,r.Fl)((()=>!0===p.value?e.tabindex||0:-1)),g=(0,r.Fl)((()=>"a"===e.type||!0===c.value)),m=(0,r.Fl)((()=>!0===e.flat?"flat":!0===e.outline?"outline":!0===e.push?"push":!0===e.unelevated?"unelevated":"standard")),y=(0,r.Fl)((()=>{const t={tabindex:v.value};return"a"===e.type||"button"===e.type&&!0===c.value||(t.type=e.type),!0===c.value?(Object.assign(t,l.value),t.role="link"):t.role="a"===e.type?"link":"button",!0===e.loading&&void 0!==e.percentage&&Object.assign(t,{role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":e.percentage}),!0===e.disable&&(t.disabled="",t["aria-disabled"]="true"),t})),b=(0,r.Fl)((()=>{let t;return void 0!==e.color?t=!0===e.flat||!0===e.outline?`text-${e.textColor||e.color}`:`bg-${e.color} text-${e.textColor||"white"}`:e.textColor&&(t=`text-${e.textColor}`),`q-btn--${m.value} q-btn--`+(!0===e.round?"round":"rectangle"+(!0===d.value?" q-btn--rounded":""))+(void 0!==t?" "+t:"")+(!0===p.value?" q-btn--actionable q-focusable q-hoverable":!0===e.disable?" disabled":"")+(!0===e.fab?" q-btn--fab":!0===e.fabMini?" q-btn--fab-mini":"")+(!0===e.noCaps?" q-btn--no-uppercase":"")+(!0===e.dense?" q-btn--dense":"")+(!0===e.stretch?" no-border-radius self-stretch":"")+(!0===e.glossy?" glossy":"")})),w=(0,r.Fl)((()=>n.value+(!0===e.stack?" column":" row")+(!0===e.noWrap?" no-wrap text-no-wrap":"")+(!0===e.loading?" q-btn__content--hidden":"")));return{classes:b,style:f,innerClasses:w,attributes:y,hasLink:c,isLink:g,navigateToLink:h,isActionable:p}}},151:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});n(9377);var r=n(3673),i=n(1959),o=n(2236),a=n(7657);const s=(0,r.aZ)({name:"QCard",props:{...o.S,tag:{type:String,default:"div"},square:Boolean,flat:Boolean,bordered:Boolean},setup(e,{slots:t}){const n=(0,r.FN)(),s=(0,o.Z)(e,n.proxy.$q),u=(0,i.Fl)((()=>"q-card"+(!0===s.value?" q-card--dark q-dark":"")+(!0===e.bordered?" q-card--bordered":"")+(!0===e.square?" q-card--square no-border-radius":"")+(!0===e.flat?" q-card--flat no-shadow":"")));return()=>(0,r.h)(e.tag,{class:u.value},(0,a.KR)(t.default))}})},9367:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(3673),i=n(1959),o=n(9992),a=n(7657);const s=(0,r.aZ)({name:"QCardActions",props:{...o.jO,vertical:Boolean},setup(e,{slots:t}){const n=(0,o.ZP)(e),s=(0,i.Fl)((()=>`q-card__actions ${n.value} q-card__actions--`+(!0===e.vertical?"vert column":"horiz row")));return()=>(0,r.h)("div",{class:s.value},(0,a.KR)(t.default))}})},5589:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(3673),i=n(1959),o=n(7657);const a=(0,r.aZ)({name:"QCardSection",props:{tag:{type:String,default:"div"},horizontal:Boolean},setup(e,{slots:t}){const n=(0,i.Fl)((()=>"q-card__section q-card__section--"+(!0===e.horizontal?"horiz row no-wrap":"vert")));return()=>(0,r.h)(e.tag,{class:n.value},(0,o.KR)(t.default))}})},5845:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});n(71),n(7070);var r=n(3673),i=n(1959),o=n(2165),a=n(2236),s=n(9154),u=n(6583),c=n(7445);const l={fullscreen:Boolean,noRouteFullscreenExit:Boolean},h=["update:fullscreen","fullscreen"];function f(){const e=(0,r.FN)(),{props:t,emit:n,proxy:o}=e;let a,s,l;const h=(0,i.iH)(!1);function f(){!0===h.value?p():d()}function d(){!0!==h.value&&(h.value=!0,l=o.$el.parentNode,l.replaceChild(s,o.$el),document.body.appendChild(o.$el),document.body.classList.add("q-body--fullscreen-mixin"),a={handler:p},u.Z.add(a))}function p(){!0===h.value&&(void 0!==a&&(u.Z.remove(a),a=void 0),l.replaceChild(o.$el,s),document.body.classList.remove("q-body--fullscreen-mixin"),h.value=!1,void 0!==o.$el.scrollIntoView&&setTimeout((()=>{o.$el.scrollIntoView()})))}return!0===(0,c.Rb)(e)&&(0,r.YP)((()=>o.$route),(()=>{!0!==t.noRouteFullscreenExit&&p()})),(0,r.YP)((()=>t.fullscreen),(e=>{h.value!==e&&f()})),(0,r.YP)(h,(e=>{n("update:fullscreen",e),n("fullscreen",e)})),(0,r.wF)((()=>{s=document.createElement("span")})),(0,r.bv)((()=>{!0===t.fullscreen&&d()})),(0,r.Jd)(p),Object.assign(o,{toggleFullscreen:f,setFullscreen:d,exitFullscreen:p}),{inFullscreen:h,toggleFullscreen:f}}var d=n(782),p=n(7657);const v=["top","right","bottom","left"],g=["regular","flat","outline","push","unelevated"],m=(0,r.aZ)({name:"QCarousel",props:{...a.S,...s.t6,...l,transitionPrev:{type:String,default:"fade"},transitionNext:{type:String,default:"fade"},height:String,padding:Boolean,controlColor:String,controlTextColor:String,controlType:{type:String,validator:e=>g.includes(e),default:"flat"},autoplay:[Number,Boolean],arrows:Boolean,prevIcon:String,nextIcon:String,navigation:Boolean,navigationPosition:{type:String,validator:e=>v.includes(e)},navigationIcon:String,navigationActiveIcon:String,thumbnails:Boolean},emits:[...h,...s.K6],setup(e,{slots:t}){const{proxy:{$q:n}}=(0,r.FN)(),u=(0,a.Z)(e,n);let c,l;const{updatePanelsList:h,getPanelContent:v,panelDirectives:g,goToPanel:m,previousPanel:y,nextPanel:b,getEnabledPanels:w,panelIndex:_}=(0,s.ZP)(),{inFullscreen:T}=f(),S=(0,i.Fl)((()=>!0!==T.value&&void 0!==e.height?{height:e.height}:{})),E=(0,i.Fl)((()=>!0===e.vertical?"vertical":"horizontal")),I=(0,i.Fl)((()=>`q-carousel q-panel-parent q-carousel--with${!0===e.padding?"":"out"}-padding`+(!0===T.value?" fullscreen":"")+(!0===u.value?" q-carousel--dark q-dark":"")+(!0===e.arrows?` q-carousel--arrows-${E.value}`:"")+(!0===e.navigation?` q-carousel--navigation-${A.value}`:""))),k=(0,i.Fl)((()=>{const t=[e.prevIcon||n.iconSet.carousel[!0===e.vertical?"up":"left"],e.nextIcon||n.iconSet.carousel[!0===e.vertical?"down":"right"]];return!1===e.vertical&&!0===n.lang.rtl?t.reverse():t})),C=(0,i.Fl)((()=>e.navigationIcon||n.iconSet.carousel.navigationIcon)),x=(0,i.Fl)((()=>e.navigationActiveIcon||C.value)),A=(0,i.Fl)((()=>e.navigationPosition||(!0===e.vertical?"right":"bottom"))),R=(0,i.Fl)((()=>({color:e.controlColor,textColor:e.controlTextColor,round:!0,[e.controlType]:!0,dense:!0})));function N(){const t=!0===(0,d.hj)(e.autoplay)?e.autoplay:5e3;c=setTimeout(t>=0?b:y,Math.abs(t))}function P(t,n){return(0,r.h)("div",{class:`q-carousel__control q-carousel__navigation no-wrap absolute flex q-carousel__navigation--${t} q-carousel__navigation--${A.value}`+(void 0!==e.controlColor?` text-${e.controlColor}`:"")},[(0,r.h)("div",{class:"q-carousel__navigation-inner flex flex-center no-wrap"},w().map(n))])}function O(){const n=[];if(!0===e.navigation){const e=void 0!==t["navigation-icon"]?t["navigation-icon"]:e=>(0,r.h)(o.Z,{key:"nav"+e.name,class:`q-carousel__navigation-icon q-carousel__navigation-icon--${!0===e.active?"":"in"}active`,...e.btnProps,onClick:e.onClick}),i=l-1;n.push(P("buttons",((t,n)=>{const r=t.props.name,o=_.value===n;return e({index:n,maxIndex:i,name:r,active:o,btnProps:{icon:!0===o?x.value:C.value,size:"sm",...R.value},onClick:()=>{m(r)}})})))}else if(!0===e.thumbnails){const t=void 0!==e.controlColor?` text-${e.controlColor}`:"";n.push(P("thumbnails",(n=>{const i=n.props;return(0,r.h)("img",{key:"tmb#"+i.name,class:`q-carousel__thumbnail q-carousel__thumbnail--${i.name===e.modelValue?"":"in"}active`+t,src:i.imgSrc||i["img-src"],onClick:()=>{m(i.name)}})})))}return!0===e.arrows&&_.value>=0&&((!0===e.infinite||_.value>0)&&n.push((0,r.h)("div",{key:"prev",class:`q-carousel__control q-carousel__arrow q-carousel__prev-arrow q-carousel__prev-arrow--${E.value} absolute flex flex-center`},[(0,r.h)(o.Z,{icon:k.value[0],...R.value,onClick:y})])),(!0===e.infinite||_.value<l-1)&&n.push((0,r.h)("div",{key:"next",class:`q-carousel__control q-carousel__arrow q-carousel__next-arrow q-carousel__next-arrow--${E.value} absolute flex flex-center`},[(0,r.h)(o.Z,{icon:k.value[1],...R.value,onClick:b})]))),(0,p.vs)(t.control,n)}return(0,r.YP)((()=>e.modelValue),(()=>{e.autoplay&&(clearInterval(c),N())})),(0,r.YP)((()=>e.autoplay),(e=>{e?N():clearInterval(c)})),(0,r.bv)((()=>{e.autoplay&&N()})),(0,r.Jd)((()=>{clearInterval(c)})),()=>(l=h(t),(0,r.h)("div",{class:I.value,style:S.value},[(0,p.Jl)("div",{class:"q-carousel__slides-container"},v(),"sl-cont",e.swipeable,(()=>g.value))].concat(O())))}})},4593:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(3673),i=n(1959),o=n(9154),a=n(7657);const s=(0,r.aZ)({name:"QCarouselSlide",props:{...o.vZ,imgSrc:String},setup(e,{slots:t}){const n=(0,i.Fl)((()=>e.imgSrc?{backgroundImage:`url("${e.imgSrc}")`}:{}));return()=>(0,r.h)("div",{class:"q-carousel__slide",style:n.value},(0,a.KR)(t.default))}})},629:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(3673),i=n(1959),o=n(7445);const a=(0,r.aZ)({name:"QChatMessage",props:{sent:Boolean,label:String,bgColor:String,textColor:String,name:String,avatar:String,text:Array,stamp:String,size:String,labelHtml:Boolean,nameHtml:Boolean,textHtml:Boolean,stampHtml:Boolean},setup(e,{slots:t}){const n=(0,i.Fl)((()=>!0===e.sent?"sent":"received")),a=(0,i.Fl)((()=>`q-message-text-content q-message-text-content--${n.value}`+(void 0!==e.textColor?` text-${e.textColor}`:""))),s=(0,i.Fl)((()=>`q-message-text q-message-text--${n.value}`+(void 0!==e.bgColor?` text-${e.bgColor}`:""))),u=(0,i.Fl)((()=>"q-message-container row items-end no-wrap"+(!0===e.sent?" reverse":""))),c=(0,i.Fl)((()=>void 0!==e.size?`col-${e.size}`:"")),l=(0,i.Fl)((()=>({msg:!0===e.textHtml?"innerHTML":"textContent",stamp:!0===e.stampHtml?"innerHTML":"textContent",name:!0===e.nameHtml?"innerHTML":"textContent",label:!0===e.labelHtml?"innerHTML":"textContent"})));function h(n){return void 0!==t.stamp?[n,(0,r.h)("div",{class:"q-message-stamp"},t.stamp())]:e.stamp?[n,(0,r.h)("div",{class:"q-message-stamp",[l.value.stamp]:e.stamp})]:[n]}function f(e,t){const n=!0===t?e.length>1?e=>e:e=>(0,r.h)("div",[e]):e=>(0,r.h)("div",{[l.value.msg]:e});return e.map(((e,t)=>(0,r.h)("div",{key:t,class:s.value},[(0,r.h)("div",{class:a.value},h(n(e)))])))}return()=>{const i=[];void 0!==t.avatar?i.push(t.avatar()):void 0!==e.avatar&&i.push((0,r.h)("img",{class:`q-message-avatar q-message-avatar--${n.value}`,src:e.avatar,"aria-hidden":"true"}));const a=[];void 0!==t.name?a.push((0,r.h)("div",{class:`q-message-name q-message-name--${n.value}`},t.name())):void 0!==e.name&&a.push((0,r.h)("div",{class:`q-message-name q-message-name--${n.value}`,[l.value.name]:e.name})),void 0!==t.default?a.push(f((0,o.Pf)(t.default()),!0)):void 0!==e.text&&a.push(f(e.text)),i.push((0,r.h)("div",{class:c.value},a));const s=[];return void 0!==t.label?s.push((0,r.h)("div",{class:"q-message-label"},t.label())):void 0!==e.label&&s.push((0,r.h)("div",{class:"q-message-label",[l.value.label]:e.label})),s.push((0,r.h)("div",{class:u.value},i)),(0,r.h)("div",{class:`q-message q-message-${n.value}`},s)}}})},6122:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});n(7070);var r=n(3673),i=n(1959),o=n(2417);const a={...o.LU,min:{type:Number,default:0},max:{type:Number,default:100},color:String,centerColor:String,trackColor:String,fontSize:String,thickness:{type:Number,default:.2,validator:e=>e>=0&&e<=1},angle:{type:Number,default:0},showValue:Boolean,reverse:Boolean,instantFeedback:Boolean};var s=n(7657),u=n(2130);const c=50,l=2*c,h=l*Math.PI,f=Math.round(1e3*h)/1e3,d=(0,r.aZ)({name:"QCircularProgress",props:{...a,value:{type:Number,default:0},indeterminate:Boolean},setup(e,{slots:t}){const{proxy:{$q:n}}=(0,r.FN)(),a=(0,o.ZP)(e),d=(0,i.Fl)((()=>{const t=(!0===n.lang.rtl?-1:1)*e.angle;return{transform:e.reverse!==(!0===n.lang.rtl)?`scale3d(-1, 1, 1) rotate3d(0, 0, 1, ${-90-t}deg)`:`rotate3d(0, 0, 1, ${t-90}deg)`}})),p=(0,i.Fl)((()=>!0!==e.instantFeedback&&!0!==e.indeterminate?{transition:"stroke-dashoffset 0.6s ease 0s, stroke 0.6s ease"}:"")),v=(0,i.Fl)((()=>l/(1-e.thickness/2))),g=(0,i.Fl)((()=>`${v.value/2} ${v.value/2} ${v.value} ${v.value}`)),m=(0,i.Fl)((()=>(0,u.vX)(e.value,e.min,e.max))),y=(0,i.Fl)((()=>h*(1-(m.value-e.min)/(e.max-e.min)))),b=(0,i.Fl)((()=>e.thickness/2*v.value));function w({thickness:e,offset:t,color:n,cls:i}){return(0,r.h)("circle",{class:"q-circular-progress__"+i+(void 0!==n?` text-${n}`:""),style:p.value,fill:"transparent",stroke:"currentColor","stroke-width":e,"stroke-dasharray":f,"stroke-dashoffset":t,cx:v.value,cy:v.value,r:c})}return()=>{const n=[];void 0!==e.centerColor&&"transparent"!==e.centerColor&&n.push((0,r.h)("circle",{class:`q-circular-progress__center text-${e.centerColor}`,fill:"currentColor",r:c-b.value/2,cx:v.value,cy:v.value})),void 0!==e.trackColor&&"transparent"!==e.trackColor&&n.push(w({cls:"track",thickness:b.value,offset:0,color:e.trackColor})),n.push(w({cls:"circle",thickness:b.value,offset:y.value,color:e.color}));const i=[(0,r.h)("svg",{class:"q-circular-progress__svg",style:d.value,viewBox:g.value,"aria-hidden":"true"},n)];return!0===e.showValue&&i.push((0,r.h)("div",{class:"q-circular-progress__text absolute-full row flex-center content-center",style:{fontSize:e.fontSize}},void 0!==t.default?t.default():[(0,r.h)("div",m.value)])),(0,r.h)("div",{class:`q-circular-progress q-circular-progress--${!0===e.indeterminate?"in":""}determinate`,style:a.value,role:"progressbar","aria-valuemin":e.min,"aria-valuemax":e.max,"aria-valuenow":!0===e.indeterminate?void 0:m.value},(0,s.pf)(t.internal,i))}}})},5926:(e,t,n)=>{"use strict";n.d(t,{Z:()=>j});n(71);var r=n(3673),i=n(1959),o=n(8880),a=n(6583);function s(e,t,n){let i;function o(){void 0!==i&&(a.Z.remove(i),i=void 0)}return(0,r.Jd)((()=>{!0===e.value&&o()})),{removeFromHistory:o,addToHistory(){i={condition:()=>!0===n.value,handler:t},a.Z.add(i)}}}var u=n(4955),c=n(416),l=n(3628),h=n(6104),f=n(9104),d=n(4716),p=n(8400),v=n(4688);let g,m,y,b,w,_,T=0,S=!1;function E(e){I(e)&&(0,d.NS)(e)}function I(e){if(e.target===document.body||e.target.classList.contains("q-layout__backdrop"))return!0;const t=(0,d.AZ)(e),n=e.shiftKey&&!e.deltaX,r=!n&&Math.abs(e.deltaX)<=Math.abs(e.deltaY),i=n||r?e.deltaY:e.deltaX;for(let o=0;o<t.length;o++){const e=t[o];if((0,p.QA)(e,r))return r?i<0&&0===e.scrollTop||i>0&&e.scrollTop+e.clientHeight===e.scrollHeight:i<0&&0===e.scrollLeft||i>0&&e.scrollLeft+e.clientWidth===e.scrollWidth}return!0}function k(e){e.target===document&&(document.scrollingElement.scrollTop=document.scrollingElement.scrollTop)}function C(e){!0!==S&&(S=!0,requestAnimationFrame((()=>{S=!1;const{height:t}=e.target,{clientHeight:n,scrollTop:r}=document.scrollingElement;void 0!==y&&t===window.innerHeight||(y=n-t,document.scrollingElement.scrollTop=r),r>y&&(document.scrollingElement.scrollTop-=Math.ceil((r-y)/8))})))}function x(e){const t=document.body,n=void 0!==window.visualViewport;if("add"===e){const{overflowY:e,overflowX:r}=window.getComputedStyle(t);g=(0,p.OI)(window),m=(0,p.u3)(window),b=t.style.left,w=t.style.top,t.style.left=`-${g}px`,t.style.top=`-${m}px`,"hidden"!==r&&("scroll"===r||t.scrollWidth>window.innerWidth)&&t.classList.add("q-body--force-scrollbar-x"),"hidden"!==e&&("scroll"===e||t.scrollHeight>window.innerHeight)&&t.classList.add("q-body--force-scrollbar-y"),t.classList.add("q-body--prevent-scroll"),document.qScrollPrevented=!0,!0===v.Lp.is.ios&&(!0===n?(window.scrollTo(0,0),window.visualViewport.addEventListener("resize",C,d.rU.passiveCapture),window.visualViewport.addEventListener("scroll",C,d.rU.passiveCapture),window.scrollTo(0,0)):window.addEventListener("scroll",k,d.rU.passiveCapture))}!0===v.Lp.is.desktop&&!0===v.Lp.is.mac&&window[`${e}EventListener`]("wheel",E,d.rU.notPassive),"remove"===e&&(!0===v.Lp.is.ios&&(!0===n?(window.visualViewport.removeEventListener("resize",C,d.rU.passiveCapture),window.visualViewport.removeEventListener("scroll",C,d.rU.passiveCapture)):window.removeEventListener("scroll",k,d.rU.passiveCapture)),t.classList.remove("q-body--prevent-scroll"),t.classList.remove("q-body--force-scrollbar-x"),t.classList.remove("q-body--force-scrollbar-y"),document.qScrollPrevented=!1,t.style.left=b,t.style.top=w,window.scrollTo(g,m),y=void 0)}function A(e){let t="add";if(!0===e){if(T++,void 0!==_)return clearTimeout(_),void(_=void 0);if(T>1)return}else{if(0===T)return;if(T--,T>0)return;if(t="remove",!0===v.Lp.is.ios&&!0===v.Lp.is.nativeMobile)return clearTimeout(_),void(_=setTimeout((()=>{x(t),_=void 0}),100))}x(t)}function R(){let e;return{preventBodyScroll(t){t===e||void 0===e&&!0!==t||(e=t,A(t))}}}var N=n(2012),P=n(7657),O=n(4704),D=n(8517),L=n(230);let M=0;const F={standard:"fixed-full flex-center",top:"fixed-top justify-center",bottom:"fixed-bottom justify-center",right:"fixed-right items-center",left:"fixed-left items-center"},q={standard:["scale","scale"],top:["slide-down","slide-up"],bottom:["slide-up","slide-down"],right:["slide-left","slide-right"],left:["slide-right","slide-left"]},j=(0,r.aZ)({name:"QDialog",inheritAttrs:!1,props:{...l.vr,...h.D,transitionShow:String,transitionHide:String,persistent:Boolean,autoClose:Boolean,noEscDismiss:Boolean,noBackdropDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,noShake:Boolean,seamless:Boolean,maximized:Boolean,fullWidth:Boolean,fullHeight:Boolean,square:Boolean,position:{type:String,default:"standard",validator:e=>"standard"===e||["top","bottom","left","right"].includes(e)}},emits:[...l.gH,"shake","click","escape-key"],setup(e,{slots:t,emit:n,attrs:a}){const h=(0,r.FN)(),d=(0,i.iH)(null),p=(0,i.iH)(!1),v=(0,i.iH)(!1),g=(0,i.iH)(!1);let m,y,b,w=null;const _=(0,i.Fl)((()=>!0!==e.persistent&&!0!==e.noRouteDismiss&&!0!==e.seamless)),{preventBodyScroll:T}=R(),{registerTimeout:S,removeTimeout:E}=(0,u.Z)(),{registerTick:I,removeTick:k,prepareTick:C}=(0,c.Z)(),{showPortal:x,hidePortal:A,portalIsActive:j,renderPortal:U}=(0,f.Z)(h,d,ue,!0),{hide:B}=(0,l.ZP)({showing:p,hideOnRouteChange:_,handleShow:Q,handleHide:X,processOnMount:!0}),{addToHistory:V,removeFromHistory:H}=s(p,B,_),G=(0,i.Fl)((()=>"q-dialog__inner flex no-pointer-events q-dialog__inner--"+(!0===e.maximized?"maximized":"minimized")+` q-dialog__inner--${e.position} ${F[e.position]}`+(!0===g.value?" q-dialog__inner--animating":"")+(!0===e.fullWidth?" q-dialog__inner--fullwidth":"")+(!0===e.fullHeight?" q-dialog__inner--fullheight":"")+(!0===e.square?" q-dialog__inner--square":""))),z=(0,i.Fl)((()=>"q-transition--"+(void 0===e.transitionShow?q[e.position][0]:e.transitionShow))),K=(0,i.Fl)((()=>"q-transition--"+(void 0===e.transitionHide?q[e.position][1]:e.transitionHide))),$=(0,i.Fl)((()=>!0===v.value?K.value:z.value)),W=(0,i.Fl)((()=>`--q-transition-duration: ${e.transitionDuration}ms`)),J=(0,i.Fl)((()=>!0===p.value&&!0!==e.seamless)),Z=(0,i.Fl)((()=>!0===e.autoClose?{onClick:oe}:{})),Y=(0,i.Fl)((()=>["q-dialog fullscreen no-pointer-events q-dialog--"+(!0===J.value?"modal":"seamless"),a.class]));function Q(t){E(),k(),V(),w=!1===e.noRefocus&&null!==document.activeElement?document.activeElement:null,ie(e.maximized),x(),g.value=!0,!0!==e.noFocus&&(null!==document.activeElement&&document.activeElement.blur(),I(ee),C()),S((()=>{if(!0===h.proxy.$q.platform.is.ios){if(!0!==e.seamless&&document.activeElement){const{top:e,bottom:t}=document.activeElement.getBoundingClientRect(),{innerHeight:n}=window,r=void 0!==window.visualViewport?window.visualViewport.height:n;e>0&&t>r/2&&(document.scrollingElement.scrollTop=Math.min(document.scrollingElement.scrollHeight-r,t>=n?1/0:Math.ceil(document.scrollingElement.scrollTop+t-r/2))),document.activeElement.scrollIntoView()}b=!0,d.value.click(),b=!1}x(!0),g.value=!1,n("show",t)}),e.transitionDuration)}function X(t){E(),k(),H(),re(!0),g.value=!0,null!==w&&w.focus(),S((()=>{A(),g.value=!1,n("hide",t)}),e.transitionDuration)}function ee(){(0,L.jd)((()=>{let e=d.value;null!==e&&!0!==e.contains(document.activeElement)&&(e=e.querySelector("[autofocus], [data-autofocus]")||e,e.focus())}))}function te(){ee(),n("shake");const e=d.value;null!==e&&(e.classList.remove("q-animate--scale"),e.classList.add("q-animate--scale"),clearTimeout(m),m=setTimeout((()=>{null!==d.value&&(e.classList.remove("q-animate--scale"),ee())}),170))}function ne(){!0!==e.seamless&&(!0===e.persistent||!0===e.noEscDismiss?!0!==e.maximized&&!0!==e.noShake&&te():(n("escape-key"),B()))}function re(t){clearTimeout(m),!0!==t&&!0!==p.value||(ie(!1),!0!==e.seamless&&(T(!1),(0,D.H)(se),(0,O.k)(ne)))}function ie(e){!0===e?!0!==y&&(M<1&&document.body.classList.add("q-body--dialog"),M++,y=!0):!0===y&&(M<2&&document.body.classList.remove("q-body--dialog"),M--,y=!1)}function oe(e){!0!==b&&(B(e),n("click",e))}function ae(t){!0!==e.persistent&&!0!==e.noBackdropDismiss?B(t):!0!==e.noShake&&te()}function se(e){!0===p.value&&!0===j.value&&!0!==(0,N.mY)(d.value,e.target)&&ee()}function ue(){return(0,r.h)("div",{...a,class:Y.value},[(0,r.h)(o.uT,{name:"q-transition--fade",appear:!0},(()=>!0===J.value?(0,r.h)("div",{class:"q-dialog__backdrop fixed-full",style:W.value,"aria-hidden":"true",onMousedown:ae}):null)),(0,r.h)(o.uT,{name:$.value,appear:!0},(()=>!0===p.value?(0,r.h)("div",{ref:d,class:G.value,style:W.value,tabindex:-1,...Z.value},(0,P.KR)(t.default)):null))])}return(0,r.YP)(p,(e=>{(0,r.Y3)((()=>{v.value=e}))})),(0,r.YP)((()=>e.maximized),(e=>{!0===p.value&&ie(e)})),(0,r.YP)(J,(e=>{T(e),!0===e?((0,D.i)(se),(0,O.c)(ne)):((0,D.H)(se),(0,O.k)(ne))})),Object.assign(h.proxy,{focus:ee,shake:te,__updateRefocusTarget(e){w=e||null}}),(0,r.Jd)((()=>{re()})),U}})},1762:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(3673),i=n(1959),o=n(4688),a=n(5151),s=n(7657),u=n(2547);const c=(0,r.aZ)({name:"QFooter",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:t,emit:n}){const{proxy:{$q:c}}=(0,r.FN)(),l=(0,r.f3)(u.YE,(()=>{console.error("QFooter needs to be child of QLayout")})),h=(0,i.iH)(parseInt(e.heightHint,10)),f=(0,i.iH)(!0),d=(0,i.iH)(!0===o.uX.value||!0===l.isContainer.value?0:window.innerHeight),p=(0,i.Fl)((()=>!0===e.reveal||l.view.value.indexOf("F")>-1||!0===l.isContainer.value)),v=(0,i.Fl)((()=>!0===l.isContainer.value?l.containerHeight.value:d.value)),g=(0,i.Fl)((()=>{if(!0!==e.modelValue)return 0;if(!0===p.value)return!0===f.value?h.value:0;const t=l.scroll.value.position+v.value+h.value-l.height.value;return t>0?t:0})),m=(0,i.Fl)((()=>!0!==e.modelValue||!0===p.value&&!0!==f.value)),y=(0,i.Fl)((()=>!0===e.modelValue&&!0===m.value&&!0===e.reveal)),b=(0,i.Fl)((()=>"q-footer q-layout__section--marginal "+(!0===p.value?"fixed":"absolute")+"-bottom"+(!0===e.bordered?" q-footer--bordered":"")+(!0===m.value?" q-footer--hidden":"")+(!0!==e.modelValue?" q-layout--prevent-focus"+(!0!==p.value?" hidden":""):""))),w=(0,i.Fl)((()=>{const e=l.rows.value.bottom,t={};return"l"===e[0]&&!0===l.left.space&&(t[!0===c.lang.rtl?"right":"left"]=`${l.left.size}px`),"r"===e[2]&&!0===l.right.space&&(t[!0===c.lang.rtl?"left":"right"]=`${l.right.size}px`),t}));function _(e,t){l.update("footer",e,t)}function T(e,t){e.value!==t&&(e.value=t)}function S({height:e}){T(h,e),_("size",e)}function E(){if(!0!==e.reveal)return;const{direction:t,position:n,inflectionPoint:r}=l.scroll.value;T(f,"up"===t||n-r<100||l.height.value-v.value-n-h.value<300)}function I(e){!0===y.value&&T(f,!0),n("focusin",e)}(0,r.YP)((()=>e.modelValue),(e=>{_("space",e),T(f,!0),l.animate()})),(0,r.YP)(g,(e=>{_("offset",e)})),(0,r.YP)((()=>e.reveal),(t=>{!1===t&&T(f,e.modelValue)})),(0,r.YP)(f,(e=>{l.animate(),n("reveal",e)})),(0,r.YP)([h,l.scroll,l.height],E),(0,r.YP)((()=>c.screen.height),(e=>{!0!==l.isContainer.value&&T(d,e)}));const k={};return l.instances.footer=k,!0===e.modelValue&&_("size",h.value),_("space",e.modelValue),_("offset",g.value),(0,r.Jd)((()=>{l.instances.footer===k&&(l.instances.footer=void 0,_("size",0),_("offset",0),_("space",!1))})),()=>{const n=(0,s.vs)(t.default,[(0,r.h)(a.Z,{debounce:0,onResize:S})]);return!0===e.elevated&&n.push((0,r.h)("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),(0,r.h)("footer",{class:b.value,style:w.value,onFocusin:I},n)}}})},5269:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});n(71);var r=n(3673),i=n(1959),o=n(4716),a=n(230),s=n(7657),u=n(2547);const c=(0,r.aZ)({name:"QForm",props:{autofocus:Boolean,noErrorFocus:Boolean,noResetFocus:Boolean,greedy:Boolean,onSubmit:Function},emits:["reset","validation-success","validation-error"],setup(e,{slots:t,emit:n}){const c=(0,r.FN)(),l=(0,i.iH)(null);let h=0;const f=[];function d(t){const r=[],i="boolean"===typeof t?t:!0!==e.noErrorFocus;h++;const o=(e,t)=>{n("validation-"+(!0===e?"success":"error"),t)};for(let n=0;n<f.length;n++){const t=f[n],a=t.validate();if("function"===typeof a.then)r.push(a.then((e=>({valid:e,comp:t})),(e=>({valid:!1,comp:t,error:e}))));else if(!0!==a){if(!1===e.greedy)return o(!1,t),!0===i&&"function"===typeof t.focus&&t.focus(),Promise.resolve(!1);r.push({valid:!1,comp:t})}}if(0===r.length)return o(!0),Promise.resolve(!0);const a=h;return Promise.all(r).then((e=>{if(a===h){const t=e.filter((e=>!0!==e.valid));if(0===t.length)return o(!0),!0;const{valid:n,comp:r}=t[0];return o(!1,r),!0===i&&!0!==n&&"function"===typeof r.focus&&r.focus(),!1}}))}function p(){h++,f.forEach((e=>{"function"===typeof e.resetValidation&&e.resetValidation()}))}function v(t){void 0!==t&&(0,o.NS)(t),d().then((r=>{!0===r&&(void 0!==e.onSubmit?n("submit",t):void 0!==t&&void 0!==t.target&&"function"===typeof t.target.submit&&t.target.submit())}))}function g(t){void 0!==t&&(0,o.NS)(t),n("reset"),(0,r.Y3)((()=>{p(),!0===e.autofocus&&!0!==e.noResetFocus&&m()}))}function m(){(0,a.jd)((()=>{if(null===l.value)return;const e=l.value.querySelector("[autofocus], [data-autofocus]")||Array.prototype.find.call(l.value.querySelectorAll("[tabindex]"),(e=>e.tabIndex>-1));null!==e&&void 0!==e&&e.focus()}))}return(0,r.JJ)(u.vh,{bindComponent(e){f.push(e)},unbindComponent(e){const t=f.indexOf(e);t>-1&&f.splice(t,1)}}),(0,r.bv)((()=>{!0===e.autofocus&&m()})),Object.assign(c.proxy,{validate:d,resetValidation:p,submit:v,reset:g,focus:m,getValidationComponents:()=>f}),()=>(0,r.h)("form",{class:"q-form",ref:l,onSubmit:v,onReset:g},(0,s.KR)(t.default))}})},3812:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(3673),i=n(1959),o=n(5151),a=n(7657),s=n(2547);const u=(0,r.aZ)({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:t,emit:n}){const{proxy:{$q:u}}=(0,r.FN)(),c=(0,r.f3)(s.YE,(()=>{console.error("QHeader needs to be child of QLayout")})),l=(0,i.iH)(parseInt(e.heightHint,10)),h=(0,i.iH)(!0),f=(0,i.Fl)((()=>!0===e.reveal||c.view.value.indexOf("H")>-1||!0===c.isContainer.value)),d=(0,i.Fl)((()=>{if(!0!==e.modelValue)return 0;if(!0===f.value)return!0===h.value?l.value:0;const t=l.value-c.scroll.value.position;return t>0?t:0})),p=(0,i.Fl)((()=>!0!==e.modelValue||!0===f.value&&!0!==h.value)),v=(0,i.Fl)((()=>!0===e.modelValue&&!0===p.value&&!0===e.reveal)),g=(0,i.Fl)((()=>"q-header q-layout__section--marginal "+(!0===f.value?"fixed":"absolute")+"-top"+(!0===e.bordered?" q-header--bordered":"")+(!0===p.value?" q-header--hidden":"")+(!0!==e.modelValue?" q-layout--prevent-focus":""))),m=(0,i.Fl)((()=>{const e=c.rows.value.top,t={};return"l"===e[0]&&!0===c.left.space&&(t[!0===u.lang.rtl?"right":"left"]=`${c.left.size}px`),"r"===e[2]&&!0===c.right.space&&(t[!0===u.lang.rtl?"left":"right"]=`${c.right.size}px`),t}));function y(e,t){c.update("header",e,t)}function b(e,t){e.value!==t&&(e.value=t)}function w({height:e}){b(l,e),y("size",e)}function _(e){!0===v.value&&b(h,!0),n("focusin",e)}(0,r.YP)((()=>e.modelValue),(e=>{y("space",e),b(h,!0),c.animate()})),(0,r.YP)(d,(e=>{y("offset",e)})),(0,r.YP)((()=>e.reveal),(t=>{!1===t&&b(h,e.modelValue)})),(0,r.YP)(h,(e=>{c.animate(),n("reveal",e)})),(0,r.YP)(c.scroll,(t=>{!0===e.reveal&&b(h,"up"===t.direction||t.position<=e.revealOffset||t.position-t.inflectionPoint<100)}));const T={};return c.instances.header=T,!0===e.modelValue&&y("size",l.value),y("space",e.modelValue),y("offset",d.value),(0,r.Jd)((()=>{c.instances.header===T&&(c.instances.header=void 0,y("size",0),y("offset",0),y("space",!1))})),()=>{const n=(0,a.Bl)(t.default,[]);return!0===e.elevated&&n.push((0,r.h)("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),n.push((0,r.h)(o.Z,{debounce:0,onResize:w})),(0,r.h)("header",{class:g.value,style:m.value,onFocusin:_},n)}}})},4554:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y});n(71);var r=n(3673),i=n(1959),o=n(2417),a=n(7657);const s=e=>e,u=e=>`ionicons ${e}`,c={"icon-":s,"bt-":e=>`bt ${e}`,"eva-":e=>`eva ${e}`,"ion-md":u,"ion-ios":u,"ion-logo":u,"mdi-":e=>`mdi ${e}`,"iconfont ":s,"ti-":e=>`themify-icon ${e}`,"bi-":e=>`bootstrap-icons ${e}`},l={o_:"-outlined",r_:"-round",s_:"-sharp"},h=new RegExp("^("+Object.keys(c).join("|")+")"),f=new RegExp("^("+Object.keys(l).join("|")+")"),d=/^M/,p=/^img:/,v=/^svguse:/,g=/^ion-/,m=/^[l|f]a[s|r|l|b|d]? /,y=(0,r.aZ)({name:"QIcon",props:{...o.LU,tag:{type:String,default:"i"},name:String,color:String,left:Boolean,right:Boolean},setup(e,{slots:t}){const{proxy:{$q:n}}=(0,r.FN)(),s=(0,o.ZP)(e),u=(0,i.Fl)((()=>"q-icon"+(!0===e.left?" on-left":"")+(!0===e.right?" on-right":"")+(void 0!==e.color?` text-${e.color}`:""))),y=(0,i.Fl)((()=>{let t,i=e.name;if(!i)return{none:!0,cls:u.value};if(null!==n.iconMapFn){const e=n.iconMapFn(i);if(void 0!==e){if(void 0===e.icon)return{cls:e.cls+" "+u.value,content:void 0!==e.content?e.content:" "};i=e.icon}}if(!0===d.test(i)){const[e,t]=i.split("|");return{svg:!0,cls:u.value,nodes:e.split("&&").map((e=>{const[t,n,i]=e.split("@@");return(0,r.h)("path",{style:n,d:t,transform:i})})),viewBox:void 0!==t?t:"0 0 24 24"}}if(!0===p.test(i))return{img:!0,cls:u.value,src:i.substring(4)};if(!0===v.test(i)){const[e,t]=i.split("|");return{svguse:!0,cls:u.value,src:e.substring(7),viewBox:void 0!==t?t:"0 0 24 24"}}let o=" ";const a=i.match(h);if(null!==a)t=c[a[1]](i);else if(!0===m.test(i))t=i;else if(!0===g.test(i))t=`ionicons ion-${!0===n.platform.is.ios?"ios":"md"}${i.substr(3)}`;else{t="notranslate material-icons";const e=i.match(f);null!==e&&(i=i.substring(2),t+=l[e[1]]),o=i}return{cls:t+" "+u.value,content:o}}));return()=>{const n={class:y.value.cls,style:s.value,"aria-hidden":"true",role:"presentation"};return!0===y.value.none?(0,r.h)(e.tag,n,(0,a.KR)(t.default)):!0===y.value.img?(n.src=y.value.src,(0,r.h)("img",n)):!0===y.value.svg?(n.viewBox=y.value.viewBox,(0,r.h)("svg",n,(0,a.vs)(t.default,y.value.nodes))):!0===y.value.svguse?(n.viewBox=y.value.viewBox,(0,r.h)("svg",n,(0,a.vs)(t.default,[(0,r.h)("use",{"xlink:href":y.value.src})]))):(0,r.h)(e.tag,n,(0,a.vs)(t.default,[y.value.content]))}}})},4027:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(3673),i=n(1959),o=n(8880),a=n(9754);const s={ratio:[String,Number]};function u(e,t){return(0,i.Fl)((()=>{const n=Number(e.ratio||(void 0!==t?t.value:void 0));return!0!==isNaN(n)&&n>0?{paddingBottom:100/n+"%"}:null}))}var c=n(7657);n(4688);const l=16/9,h=(0,r.aZ)({name:"QImg",props:{...s,src:String,srcset:String,sizes:String,alt:String,crossorigin:String,decoding:String,referrerpolicy:String,draggable:Boolean,loading:{type:String,default:"lazy"},width:String,height:String,initialRatio:{type:[Number,String],default:l},placeholderSrc:String,fit:{type:String,default:"cover"},position:{type:String,default:"50% 50%"},imgClass:String,imgStyle:Object,noSpinner:Boolean,noNativeMenu:Boolean,noTransition:Boolean,spinnerColor:String,spinnerSize:String},emits:["load","error"],setup(e,{slots:t,emit:n}){const s=(0,i.iH)(e.initialRatio),l=u(e,s);let h;const f=[(0,i.iH)(null),(0,i.iH)(void 0!==e.placeholderSrc?{src:e.placeholderSrc}:null)],d=(0,i.iH)(0),p=(0,i.iH)(!1),v=(0,i.iH)(!1),g=(0,i.Fl)((()=>`q-img q-img--${!0===e.noNativeMenu?"no-":""}menu`)),m=(0,i.Fl)((()=>({width:e.width,height:e.height}))),y=(0,i.Fl)((()=>"q-img__image "+(void 0!==e.imgClass?e.imgClass+" ":"")+`q-img__image--with${!0===e.noTransition?"out":""}-transition`)),b=(0,i.Fl)((()=>({...e.imgStyle,objectFit:e.fit,objectPosition:e.position})));function w(){return e.src||e.srcset||e.sizes?{src:e.src,srcset:e.srcset,sizes:e.sizes}:null}function _(e){if(clearTimeout(h),v.value=!1,null===e)return p.value=!1,f[0].value=null,void(f[1].value=null);p.value=!0,f[d.value].value=e}function T({target:e}){null!==h&&(clearTimeout(h),s.value=0===e.naturalHeight?.5:e.naturalWidth/e.naturalHeight,S(e,1))}function S(e,t){null!==h&&1e3!==t&&(!0===e.complete?E(e):h=setTimeout((()=>{S(e,t+1)}),50))}function E(e){null!==h&&(d.value=1===d.value?0:1,f[d.value].value=null,p.value=!1,v.value=!1,n("load",e.currentSrc||e.src))}function I(e){clearTimeout(h),p.value=!1,v.value=!0,f[0].value=null,f[1].value=null,n("error",e)}function k(e,t){return(0,r.h)("div",{class:"q-img__container absolute-full",key:e},t)}function C(t){const n=f[t].value,i={key:"img_"+t,class:y.value,style:b.value,crossorigin:e.crossorigin,decoding:e.decoding,referrerpolicy:e.referrerpolicy,height:e.height,width:e.width,loading:e.loading,"aria-hidden":"true",draggable:e.draggable,...n};return d.value===t?(i.class+=" q-img__image--waiting",Object.assign(i,{onLoad:T,onError:I})):i.class+=" q-img__image--loaded",k("img"+t,(0,r.h)("img",i))}function x(){return!0!==p.value?(0,r.h)("div",{key:"content",class:"q-img__content absolute-full q-anchor--skip"},(0,c.KR)(t[!0===v.value?"error":"default"])):(0,r.h)("div",{key:"loading",class:"q-img__loading absolute-full flex flex-center"},void 0!==t.loading?t.loading():!0===e.noSpinner?void 0:[(0,r.h)(a.Z,{color:e.spinnerColor,size:e.spinnerSize})])}return(0,r.YP)((()=>w()),_),_(w()),(0,r.Jd)((()=>{clearTimeout(h),h=null})),()=>{const t=[];return null!==l.value&&t.push((0,r.h)("div",{key:"filler",style:l.value})),!0!==v.value&&(null!==f[0].value&&t.push(C(0)),null!==f[1].value&&t.push(C(1))),t.push((0,r.h)(o.uT,{name:"q-transition--fade"},x)),(0,r.h)("div",{class:g.value,style:m.value,role:"img","aria-label":e.alt},t)}}})},6805:(e,t,n)=>{"use strict";n.d(t,{Z:()=>ee});n(71);var r=n(3673),i=n(1959),o=n(8880),a=n(4688),s=n(4554),u=n(9754),c=n(2236),l=n(2547);function h({validate:e,resetValidation:t,requiresQForm:n}){const i=(0,r.f3)(l.vh,!1);if(!1!==i){const{props:n,proxy:o}=(0,r.FN)();Object.assign(o,{validate:e,resetValidation:t}),(0,r.YP)((()=>n.disable),(e=>{!0===e?("function"===typeof t&&t(),i.unbindComponent(o)):i.bindComponent(o)})),!0!==n.disable&&i.bindComponent(o),(0,r.Jd)((()=>{!0!==n.disable&&i.unbindComponent(o)}))}else!0===n&&console.error("Parent QForm not found on useFormChild()!")}const f=/^#[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/,d=/^#[0-9a-fA-F]{4}([0-9a-fA-F]{4})?$/,p=/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/,v=/^rgb\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5])\)$/,g=/^rgba\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),(0|0\.[0-9]+[1-9]|0\.[1-9]+|1)\)$/,m={date:e=>/^-?[\d]+\/[0-1]\d\/[0-3]\d$/.test(e),time:e=>/^([0-1]?\d|2[0-3]):[0-5]\d$/.test(e),fulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d:[0-5]\d$/.test(e),timeOrFulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d(:[0-5]\d)?$/.test(e),hexColor:e=>f.test(e),hexaColor:e=>d.test(e),hexOrHexaColor:e=>p.test(e),rgbColor:e=>v.test(e),rgbaColor:e=>g.test(e),rgbOrRgbaColor:e=>v.test(e)||g.test(e),hexOrRgbColor:e=>f.test(e)||v.test(e),hexaOrRgbaColor:e=>d.test(e)||g.test(e),anyColor:e=>p.test(e)||v.test(e)||g.test(e)},y=[!0,!1,"ondemand"],b={modelValue:{},error:{type:Boolean,default:null},errorMessage:String,noErrorIcon:Boolean,rules:Array,reactiveRules:Boolean,lazyRules:{type:[Boolean,String],validator:e=>y.includes(e)}};function w(e,t){const{props:n,proxy:o}=(0,r.FN)(),a=(0,i.iH)(!1),s=(0,i.iH)(null),u=(0,i.iH)(null);h({validate:g,resetValidation:v});let c,l=0;const f=(0,i.Fl)((()=>void 0!==n.rules&&null!==n.rules&&n.rules.length>0)),d=(0,i.Fl)((()=>!0===n.error||!0===a.value)),p=(0,i.Fl)((()=>"string"===typeof n.errorMessage&&n.errorMessage.length>0?n.errorMessage:s.value));function v(){l++,t.value=!1,u.value=null,a.value=!1,s.value=null}function g(e=n.modelValue){if(!0!==f.value)return!0;l++,!0!==t.value&&!0!==n.lazyRules&&(u.value=!0);const r=(e,n)=>{a.value!==e&&(a.value=e);const r=n||void 0;s.value!==r&&(s.value=r),!1!==t.value&&(t.value=!1)},i=[];for(let t=0;t<n.rules.length;t++){const o=n.rules[t];let a;if("function"===typeof o?a=o(e):"string"===typeof o&&void 0!==m[o]&&(a=m[o](e)),!1===a||"string"===typeof a)return r(!0,a),!1;!0!==a&&void 0!==a&&i.push(a)}if(0===i.length)return r(!1),!0;!0!==t.value&&(t.value=!0);const o=l;return Promise.all(i).then((e=>{if(o!==l)return!0;if(void 0===e||!1===Array.isArray(e)||0===e.length)return r(!1),!0;const t=e.find((e=>!1===e||"string"===typeof e));return r(void 0!==t,t),void 0===t}),(e=>o!==l||(console.error(e),r(!0),!1)))}function y(e){!0===f.value&&"ondemand"!==n.lazyRules&&(!0===u.value||!0!==n.lazyRules&&!0!==e)&&g()}return(0,r.YP)((()=>n.modelValue),(()=>{y()})),(0,r.YP)((()=>n.reactiveRules),(e=>{!0===e?void 0===c&&(c=(0,r.YP)((()=>n.rules),(()=>{y(!0)}))):void 0!==c&&(c(),c=void 0)}),{immediate:!0}),(0,r.YP)(e,(e=>{"ondemand"!==n.lazyRules&&(!0===e?null===u.value&&(u.value=!1):!1===u.value&&!0===f.value&&(u.value=!0,g()))})),(0,r.Jd)((()=>{void 0!==c&&c()})),Object.assign(o,{resetValidation:v,validate:g}),Object.defineProperty(o,"hasError",{get:()=>d.value}),{isDirtyModel:u,hasRules:f,hasError:d,computedErrorMessage:p,validate:g,resetValidation:v}}const _=/^on[A-Z]/;function T(e){const t={listeners:(0,i.iH)({}),attributes:(0,i.iH)({})};function n(){const n={},r={};Object.keys(e).forEach((t=>{!0===_.test(t)?n[t]=e[t]:"class"!==t&&"style"!==t&&(r[t]=e[t])})),t.listeners.value=n,t.attributes.value=r}return(0,r.Xn)(n),n(),t}var S=n(7657);n(979),n(6105),n(2396);let E,I=0;const k=new Array(256);for(let te=0;te<256;te++)k[te]=(te+256).toString(16).substr(1);const C=(()=>{const e="undefined"!==typeof crypto?crypto:"undefined"!==typeof window?window.crypto||window.msCrypto:void 0;if(void 0!==e){if(void 0!==e.randomBytes)return e.randomBytes;if(void 0!==e.getRandomValues)return t=>{const n=new Uint8Array(t);return e.getRandomValues(n),n}}return e=>{const t=[];for(let n=e;n>0;n--)t.push(Math.floor(256*Math.random()));return t}})(),x=4096;function A(){(void 0===E||I+16>x)&&(I=0,E=C(x));const e=Array.prototype.slice.call(E,I,I+=16);return e[6]=15&e[6]|64,e[8]=63&e[8]|128,k[e[0]]+k[e[1]]+k[e[2]]+k[e[3]]+"-"+k[e[4]]+k[e[5]]+"-"+k[e[6]]+k[e[7]]+"-"+k[e[8]]+k[e[9]]+"-"+k[e[10]]+k[e[11]]+k[e[12]]+k[e[13]]+k[e[14]]+k[e[15]]}var R=n(4716),N=n(230);function P(e){return void 0===e?`f_${A()}`:e}function O(e){return void 0!==e&&null!==e&&(""+e).length>0}const D={...c.S,...b,label:String,stackLabel:Boolean,hint:String,hideHint:Boolean,prefix:String,suffix:String,labelColor:String,color:String,bgColor:String,filled:Boolean,outlined:Boolean,borderless:Boolean,standout:[Boolean,String],square:Boolean,loading:Boolean,labelSlot:Boolean,bottomSlots:Boolean,hideBottomSpace:Boolean,rounded:Boolean,dense:Boolean,itemAligned:Boolean,counter:Boolean,clearable:Boolean,clearIcon:String,disable:Boolean,readonly:Boolean,autofocus:Boolean,for:String,maxlength:[Number,String]},L=["update:modelValue","clear","focus","blur","popup-show","popup-hide"];function M(){const{props:e,attrs:t,proxy:n}=(0,r.FN)(),o=(0,c.Z)(e,n.$q);return{isDark:o,editable:(0,i.Fl)((()=>!0!==e.disable&&!0!==e.readonly)),innerLoading:(0,i.iH)(!1),focused:(0,i.iH)(!1),hasPopupOpen:(0,i.iH)(!1),splitAttrs:T(t),targetUid:(0,i.iH)(P(e.for)),rootRef:(0,i.iH)(null),targetRef:(0,i.iH)(null),controlRef:(0,i.iH)(null)}}function F(e){const{props:t,emit:n,slots:c,attrs:l,proxy:h}=(0,r.FN)(),{$q:f}=h;let d;void 0===e.hasValue&&(e.hasValue=(0,i.Fl)((()=>O(t.modelValue)))),void 0===e.emitValue&&(e.emitValue=e=>{n("update:modelValue",e)}),void 0===e.controlEvents&&(e.controlEvents={onFocusin:F,onFocusout:q}),Object.assign(e,{clearValue:j,onControlFocusin:F,onControlFocusout:q,focus:L}),void 0===e.computedCounter&&(e.computedCounter=(0,i.Fl)((()=>{if(!1!==t.counter){const e="string"===typeof t.modelValue||"number"===typeof t.modelValue?(""+t.modelValue).length:!0===Array.isArray(t.modelValue)?t.modelValue.length:0,n=void 0!==t.maxlength?t.maxlength:t.maxValues;return e+(void 0!==n?" / "+n:"")}})));const{isDirtyModel:p,hasRules:v,hasError:g,computedErrorMessage:m,resetValidation:y}=w(e.focused,e.innerLoading),b=void 0!==e.floatingLabel?(0,i.Fl)((()=>!0===t.stackLabel||!0===e.focused.value||!0===e.floatingLabel.value)):(0,i.Fl)((()=>!0===t.stackLabel||!0===e.focused.value||!0===e.hasValue.value)),_=(0,i.Fl)((()=>!0===t.bottomSlots||void 0!==t.hint||!0===v.value||!0===t.counter||null!==t.error)),T=(0,i.Fl)((()=>!0===t.filled?"filled":!0===t.outlined?"outlined":!0===t.borderless?"borderless":t.standout?"standout":"standard")),E=(0,i.Fl)((()=>`q-field row no-wrap items-start q-field--${T.value}`+(void 0!==e.fieldClass?` ${e.fieldClass.value}`:"")+(!0===t.rounded?" q-field--rounded":"")+(!0===t.square?" q-field--square":"")+(!0===b.value?" q-field--float":"")+(!0===k.value?" q-field--labeled":"")+(!0===t.dense?" q-field--dense":"")+(!0===t.itemAligned?" q-field--item-aligned q-item-type":"")+(!0===e.isDark.value?" q-field--dark":"")+(void 0===e.getControl?" q-field--auto-height":"")+(!0===e.focused.value?" q-field--focused":"")+(!0===g.value?" q-field--error":"")+(!0===g.value||!0===e.focused.value?" q-field--highlighted":"")+(!0!==t.hideBottomSpace&&!0===_.value?" q-field--with-bottom":"")+(!0===t.disable?" q-field--disabled":!0===t.readonly?" q-field--readonly":""))),I=(0,i.Fl)((()=>"q-field__control relative-position row no-wrap"+(void 0!==t.bgColor?` bg-${t.bgColor}`:"")+(!0===g.value?" text-negative":"string"===typeof t.standout&&t.standout.length>0&&!0===e.focused.value?` ${t.standout}`:void 0!==t.color?` text-${t.color}`:""))),k=(0,i.Fl)((()=>!0===t.labelSlot||void 0!==t.label)),C=(0,i.Fl)((()=>"q-field__label no-pointer-events absolute ellipsis"+(void 0!==t.labelColor&&!0!==g.value?` text-${t.labelColor}`:""))),x=(0,i.Fl)((()=>({id:e.targetUid.value,editable:e.editable.value,focused:e.focused.value,floatingLabel:b.value,modelValue:t.modelValue,emitValue:e.emitValue}))),A=(0,i.Fl)((()=>{const n={for:e.targetUid.value};return!0===t.disable?n["aria-disabled"]="true":!0===t.readonly&&(n["aria-readonly"]="true"),n}));let D;function L(){void 0!==D&&(0,N.fP)(D),D=(0,N.jd)((()=>{D=void 0;const t=document.activeElement;let n=void 0!==e.targetRef&&e.targetRef.value;!n||null!==t&&t.id===e.targetUid.value||(!0===n.hasAttribute("tabindex")||(n=n.querySelector("[tabindex]")),n&&n!==t&&n.focus())}))}function M(){void 0!==D&&(0,N.fP)(D);const t=document.activeElement;null!==t&&e.rootRef.value.contains(t)&&t.blur()}function F(t){!0===e.editable.value&&!1===e.focused.value&&(e.focused.value=!0,n("focus",t))}function q(t,r){clearTimeout(d),d=setTimeout((()=>{(!0!==document.hasFocus()||!0!==e.hasPopupOpen.value&&(void 0===e.controlRef||null!==e.controlRef.value&&!1===e.controlRef.value.contains(document.activeElement)))&&(!0===e.focused.value&&(e.focused.value=!1,n("blur",t)),void 0!==r&&r())}))}function j(i){if((0,R.NS)(i),!0!==f.platform.is.mobile){const t=void 0!==e.targetRef&&e.targetRef.value||e.rootRef.value;t.focus()}else!0===e.rootRef.value.contains(document.activeElement)&&document.activeElement.blur();"file"===t.type&&(e.inputRef.value.value=null),n("update:modelValue",null),n("clear",t.modelValue),(0,r.Y3)((()=>{y(),"ondemand"!==t.lazyRules&&!0!==f.platform.is.mobile&&(p.value=!1)}))}function U(){const n=[];return void 0!==c.prepend&&n.push((0,r.h)("div",{class:"q-field__prepend q-field__marginal row no-wrap items-center",key:"prepend",onClick:R.X$},c.prepend())),n.push((0,r.h)("div",{class:"q-field__control-container col relative-position row no-wrap q-anchor--skip"},B())),void 0!==c.append&&n.push((0,r.h)("div",{class:"q-field__append q-field__marginal row no-wrap items-center",key:"append",onClick:R.X$},c.append())),!0===g.value&&!1===t.noErrorIcon&&n.push(H("error",[(0,r.h)(s.Z,{name:f.iconSet.field.error,color:"negative"})])),!0===t.loading||!0===e.innerLoading.value?n.push(H("inner-loading-append",void 0!==c.loading?c.loading():[(0,r.h)(u.Z,{color:t.color})])):!0===t.clearable&&!0===e.hasValue.value&&!0===e.editable.value&&n.push(H("inner-clearable-append",[(0,r.h)(s.Z,{class:"q-field__focusable-action",tag:"button",name:t.clearIcon||f.iconSet.field.clear,tabindex:0,type:"button",onClick:j})])),void 0!==e.getInnerAppend&&n.push(H("inner-append",e.getInnerAppend())),void 0!==e.getControlChild&&n.push(e.getControlChild()),n}function B(){const n=[];return void 0!==t.prefix&&null!==t.prefix&&n.push((0,r.h)("div",{class:"q-field__prefix no-pointer-events row items-center"},t.prefix)),void 0!==e.getShadowControl&&!0===e.hasShadow.value&&n.push(e.getShadowControl()),void 0!==e.getControl?n.push(e.getControl()):void 0!==c.rawControl?n.push(c.rawControl()):void 0!==c.control&&n.push((0,r.h)("div",{ref:e.targetRef,class:"q-field__native row",...e.splitAttrs.attributes.value,"data-autofocus":!0===t.autofocus||void 0},c.control(x.value))),!0===k.value&&n.push((0,r.h)("div",{class:C.value},(0,S.KR)(c.label,t.label))),void 0!==t.suffix&&null!==t.suffix&&n.push((0,r.h)("div",{class:"q-field__suffix no-pointer-events row items-center"},t.suffix)),n.concat((0,S.KR)(c.default))}function V(){let n,i;!0===g.value?null!==m.value?(n=[(0,r.h)("div",{role:"alert"},m.value)],i=`q--slot-error-${m.value}`):(n=(0,S.KR)(c.error),i="q--slot-error"):!0===t.hideHint&&!0!==e.focused.value||(void 0!==t.hint?(n=[(0,r.h)("div",t.hint)],i=`q--slot-hint-${t.hint}`):(n=(0,S.KR)(c.hint),i="q--slot-hint"));const a=!0===t.counter||void 0!==c.counter;if(!0===t.hideBottomSpace&&!1===a&&void 0===n)return;const s=(0,r.h)("div",{key:i,class:"q-field__messages col"},n);return(0,r.h)("div",{class:"q-field__bottom row items-start q-field__bottom--"+(!0!==t.hideBottomSpace?"animated":"stale")},[!0===t.hideBottomSpace?s:(0,r.h)(o.uT,{name:"q-transition--field-message"},(()=>s)),!0===a?(0,r.h)("div",{class:"q-field__counter"},void 0!==c.counter?c.counter():e.computedCounter.value):null])}function H(e,t){return null===t?null:(0,r.h)("div",{key:e,class:"q-field__append q-field__marginal row no-wrap items-center q-anchor--skip"},t)}return(0,r.YP)((()=>t.for),(t=>{e.targetUid.value=P(t)})),Object.assign(h,{focus:L,blur:M}),(0,r.bv)((()=>{!0===a.uX.value&&void 0===t.for&&(e.targetUid.value=P()),!0===t.autofocus&&h.focus()})),(0,r.Jd)((()=>{clearTimeout(d)})),function(){return(0,r.h)("label",{ref:e.rootRef,class:[E.value,l.class],style:l.style,...A.value},[void 0!==c.before?(0,r.h)("div",{class:"q-field__before q-field__marginal row no-wrap items-center",onClick:R.X$},c.before()):null,(0,r.h)("div",{class:"q-field__inner relative-position col self-stretch"},[(0,r.h)("div",{ref:e.controlRef,class:I.value,tabindex:-1,...e.controlEvents},U()),!0===_.value?V():null]),void 0!==c.after?(0,r.h)("div",{class:"q-field__after q-field__marginal row no-wrap items-center",onClick:R.X$},c.after()):null])}}n(5363);var q=n(1436);const j={date:"####/##/##",datetime:"####/##/## ##:##",time:"##:##",fulltime:"##:##:##",phone:"(###) ### - ####",card:"#### #### #### ####"},U={"#":{pattern:"[\\d]",negate:"[^\\d]"},S:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]"},N:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]"},A:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleUpperCase()},a:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleLowerCase()},X:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleUpperCase()},x:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleLowerCase()}},B=Object.keys(U);B.forEach((e=>{U[e].regex=new RegExp(U[e].pattern)}));const V=new RegExp("\\\\([^.*+?^${}()|([\\]])|([.*+?^${}()|[\\]])|(["+B.join("")+"])|(.)","g"),H=/[.*+?^${}()|[\]\\]/g,G=String.fromCharCode(1),z={mask:String,reverseFillMask:Boolean,fillMask:[Boolean,String],unmaskedValue:Boolean};function K(e,t,n,o){let a,s,u,c;const l=(0,i.iH)(null),h=(0,i.iH)(d());function f(){return!0===e.autogrow||["textarea","text","search","url","tel","password"].includes(e.type)}function d(){if(v(),!0===l.value){const t=w(T(e.modelValue));return!1!==e.fillMask?S(t):t}return e.modelValue}function p(e){if(e<a.length)return a.slice(-e);let t="",n=a;const r=n.indexOf(G);if(r>-1){for(let r=e-n.length;r>0;r--)t+=G;n=n.slice(0,r)+t+n.slice(r)}return n}function v(){if(l.value=void 0!==e.mask&&e.mask.length>0&&f(),!1===l.value)return c=void 0,a="",void(s="");const t=void 0===j[e.mask]?e.mask:j[e.mask],n="string"===typeof e.fillMask&&e.fillMask.length>0?e.fillMask.slice(0,1):"_",r=n.replace(H,"\\$&"),i=[],o=[],h=[];let d=!0===e.reverseFillMask,p="",v="";t.replace(V,((e,t,n,r,a)=>{if(void 0!==r){const e=U[r];h.push(e),v=e.negate,!0===d&&(o.push("(?:"+v+"+)?("+e.pattern+"+)?(?:"+v+"+)?("+e.pattern+"+)?"),d=!1),o.push("(?:"+v+"+)?("+e.pattern+")?")}else if(void 0!==n)p="\\"+("\\"===n?"":n),h.push(n),i.push("([^"+p+"]+)?"+p+"?");else{const e=void 0!==t?t:a;p="\\"===e?"\\\\\\\\":e.replace(H,"\\\\$&"),h.push(e),i.push("([^"+p+"]+)?"+p+"?")}}));const g=new RegExp("^"+i.join("")+"("+(""===p?".":"[^"+p+"]")+"+)?$"),m=o.length-1,y=o.map(((t,n)=>0===n&&!0===e.reverseFillMask?new RegExp("^"+r+"*"+t):n===m?new RegExp("^"+t+"("+(""===v?".":v)+"+)?"+(!0===e.reverseFillMask?"$":r+"*")):new RegExp("^"+t)));u=h,c=e=>{const t=g.exec(e);null!==t&&(e=t.slice(1).join(""));const n=[],r=y.length;for(let i=0,o=e;i<r;i++){const e=y[i].exec(o);if(null===e)break;o=o.slice(e.shift().length),n.push(...e)}return n.length>0?n.join(""):e},a=h.map((e=>"string"===typeof e?e:G)).join(""),s=a.split(G).join(n)}function g(t,i,u){const c=o.value,l=c.selectionEnd,f=c.value.length-l,d=T(t);!0===i&&v();const p=w(d),g=!1!==e.fillMask?S(p):p,m=h.value!==g;c.value!==g&&(c.value=g),!0===m&&(h.value=g),document.activeElement===c&&(0,r.Y3)((()=>{if(g!==s)if("insertFromPaste"!==u||!0===e.reverseFillMask)if(["deleteContentBackward","deleteContentForward"].indexOf(u)>-1){const t=!0===e.reverseFillMask?0===l?g.length>p.length?1:0:Math.max(0,g.length-(g===s?0:Math.min(p.length,f)+1))+1:l;c.setSelectionRange(t,t,"forward")}else if(!0===e.reverseFillMask)if(!0===m){const e=Math.max(0,g.length-(g===s?0:Math.min(p.length,f+1)));1===e&&1===l?c.setSelectionRange(e,e,"forward"):y.rightReverse(c,e,e)}else{const e=g.length-f;c.setSelectionRange(e,e,"backward")}else if(!0===m){const e=Math.max(0,a.indexOf(G),Math.min(p.length,l)-1);y.right(c,e,e)}else{const e=l-1;y.right(c,e,e)}else{const e=l-1;y.right(c,e,e)}else{const t=!0===e.reverseFillMask?s.length:0;c.setSelectionRange(t,t,"forward")}}));const b=!0===e.unmaskedValue?T(g):g;e.modelValue!==b&&n(b,!0)}function m(e,t,n){const r=w(T(e.value));t=Math.max(0,a.indexOf(G),Math.min(r.length,t)),e.setSelectionRange(t,n,"forward")}(0,r.YP)((()=>e.type+e.autogrow),v),(0,r.YP)((()=>e.mask),(n=>{if(void 0!==n)g(h.value,!0);else{const n=T(h.value);v(),e.modelValue!==n&&t("update:modelValue",n)}})),(0,r.YP)((()=>e.fillMask+e.reverseFillMask),(()=>{!0===l.value&&g(h.value,!0)})),(0,r.YP)((()=>e.unmaskedValue),(()=>{!0===l.value&&g(h.value)}));const y={left(e,t,n,r){const i=-1===a.slice(t-1).indexOf(G);let o=Math.max(0,t-1);for(;o>=0;o--)if(a[o]===G){t=o,!0===i&&t++;break}if(o<0&&void 0!==a[t]&&a[t]!==G)return y.right(e,0,0);t>=0&&e.setSelectionRange(t,!0===r?n:t,"backward")},right(e,t,n,r){const i=e.value.length;let o=Math.min(i,n+1);for(;o<=i;o++){if(a[o]===G){n=o;break}a[o-1]===G&&(n=o)}if(o>i&&void 0!==a[n-1]&&a[n-1]!==G)return y.left(e,i,i);e.setSelectionRange(r?t:n,n,"forward")},leftReverse(e,t,n,r){const i=p(e.value.length);let o=Math.max(0,t-1);for(;o>=0;o--){if(i[o-1]===G){t=o;break}if(i[o]===G&&(t=o,0===o))break}if(o<0&&void 0!==i[t]&&i[t]!==G)return y.rightReverse(e,0,0);t>=0&&e.setSelectionRange(t,!0===r?n:t,"backward")},rightReverse(e,t,n,r){const i=e.value.length,o=p(i),a=-1===o.slice(0,n+1).indexOf(G);let s=Math.min(i,n+1);for(;s<=i;s++)if(o[s-1]===G){n=s,n>0&&!0===a&&n--;break}if(s>i&&void 0!==o[n-1]&&o[n-1]!==G)return y.leftReverse(e,i,i);e.setSelectionRange(!0===r?t:n,n,"forward")}};function b(t){if(!0===(0,q.Wm)(t))return;const n=o.value,r=n.selectionStart,i=n.selectionEnd;if(37===t.keyCode||39===t.keyCode){const o=y[(39===t.keyCode?"right":"left")+(!0===e.reverseFillMask?"Reverse":"")];t.preventDefault(),o(n,r,i,t.shiftKey)}else 8===t.keyCode&&!0!==e.reverseFillMask&&r===i?y.left(n,r,i,!0):46===t.keyCode&&!0===e.reverseFillMask&&r===i&&y.rightReverse(n,r,i,!0)}function w(t){if(void 0===t||null===t||""===t)return"";if(!0===e.reverseFillMask)return _(t);const n=u;let r=0,i="";for(let e=0;e<n.length;e++){const o=t[r],a=n[e];if("string"===typeof a)i+=a,o===a&&r++;else{if(void 0===o||!a.regex.test(o))return i;i+=void 0!==a.transform?a.transform(o):o,r++}}return i}function _(e){const t=u,n=a.indexOf(G);let r=e.length-1,i="";for(let o=t.length-1;o>=0&&r>-1;o--){const a=t[o];let s=e[r];if("string"===typeof a)i=a+i,s===a&&r--;else{if(void 0===s||!a.regex.test(s))return i;do{i=(void 0!==a.transform?a.transform(s):s)+i,r--,s=e[r]}while(n===o&&void 0!==s&&a.regex.test(s))}}return i}function T(e){return"string"!==typeof e||void 0===c?"number"===typeof e?c(""+e):e:c(e)}function S(t){return s.length-t.length<=0?t:!0===e.reverseFillMask&&t.length>0?s.slice(0,-t.length)+t:t+s.slice(t.length)}return{innerValue:h,hasMask:l,moveCursorForPaste:m,updateMaskValue:g,onMaskedKeydown:b}}const $={name:String};function W(e){return(0,i.Fl)((()=>e.name||e.for))}function J(e,t){function n(){const t=e.modelValue;try{const e="DataTransfer"in window?new DataTransfer:"ClipboardEvent"in window?new ClipboardEvent("").clipboardData:void 0;return Object(t)===t&&("length"in t?Array.from(t):[t]).forEach((t=>{e.items.add(t)})),{files:e.files}}catch(n){return{files:void 0}}}return!0===t?(0,i.Fl)((()=>{if("file"===e.type)return n()})):(0,i.Fl)(n)}const Z=/[\u3000-\u303f\u3040-\u309f\u30a0-\u30ff\uff00-\uff9f\u4e00-\u9faf\u3400-\u4dbf]/,Y=/(?:[\u3300-\u4DBF\u4E00-\u9FFF\uF900-\uFAFF\uFE30-\uFE4F]|[\uD840-\uD868\uD86A-\uD872][\uDC00-\uDFFF]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD873[\uDC00-\uDEAF]|\uD87E[\uDC00-\uDE1F])/,Q=/[\u3131-\u314e\u314f-\u3163\uac00-\ud7a3]/;function X(e){return function(t){if("compositionend"===t.type||"change"===t.type){if(!0!==t.target.composing)return;t.target.composing=!1,e(t)}else"compositionupdate"===t.type?"string"===typeof t.data&&!1===Z.test(t.data)&&!1===Y.test(t.data)&&!1===Q.test(t.data)&&(t.target.composing=!1):t.target.composing=!0}}const ee=(0,r.aZ)({name:"QInput",inheritAttrs:!1,props:{...D,...z,...$,modelValue:{required:!1},shadowText:String,type:{type:String,default:"text"},debounce:[String,Number],autogrow:Boolean,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...L,"paste","change"],setup(e,{emit:t,attrs:n}){const o={};let a,s,u,c,l=NaN;const h=(0,i.iH)(null),f=W(e),{innerValue:d,hasMask:p,moveCursorForPaste:v,updateMaskValue:g,onMaskedKeydown:m}=K(e,t,P,h),y=J(e,!0),b=(0,i.Fl)((()=>O(d.value))),w=X(A),_=M(),T=(0,i.Fl)((()=>"textarea"===e.type||!0===e.autogrow)),S=(0,i.Fl)((()=>!0===T.value||["text","search","url","tel","password"].includes(e.type))),E=(0,i.Fl)((()=>{const t={..._.splitAttrs.listeners.value,onInput:A,onPaste:x,onChange:L,onBlur:q,onFocus:R.sT};return t.onCompositionstart=t.onCompositionupdate=t.onCompositionend=w,!0===p.value&&(t.onKeydown=m),!0===e.autogrow&&(t.onAnimationend=D),t})),I=(0,i.Fl)((()=>{const t={tabindex:0,"data-autofocus":!0===e.autofocus||void 0,rows:"textarea"===e.type?6:void 0,"aria-label":e.label,name:f.value,..._.splitAttrs.attributes.value,id:_.targetUid.value,maxlength:e.maxlength,disabled:!0===e.disable,readonly:!0===e.readonly};return!1===T.value&&(t.type=e.type),!0===e.autogrow&&(t.rows=1),t}));function k(){(0,N.jd)((()=>{const e=document.activeElement;null===h.value||h.value===e||null!==e&&e.id===_.targetUid.value||h.value.focus()}))}function C(){null!==h.value&&h.value.select()}function x(n){if(!0===p.value&&!0!==e.reverseFillMask){const e=n.target;v(e,e.selectionStart,e.selectionEnd)}t("paste",n)}function A(n){if(!n||!n.target||!0===n.target.composing)return;if("file"===e.type)return void t("update:modelValue",n.target.files);const i=n.target.value;if(!0===p.value)g(i,!1,n.inputType);else if(P(i),!0===S.value&&n.target===document.activeElement){const{selectionStart:e,selectionEnd:t}=n.target;void 0!==e&&void 0!==t&&(0,r.Y3)((()=>{n.target===document.activeElement&&0===i.indexOf(n.target.value)&&n.target.setSelectionRange(e,t)}))}!0===e.autogrow&&D()}function P(n,i){c=()=>{"number"!==e.type&&!0===o.hasOwnProperty("value")&&delete o.value,e.modelValue!==n&&l!==n&&(!0===i&&(s=!0),t("update:modelValue",n),(0,r.Y3)((()=>{l===n&&(l=NaN)}))),c=void 0},"number"===e.type&&(a=!0,o.value=n),void 0!==e.debounce?(clearTimeout(u),o.value=n,u=setTimeout(c,e.debounce)):c()}function D(){const e=h.value;if(null!==e){const t=e.parentNode.style;t.marginBottom=e.scrollHeight-1+"px",e.style.height="1px",e.style.height=e.scrollHeight+"px",t.marginBottom=""}}function L(e){w(e),clearTimeout(u),void 0!==c&&c(),t("change",e.target.value)}function q(t){void 0!==t&&(0,R.sT)(t),clearTimeout(u),void 0!==c&&c(),a=!1,s=!1,delete o.value,"file"!==e.type&&setTimeout((()=>{null!==h.value&&(h.value.value=void 0!==d.value?d.value:"")}))}function j(){return!0===o.hasOwnProperty("value")?o.value:void 0!==d.value?d.value:""}(0,r.YP)((()=>e.modelValue),(t=>{if(!0===p.value){if(!0===s)return void(s=!1);g(t)}else d.value!==t&&(d.value=t,"number"===e.type&&!0===o.hasOwnProperty("value")&&(!0===a?a=!1:delete o.value));!0===e.autogrow&&(0,r.Y3)(D)})),(0,r.YP)((()=>e.autogrow),(e=>{!0===e?(0,r.Y3)(D):null!==h.value&&n.rows>0&&(h.value.style.height="auto")})),(0,r.YP)((()=>e.dense),(()=>{!0===e.autogrow&&(0,r.Y3)(D)})),(0,r.Jd)((()=>{q()})),(0,r.bv)((()=>{!0===e.autogrow&&D()})),Object.assign(_,{innerValue:d,fieldClass:(0,i.Fl)((()=>"q-"+(!0===T.value?"textarea":"input")+(!0===e.autogrow?" q-textarea--autogrow":""))),hasShadow:(0,i.Fl)((()=>"file"!==e.type&&"string"===typeof e.shadowText&&e.shadowText.length>0)),inputRef:h,emitValue:P,hasValue:b,floatingLabel:(0,i.Fl)((()=>!0===b.value||O(e.displayValue))),getControl:()=>(0,r.h)(!0===T.value?"textarea":"input",{ref:h,class:["q-field__native q-placeholder",e.inputClass],style:e.inputStyle,...I.value,...E.value,..."file"!==e.type?{value:j()}:y.value}),getShadowControl:()=>(0,r.h)("div",{class:"q-field__native q-field__shadow absolute-bottom no-pointer-events"+(!0===T.value?"":" text-no-wrap")},[(0,r.h)("span",{class:"invisible"},j()),(0,r.h)("span",e.shadowText)])});const U=F(_),B=(0,r.FN)();return Object.assign(B.proxy,{focus:k,select:C,getNativeElement:()=>h.value}),U}})},3414:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(3673),i=n(1959),o=n(2236),a=n(7277),s=n(7657),u=n(4716),c=n(1436);const l=(0,r.aZ)({name:"QItem",props:{...o.S,...a.$,tag:{type:String,default:"div"},active:Boolean,clickable:Boolean,dense:Boolean,insetLevel:Number,tabindex:[String,Number],focused:Boolean,manualFocus:Boolean},emits:["click","keyup"],setup(e,{slots:t,emit:n}){const{proxy:{$q:l}}=(0,r.FN)(),h=(0,o.Z)(e,l),{hasLink:f,linkProps:d,linkClass:p,linkTag:v,navigateToLink:g}=(0,a.Z)(),m=(0,i.iH)(null),y=(0,i.iH)(null),b=(0,i.Fl)((()=>!0===e.clickable||!0===f.value||"a"===e.tag||"label"===e.tag)),w=(0,i.Fl)((()=>!0!==e.disable&&!0===b.value)),_=(0,i.Fl)((()=>"q-item q-item-type row no-wrap"+(!0===e.dense?" q-item--dense":"")+(!0===h.value?" q-item--dark":"")+(!0===f.value?p.value:!0===e.active?(void 0!==e.activeClass?` ${e.activeClass}`:"")+" q-item--active":"")+(!0===e.disable?" disabled":"")+(!0===w.value?" q-item--clickable q-link cursor-pointer "+(!0===e.manualFocus?"q-manual-focusable":"q-focusable q-hoverable")+(!0===e.focused?" q-manual-focusable--focused":""):""))),T=(0,i.Fl)((()=>{if(void 0===e.insetLevel)return null;const t=!0===l.lang.rtl?"Right":"Left";return{["padding"+t]:16+56*e.insetLevel+"px"}}));function S(e){!0===w.value&&(null!==y.value&&(!0!==e.qKeyEvent&&document.activeElement===m.value?y.value.focus():document.activeElement===y.value&&m.value.focus()),!0===f.value&&g(e),n("click",e))}function E(e){if(!0===w.value&&!0===(0,c.So)(e,13)){(0,u.NS)(e),e.qKeyEvent=!0;const t=new MouseEvent("click",e);t.qKeyEvent=!0,m.value.dispatchEvent(t)}n("keyup",e)}function I(){const e=(0,s.Bl)(t.default,[]);return!0===w.value&&e.unshift((0,r.h)("div",{class:"q-focus-helper",tabindex:-1,ref:y})),e}return()=>{const t={ref:m,class:_.value,style:T.value,onClick:S,onKeyup:E};return!0===w.value?(t.tabindex=e.tabindex||"0",Object.assign(t,d.value)):!0===b.value&&(t["aria-disabled"]="true"),(0,r.h)(v.value,t,I())}}})},2350:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(3673),i=n(1959),o=n(7657);const a=(0,r.aZ)({name:"QItemLabel",props:{overline:Boolean,caption:Boolean,header:Boolean,lines:[Number,String]},setup(e,{slots:t}){const n=(0,i.Fl)((()=>parseInt(e.lines,10))),a=(0,i.Fl)((()=>"q-item__label"+(!0===e.overline?" q-item__label--overline text-overline":"")+(!0===e.caption?" q-item__label--caption text-caption":"")+(!0===e.header?" q-item__label--header":"")+(1===n.value?" ellipsis":""))),s=(0,i.Fl)((()=>void 0!==e.lines&&n.value>1?{overflow:"hidden",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":n.value}:null));return()=>(0,r.h)("div",{style:s.value,class:a.value},(0,o.KR)(t.default))}})},2035:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(3673),i=n(1959),o=n(7657);const a=(0,r.aZ)({name:"QItemSection",props:{avatar:Boolean,thumbnail:Boolean,side:Boolean,top:Boolean,noWrap:Boolean},setup(e,{slots:t}){const n=(0,i.Fl)((()=>"q-item__section column q-item__section--"+(!0===e.avatar||!0===e.side||!0===e.thumbnail?"side":"main")+(!0===e.top?" q-item__section--top justify-start":" justify-center")+(!0===e.avatar?" q-item__section--avatar":"")+(!0===e.thumbnail?" q-item__section--thumbnail":"")+(!0===e.noWrap?" q-item__section--nowrap":"")));return()=>(0,r.h)("div",{class:n.value},(0,o.KR)(t.default))}})},7011:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(3673),i=n(1959),o=n(2236),a=n(7657);const s=(0,r.aZ)({name:"QList",props:{...o.S,bordered:Boolean,dense:Boolean,separator:Boolean,padding:Boolean},setup(e,{slots:t}){const n=(0,r.FN)(),s=(0,o.Z)(e,n.proxy.$q),u=(0,i.Fl)((()=>"q-list"+(!0===e.bordered?" q-list--bordered":"")+(!0===e.dense?" q-list--dense":"")+(!0===e.separator?" q-list--separator":"")+(!0===s.value?" q-list--dark":"")+(!0===e.padding?" q-list--padding":"")));return()=>(0,r.h)("div",{class:u.value},(0,a.KR)(t.default))}})},3066:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(3673),i=n(1959),o=n(4688),a=n(8400),s=n(4716);const{passive:u}=s.rU,c=["both","horizontal","vertical"],l=(0,r.aZ)({name:"QScrollObserver",props:{axis:{type:String,validator:e=>c.includes(e),default:"vertical"},debounce:[String,Number],scrollTarget:{default:void 0}},emits:["scroll"],setup(e,{emit:t}){const n={position:{top:0,left:0},direction:"down",directionChanged:!1,delta:{top:0,left:0},inflectionPoint:{top:0,left:0}};let i,o,c=null;function l(){c=null;const r=Math.max(0,(0,a.u3)(i)),o=(0,a.OI)(i),s={top:r-n.position.top,left:o-n.position.left};if("vertical"===e.axis&&0===s.top||"horizontal"===e.axis&&0===s.left)return;const u=Math.abs(s.top)>=Math.abs(s.left)?s.top<0?"up":"down":s.left<0?"left":"right";n.position={top:r,left:o},n.directionChanged=n.direction!==u,n.delta=s,!0===n.directionChanged&&(n.direction=u,n.inflectionPoint=n.position),t("scroll",{...n})}function h(){i=(0,a.b0)(o,e.scrollTarget),i.addEventListener("scroll",d,u),d(!0)}function f(){void 0!==i&&(i.removeEventListener("scroll",d,u),i=void 0)}function d(t){!0===t||0===e.debounce||"0"===e.debounce?l():null===c&&(c=e.debounce?setTimeout(l,e.debounce):requestAnimationFrame(l))}(0,r.YP)((()=>e.scrollTarget),(()=>{f(),h()}));const p=(0,r.FN)();return(0,r.bv)((()=>{o=p.proxy.$el.parentNode,h()})),(0,r.Jd)((()=>{clearTimeout(c),cancelAnimationFrame(c),f()})),Object.assign(p.proxy,{trigger:d,getPosition:()=>n}),s.ZT}});var h=n(5151),f=n(7657),d=n(2547);const p=(0,r.aZ)({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:e=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(e.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(e,{slots:t,emit:n}){const{proxy:{$q:s}}=(0,r.FN)(),u=(0,i.iH)(null),c=(0,i.iH)(s.screen.height),p=(0,i.iH)(!0===e.container?0:s.screen.width),v=(0,i.iH)({position:0,direction:"down",inflectionPoint:0}),g=(0,i.iH)(0),m=(0,i.iH)(!0===o.uX.value?0:(0,a.np)()),y=(0,i.Fl)((()=>"q-layout q-layout--"+(!0===e.container?"containerized":"standard"))),b=(0,i.Fl)((()=>!1===e.container?{minHeight:s.screen.height+"px"}:null)),w=(0,i.Fl)((()=>0!==m.value?{[!0===s.lang.rtl?"left":"right"]:`${m.value}px`}:null)),_=(0,i.Fl)((()=>0!==m.value?{[!0===s.lang.rtl?"right":"left"]:0,[!0===s.lang.rtl?"left":"right"]:`-${m.value}px`,width:`calc(100% + ${m.value}px)`}:null));function T(t){if(!0===e.container||!0!==document.qScrollPrevented){const r={position:t.position.top,direction:t.direction,directionChanged:t.directionChanged,inflectionPoint:t.inflectionPoint.top,delta:t.delta.top};v.value=r,void 0!==e.onScroll&&n("scroll",r)}}function S(t){const{height:r,width:i}=t;let o=!1;c.value!==r&&(o=!0,c.value=r,void 0!==e.onScrollHeight&&n("scroll-height",r),I()),p.value!==i&&(o=!0,p.value=i),!0===o&&void 0!==e.onResize&&n("resize",t)}function E({height:e}){g.value!==e&&(g.value=e,I())}function I(){if(!0===e.container){const e=c.value>g.value?(0,a.np)():0;m.value!==e&&(m.value=e)}}let k;const C={instances:{},view:(0,i.Fl)((()=>e.view)),isContainer:(0,i.Fl)((()=>e.container)),rootRef:u,height:c,containerHeight:g,scrollbarWidth:m,totalWidth:(0,i.Fl)((()=>p.value+m.value)),rows:(0,i.Fl)((()=>{const t=e.view.toLowerCase().split(" ");return{top:t[0].split(""),middle:t[1].split(""),bottom:t[2].split("")}})),header:(0,i.qj)({size:0,offset:0,space:!1}),right:(0,i.qj)({size:300,offset:0,space:!1}),footer:(0,i.qj)({size:0,offset:0,space:!1}),left:(0,i.qj)({size:300,offset:0,space:!1}),scroll:v,animate(){void 0!==k?clearTimeout(k):document.body.classList.add("q-body--layout-animate"),k=setTimeout((()=>{document.body.classList.remove("q-body--layout-animate"),k=void 0}),155)},update(e,t,n){C[e][t]=n}};return(0,r.JJ)(d.YE,C),()=>{const n=(0,f.vs)(t.default,[(0,r.h)(l,{onScroll:T}),(0,r.h)(h.Z,{onResize:S})]),i=(0,r.h)("div",{class:y.value,style:b.value,ref:!0===e.container?void 0:u},n);return!0===e.container?(0,r.h)("div",{class:"q-layout-container overflow-hidden",ref:u},[(0,r.h)(h.Z,{onResize:E}),(0,r.h)("div",{class:"absolute-full",style:w.value},[(0,r.h)("div",{class:"scroll",style:_.value},[i])])]):i}}})},1598:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});n(7070);var r=n(3673),i=n(1959),o=n(2236),a=n(2417),s=n(7657);const u={xs:2,sm:4,md:6,lg:10,xl:14};function c(e,t,n){return{transform:!0===t?`translateX(${!0===n.lang.rtl?"-":""}100%) scale3d(${-e},1,1)`:`scale3d(${e},1,1)`}}const l=(0,r.aZ)({name:"QLinearProgress",props:{...o.S,...a.LU,value:{type:Number,default:0},buffer:Number,color:String,trackColor:String,reverse:Boolean,stripe:Boolean,indeterminate:Boolean,query:Boolean,rounded:Boolean,instantFeedback:Boolean},setup(e,{slots:t}){const{proxy:n}=(0,r.FN)(),l=(0,o.Z)(e,n.$q),h=(0,a.ZP)(e,u),f=(0,i.Fl)((()=>!0===e.indeterminate||!0===e.query)),d=(0,i.Fl)((()=>"q-linear-progress"+(void 0!==e.color?` text-${e.color}`:"")+(!0===e.reverse||!0===e.query?" q-linear-progress--reverse":"")+(!0===e.rounded?" rounded-borders":""))),p=(0,i.Fl)((()=>c(void 0!==e.buffer?e.buffer:1,e.reverse,n.$q))),v=(0,i.Fl)((()=>`q-linear-progress__track absolute-full q-linear-progress__track--with${!0===e.instantFeedback?"out":""}-transition q-linear-progress__track--`+(!0===l.value?"dark":"light")+(void 0!==e.trackColor?` bg-${e.trackColor}`:""))),g=(0,i.Fl)((()=>c(!0===f.value?1:e.value,e.reverse,n.$q))),m=(0,i.Fl)((()=>`q-linear-progress__model absolute-full q-linear-progress__model--with${!0===e.instantFeedback?"out":""}-transition q-linear-progress__model--${!0===f.value?"in":""}determinate`)),y=(0,i.Fl)((()=>({width:100*e.value+"%"}))),b=(0,i.Fl)((()=>"q-linear-progress__stripe absolute-"+(!0===e.reverse?"right":"left")));return()=>{const n=[(0,r.h)("div",{class:v.value,style:p.value}),(0,r.h)("div",{class:m.value,style:g.value})];return!0===e.stripe&&!1===f.value&&n.push((0,r.h)("div",{class:b.value,style:y.value})),(0,r.h)("div",{class:d.value,style:h.value,role:"progressbar","aria-valuemin":0,"aria-valuemax":1,"aria-valuenow":!0===e.indeterminate?void 0:e.value},(0,s.vs)(t.default,n))}}})},4379:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(3673),i=n(1959),o=n(7657),a=n(2547);const s=(0,r.aZ)({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(e,{slots:t}){const{proxy:{$q:n}}=(0,r.FN)(),s=(0,r.f3)(a.YE);(0,r.f3)(a.Mw,(()=>{console.error("QPage needs to be child of QPageContainer")}));const u=(0,i.Fl)((()=>{const t=(!0===s.header.space?s.header.size:0)+(!0===s.footer.space?s.footer.size:0);if("function"===typeof e.styleFn){const r=!0===s.isContainer.value?s.containerHeight.value:n.screen.height;return e.styleFn(t,r)}return{minHeight:!0===s.isContainer.value?s.containerHeight.value-t+"px":0===n.screen.height?0!==t?`calc(100vh - ${t}px)`:"100vh":n.screen.height-t+"px"}})),c=(0,i.Fl)((()=>"q-page "+(!0===e.padding?" q-layout-padding":"")));return()=>(0,r.h)("main",{class:c.value,style:u.value},(0,o.KR)(t.default))}})},2652:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(3673),i=n(1959),o=n(7657),a=n(2547);const s=(0,r.aZ)({name:"QPageContainer",setup(e,{slots:t}){const{proxy:{$q:n}}=(0,r.FN)(),s=(0,r.f3)(a.YE,(()=>{console.error("QPageContainer needs to be child of QLayout")}));(0,r.JJ)(a.Mw,!0);const u=(0,i.Fl)((()=>{const e={};return!0===s.header.space&&(e.paddingTop=`${s.header.size}px`),!0===s.right.space&&(e["padding"+(!0===n.lang.rtl?"Left":"Right")]=`${s.right.size}px`),!0===s.footer.space&&(e.paddingBottom=`${s.footer.size}px`),!0===s.left.space&&(e["padding"+(!0===n.lang.rtl?"Right":"Left")]=`${s.left.size}px`),e}));return()=>(0,r.h)("div",{class:"q-page-container",style:u.value},(0,o.KR)(t.default))}})},5151:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(3673),i=n(1959),o=n(4688);function a(){const e=(0,i.iH)(!o.uX.value);return!1===e.value&&(0,r.bv)((()=>{e.value=!0})),e}var s=n(4716);const u="undefined"!==typeof ResizeObserver,c=!0===u?{}:{style:"display:block;position:absolute;top:0;left:0;right:0;bottom:0;height:100%;width:100%;overflow:hidden;pointer-events:none;z-index:-1;",url:"about:blank"},l=(0,r.aZ)({name:"QResizeObserver",props:{debounce:{type:[String,Number],default:100}},emits:["resize"],setup(e,{emit:t}){let n,i,o={width:-1,height:-1};function l(t){!0===t||0===e.debounce||"0"===e.debounce?h():n||(n=setTimeout(h,e.debounce))}function h(){if(n=void 0,i){const{offsetWidth:e,offsetHeight:n}=i;e===o.width&&n===o.height||(o={width:e,height:n},t("resize",o))}}const f=(0,r.FN)();if(Object.assign(f.proxy,{trigger:l}),!0===u){let e;return(0,r.bv)((()=>{(0,r.Y3)((()=>{i=f.proxy.$el.parentNode,i&&(e=new ResizeObserver(l),e.observe(i),h())}))})),(0,r.Jd)((()=>{clearTimeout(n),void 0!==e&&(void 0!==e.disconnect?e.disconnect():i&&e.unobserve(i))})),s.ZT}{const e=a();let t;function o(){clearTimeout(n),void 0!==t&&(void 0!==t.removeEventListener&&t.removeEventListener("resize",l,s.rU.passive),t=void 0)}function u(){o(),i&&i.contentDocument&&(t=i.contentDocument.defaultView,t.addEventListener("resize",l,s.rU.passive),h())}return(0,r.bv)((()=>{(0,r.Y3)((()=>{i=f.proxy.$el,i&&u()}))})),(0,r.Jd)(o),()=>{if(!0===e.value)return(0,r.h)("object",{style:c.style,tabindex:-1,type:"text/html",data:c.url,"aria-hidden":"true",onLoad:u})}}}})},5869:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(3673),i=n(1959),o=n(2236);const a={true:"inset",item:"item-inset","item-thumbnail":"item-thumbnail-inset"},s={xs:2,sm:4,md:8,lg:16,xl:24},u=(0,r.aZ)({name:"QSeparator",props:{...o.S,spaced:[Boolean,String],inset:[Boolean,String],vertical:Boolean,color:String,size:String},setup(e){const t=(0,r.FN)(),n=(0,o.Z)(e,t.proxy.$q),u=(0,i.Fl)((()=>!0===e.vertical?"vertical":"horizontal")),c=(0,i.Fl)((()=>` q-separator--${u.value}`)),l=(0,i.Fl)((()=>!1!==e.inset?`${c.value}-${a[e.inset]}`:"")),h=(0,i.Fl)((()=>`q-separator${c.value}${l.value}`+(void 0!==e.color?` bg-${e.color}`:"")+(!0===n.value?" q-separator--dark":""))),f=(0,i.Fl)((()=>{const t={};if(void 0!==e.size&&(t[!0===e.vertical?"width":"height"]=e.size),!1!==e.spaced){const n=!0===e.spaced?`${s.md}px`:e.spaced in s?`${s[e.spaced]}px`:e.spaced,r=!0===e.vertical?["Left","Right"]:["Top","Bottom"];t[`margin${r[0]}`]=t[`margin${r[1]}`]=n}return t}));return()=>(0,r.h)("hr",{class:h.value,style:f.value,"aria-orientation":u.value})}})},4103:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>c});var r=n(3673),i=n(1959),o=n(2236),a=n(7657);const s=["text","rect","circle","QBtn","QBadge","QChip","QToolbar","QCheckbox","QRadio","QToggle","QSlider","QRange","QInput","QAvatar"],u=["wave","pulse","pulse-x","pulse-y","fade","blink","none"],c=(0,r.aZ)({name:"QSkeleton",props:{...o.S,tag:{type:String,default:"div"},type:{type:String,validator:e=>s.includes(e),default:"rect"},animation:{type:String,validator:e=>u.includes(e),default:"wave"},animationSpeed:{type:[String,Number],default:1500},square:Boolean,bordered:Boolean,size:String,width:String,height:String},setup(e,{slots:t}){const n=(0,r.FN)(),s=(0,o.Z)(e,n.proxy.$q),u=(0,i.Fl)((()=>{const t=void 0!==e.size?[e.size,e.size]:[e.width,e.height];return{"--q-skeleton-speed":`${e.animationSpeed}ms`,width:t[0],height:t[1]}})),c=(0,i.Fl)((()=>`q-skeleton q-skeleton--${!0===s.value?"dark":"light"} q-skeleton--type-${e.type}`+("none"!==e.animation?` q-skeleton--anim q-skeleton--anim-${e.animation}`:"")+(!0===e.square?" q-skeleton--square":"")+(!0===e.bordered?" q-skeleton--bordered":"")));return()=>(0,r.h)(e.tag,{class:c.value,style:u.value},(0,a.KR)(t.default))}})},9754:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(3673),i=n(1959),o=n(2417);const a={size:{type:[Number,String],default:"1em"},color:String};function s(e){return{cSize:(0,i.Fl)((()=>e.size in o.Ok?`${o.Ok[e.size]}px`:e.size)),classes:(0,i.Fl)((()=>"q-spinner"+(e.color?` text-${e.color}`:"")))}}const u=(0,r.aZ)({name:"QSpinner",props:{...a,thickness:{type:Number,default:5}},setup(e){const{cSize:t,classes:n}=s(e);return()=>(0,r.h)("svg",{class:n.value+" q-spinner-mat",width:t.value,height:t.value,viewBox:"25 25 50 50"},[(0,r.h)("circle",{class:"path",cx:"50",cy:"50",r:"20",fill:"none",stroke:"currentColor","stroke-width":e.thickness,"stroke-miterlimit":"10"})])}})},6602:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(3673),i=n(9154),o=n(7657);const a=(0,r.aZ)({name:"QTabPanel",props:i.vZ,setup(e,{slots:t}){return()=>(0,r.h)("div",{class:"q-tab-panel"},(0,o.KR)(t.default))}})},5906:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(3673),i=n(1959),o=n(2236),a=n(9154),s=n(7657);const u=(0,r.aZ)({name:"QTabPanels",props:{...a.t6,...o.S},emits:a.K6,setup(e,{slots:t}){const n=(0,r.FN)(),u=(0,o.Z)(e,n.proxy.$q),{updatePanelsList:c,getPanelContent:l,panelDirectives:h}=(0,a.ZP)(),f=(0,i.Fl)((()=>"q-tab-panels q-panel-parent"+(!0===u.value?" q-tab-panels--dark q-dark":"")));return()=>(c(t),(0,s.Jl)("div",{class:f.value},l(),"pan",e.swipeable,(()=>h.value)))}})},3269:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(3673),i=n(1959),o=n(4554),a=n(6489),s=n(7657),u=n(1436),c=n(2547);let l=0;const h=["click","keyup"],f={icon:String,label:[Number,String],alert:[Boolean,String],alertIcon:String,name:{type:[Number,String],default:()=>"t_"+l++},noCaps:Boolean,tabindex:[String,Number],disable:Boolean,contentClass:String,ripple:{type:[Boolean,Object],default:!0}};function d(e,t,n,l){const h=(0,r.f3)(c.Nd,(()=>{console.error("QTab/QRouteTab component needs to be child of QTabs")})),f=(0,i.iH)(null),d=(0,i.iH)(null),p=(0,i.iH)(null),v=(0,i.Fl)((()=>!0!==e.disable&&e.ripple)),g=(0,i.Fl)((()=>h.currentModel.value===e.name)),m=(0,i.Fl)((()=>"q-tab relative-position self-stretch flex flex-center text-center"+(!0===g.value?" q-tab--active"+(h.tabProps.value.activeClass?" "+h.tabProps.value.activeClass:"")+(h.tabProps.value.activeColor?` text-${h.tabProps.value.activeColor}`:"")+(h.tabProps.value.activeBgColor?` bg-${h.tabProps.value.activeBgColor}`:""):" q-tab--inactive")+(e.icon&&e.label&&!1===h.tabProps.value.inlineLabel?" q-tab--full":"")+(!0===e.noCaps||!0===h.tabProps.value.noCaps?" q-tab--no-caps":"")+(!0===e.disable?" disabled":" q-focusable q-hoverable cursor-pointer")+(void 0!==l&&""!==l.linkClass.value?` ${l.linkClass.value}`:""))),y=(0,i.Fl)((()=>"q-tab__content self-stretch flex-center relative-position q-anchor--skip non-selectable "+(!0===h.tabProps.value.inlineLabel?"row no-wrap q-tab__content--inline":"column")+(void 0!==e.contentClass?` ${e.contentClass}`:""))),b=(0,i.Fl)((()=>!0===e.disable||!0===g.value?-1:e.tabindex||0));function w(t,r){if(!0!==r&&null!==f.value&&f.value.focus(),!0!==e.disable){let r;if(void 0!==l){if(!0!==l.hasLink.value)return void n("click",t);r=()=>{t.__qNavigate=!0,h.avoidRouteWatcher=!0;const n=l.navigateToLink(t);!1===n?h.avoidRouteWatcher=!1:n.then((()=>{h.avoidRouteWatcher=!1,h.updateModel({name:e.name,fromRoute:!0})}))}}else r=()=>{h.updateModel({name:e.name,fromRoute:!1})};n("click",t,r),!0!==t.defaultPrevented&&r()}}function _(e){!0===(0,u.So)(e,13)&&w(e,!0),n("keyup",e)}function T(){const n=h.tabProps.value.narrowIndicator,i=[],a=(0,r.h)("div",{ref:p,class:["q-tab__indicator",h.tabProps.value.indicatorClass]});void 0!==e.icon&&i.push((0,r.h)(o.Z,{class:"q-tab__icon",name:e.icon})),void 0!==e.label&&i.push((0,r.h)("div",{class:"q-tab__label"},e.label)),!1!==e.alert&&i.push(void 0!==e.alertIcon?(0,r.h)(o.Z,{class:"q-tab__alert-icon",color:!0!==e.alert?e.alert:void 0,name:e.alertIcon}):(0,r.h)("div",{class:"q-tab__alert"+(!0!==e.alert?` text-${e.alert}`:"")})),!0===n&&i.push(a);const u=[(0,r.h)("div",{class:"q-focus-helper",tabindex:-1,ref:f}),(0,r.h)("div",{class:y.value},(0,s.vs)(t.default,i))];return!1===n&&u.push(a),u}const S={name:(0,i.Fl)((()=>e.name)),rootRef:d,tabIndicatorRef:p,routerProps:l};function E(t,n){const i={ref:d,class:m.value,tabindex:b.value,role:"tab","aria-selected":g.value,"aria-disabled":!0===e.disable?"true":void 0,onClick:w,onKeyup:_,...n};return(0,r.wy)((0,r.h)(t,i,T()),[[a.Z,v.value]])}return(0,r.Jd)((()=>{h.unregisterTab(S),h.recalculateScroll()})),(0,r.bv)((()=>{h.registerTab(S),h.recalculateScroll()})),{renderTab:E,$tabs:h}}const p=(0,r.aZ)({name:"QTab",props:f,emits:h,setup(e,{slots:t,emit:n}){const{renderTab:r}=d(e,t,n);return()=>r("div")}})},2496:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});n(71);var r=n(3673),i=n(1959),o=n(4554),a=n(5151),s=n(416),u=n(4955),c=n(4716),l=n(7657),h=n(2547);let f=!1;{const e=document.createElement("div"),t=document.createElement("div");e.setAttribute("dir","rtl"),e.style.width="1px",e.style.height="1px",e.style.overflow="auto",t.style.width="1000px",t.style.height="1px",document.body.appendChild(e),e.appendChild(t),e.scrollLeft=-1e3,f=e.scrollLeft>=0,e.remove()}function d(e,t,n){const r=!0===n?["left","right"]:["top","bottom"];return`absolute-${!0===t?r[0]:r[1]}${e?` text-${e}`:""}`}const p=["left","center","right","justify"],v=()=>{},g=(0,r.aZ)({name:"QTabs",props:{modelValue:[Number,String],align:{type:String,default:"center",validator:e=>p.includes(e)},breakpoint:{type:[String,Number],default:600},vertical:Boolean,shrink:Boolean,stretch:Boolean,activeClass:String,activeColor:String,activeBgColor:String,indicatorColor:String,leftIcon:String,rightIcon:String,outsideArrows:Boolean,mobileArrows:Boolean,switchIndicator:Boolean,narrowIndicator:Boolean,inlineLabel:Boolean,noCaps:Boolean,dense:Boolean,contentClass:String,"onUpdate:modelValue":Function},setup(e,{slots:t,emit:n}){const p=(0,r.FN)(),{proxy:{$q:g}}=p,{registerTick:m,prepareTick:y}=(0,s.Z)(),{registerTimeout:b}=(0,u.Z)(),w=(0,i.iH)(null),_=(0,i.iH)(null),T=(0,i.iH)(e.modelValue),S=(0,i.iH)(!1),E=(0,i.iH)(!0),I=(0,i.iH)(!1),k=(0,i.iH)(!1),C=(0,i.Fl)((()=>!0===g.platform.is.desktop||!0===e.mobileArrows)),x=[];let A,R,N,P=!1,O=!0===C.value?z:c.ZT;const D=(0,i.Fl)((()=>({activeClass:e.activeClass,activeColor:e.activeColor,activeBgColor:e.activeBgColor,indicatorClass:d(e.indicatorColor,e.switchIndicator,e.vertical),narrowIndicator:e.narrowIndicator,inlineLabel:e.inlineLabel,noCaps:e.noCaps}))),L=(0,i.Fl)((()=>{const t=!0===S.value?"left":!0===k.value?"justify":e.align;return`q-tabs__content--align-${t}`})),M=(0,i.Fl)((()=>`q-tabs row no-wrap items-center q-tabs--${!0===S.value?"":"not-"}scrollable q-tabs--`+(!0===e.vertical?"vertical":"horizontal")+" q-tabs__arrows--"+(!0===C.value&&!0===e.outsideArrows?"outside":"inside")+(!0===e.dense?" q-tabs--dense":"")+(!0===e.shrink?" col-shrink":"")+(!0===e.stretch?" self-stretch":""))),F=(0,i.Fl)((()=>"q-tabs__content row no-wrap items-center self-stretch hide-scrollbar "+L.value+(void 0!==e.contentClass?` ${e.contentClass}`:"")+(!0===g.platform.is.mobile?" scroll":""))),q=(0,i.Fl)((()=>!0===e.vertical?{container:"height",content:"offsetHeight",scroll:"scrollHeight"}:{container:"width",content:"offsetWidth",scroll:"scrollWidth"})),j=(0,i.Fl)((()=>!0!==e.vertical&&!0===g.lang.rtl)),U=(0,i.Fl)((()=>!1===f&&!0===j.value));function B({name:t,setCurrent:r,skipEmit:i,fromRoute:o}){T.value!==t&&(!0!==i&&n("update:modelValue",t),!0!==r&&void 0!==e["onUpdate:modelValue"]||(G(T.value,t),T.value=t)),void 0!==o&&(P=o)}function V(){m((()=>{!0!==p.isDeactivated&&!0!==p.isUnmounted&&H({width:w.value.offsetWidth,height:w.value.offsetHeight})})),y()}function H(t){if(void 0===q.value||null===_.value)return;const n=t[q.value.container],i=Math.min(_.value[q.value.scroll],Array.prototype.reduce.call(_.value.children,((e,t)=>e+t[q.value.content]),0)),o=n>0&&i>n;S.value!==o&&(S.value=o),!0===o&&(0,r.Y3)(O);const a=n<parseInt(e.breakpoint,10);k.value!==a&&(k.value=a)}function G(t,n){const i=void 0!==t&&null!==t&&""!==t?x.find((e=>e.name.value===t)):null,o=void 0!==n&&null!==n&&""!==n?x.find((e=>e.name.value===n)):null;if(i&&o){const t=i.tabIndicatorRef.value,n=o.tabIndicatorRef.value;clearTimeout(A),t.style.transition="none",t.style.transform="none",n.style.transition="none",n.style.transform="none";const a=t.getBoundingClientRect(),s=n.getBoundingClientRect();n.style.transform=!0===e.vertical?`translate3d(0,${a.top-s.top}px,0) scale3d(1,${s.height?a.height/s.height:1},1)`:`translate3d(${a.left-s.left}px,0,0) scale3d(${s.width?a.width/s.width:1},1,1)`,(0,r.Y3)((()=>{A=setTimeout((()=>{n.style.transition="transform .25s cubic-bezier(.4, 0, .2, 1)",n.style.transform="none"}),70)}))}if(o&&!0===S.value){const{left:t,width:n,top:r,height:i}=_.value.getBoundingClientRect(),a=o.rootRef.value.getBoundingClientRect();let s=!0===e.vertical?a.top-r:a.left-t;if(s<0)return _.value[!0===e.vertical?"scrollTop":"scrollLeft"]+=Math.floor(s),void O();s+=!0===e.vertical?a.height-i:a.width-n,s>0&&(_.value[!0===e.vertical?"scrollTop":"scrollLeft"]+=Math.ceil(s),O())}}function z(){const t=_.value;if(null!==t){const n=t.getBoundingClientRect(),r=!0===e.vertical?t.scrollTop:Math.abs(t.scrollLeft);!0===j.value?(E.value=Math.ceil(r+n.width)<t.scrollWidth-1,I.value=r>0):(E.value=r>0,I.value=!0===e.vertical?Math.ceil(r+n.height)<t.scrollHeight:Math.ceil(r+n.width)<t.scrollWidth)}}function K(e){J(),Y(e),R=setInterval((()=>{!0===Y(e)&&J()}),5)}function $(){K(!0===U.value?9999:0)}function W(){K(!0===U.value?0:9999)}function J(){clearInterval(R)}(0,r.YP)(j,O),(0,r.YP)((()=>e.modelValue),(e=>{B({name:e,setCurrent:!0,skipEmit:!0})})),(0,r.YP)((()=>e.outsideArrows),(()=>{(0,r.Y3)(V())})),(0,r.YP)(C,(e=>{O=!0===e?z:c.ZT,(0,r.Y3)(V())}));const Z=(0,i.Fl)((()=>!0===U.value?{get:e=>Math.abs(e.scrollLeft),set:(e,t)=>{e.scrollLeft=-t}}:!0===e.vertical?{get:e=>e.scrollTop,set:(e,t)=>{e.scrollTop=t}}:{get:e=>e.scrollLeft,set:(e,t)=>{e.scrollLeft=t}}));function Y(e){const t=_.value,{get:n,set:r}=Z.value;let i=!1,o=n(t);const a=e<o?-1:1;return o+=5*a,o<0?(i=!0,o=0):(-1===a&&o<=e||1===a&&o>=e)&&(i=!0,o=e),r(t,o),O(),i}function Q(){return x.filter((e=>void 0!==e.routerProps&&!0===e.routerProps.hasLink.value))}function X(){let e=null,t=P;const n={matchedLen:0,hrefLen:0,exact:!1,found:!1},{hash:r}=p.proxy.$route,i=T.value;let o=!0===t?v:e=>{i===e.name.value&&(t=!0,o=v)};const a=Q();for(const s of a){const t=!0===s.routerProps.exact.value;if(!0!==s.routerProps[!0===t?"linkIsExactActive":"linkIsActive"].value||!0===n.exact&&!0!==t){o(s);continue}const i=s.routerProps.linkRoute.value,a=i.hash;if(!0===t){if(r===a){e=s.name.value;break}if(""!==r&&""!==a){o(s);continue}}const u=i.matched.length,c=i.href.length-a.length;(u===n.matchedLen?c>n.hrefLen:u>n.matchedLen)?(e=s.name.value,Object.assign(n,{matchedLen:u,hrefLen:c,exact:t})):o(s)}!0!==t&&null===e||B({name:e,setCurrent:!0,fromRoute:!0})}function ee(){!0!==re.avoidRouteWatcher&&b(X)}function te(e){x.push(e);const t=Q();t.length>0&&(void 0===N&&(N=(0,r.YP)((()=>p.proxy.$route),ee)),ee())}function ne(e){if(x.splice(x.indexOf(e),1),void 0!==N){const e=Q();0===e.length&&(N(),N=void 0),ee()}}const re={currentModel:T,tabProps:D,registerTab:te,unregisterTab:ne,verifyRouteModel:ee,updateModel:B,recalculateScroll:V,avoidRouteWatcher:!1};return(0,r.JJ)(h.Nd,re),(0,r.Jd)((()=>{clearTimeout(A),void 0!==N&&N()})),(0,r.dl)(V),()=>{const n=[(0,r.h)(a.Z,{onResize:H}),(0,r.h)("div",{ref:_,class:F.value,onScroll:O},(0,l.KR)(t.default))];return!0===C.value&&n.push((0,r.h)(o.Z,{class:"q-tabs__arrow q-tabs__arrow--left absolute q-tab__icon"+(!0===E.value?"":" q-tabs__arrow--faded"),name:e.leftIcon||g.iconSet.tabs[!0===e.vertical?"up":"left"],onMousedown:$,onTouchstartPassive:$,onMouseup:J,onMouseleave:J,onTouchend:J}),(0,r.h)(o.Z,{class:"q-tabs__arrow q-tabs__arrow--right absolute q-tab__icon"+(!0===I.value?"":" q-tabs__arrow--faded"),name:e.rightIcon||g.iconSet.tabs[!0===e.vertical?"down":"right"],onMousedown:W,onTouchstartPassive:W,onMouseup:J,onMouseleave:J,onTouchend:J})),(0,r.h)("div",{ref:w,class:M.value,role:"tablist"},n)}}})},9570:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(3673),i=n(1959),o=n(7657);const a=(0,r.aZ)({name:"QToolbar",props:{inset:Boolean},setup(e,{slots:t}){const n=(0,i.Fl)((()=>"q-toolbar row no-wrap items-center"+(!0===e.inset?" q-toolbar--inset":"")));return()=>(0,r.h)("div",{class:n.value},(0,o.KR)(t.default))}})},9992:(e,t,n)=>{"use strict";n.d(t,{jO:()=>a,ZP:()=>s});var r=n(1959);const i={left:"start",center:"center",right:"end",between:"between",around:"around",evenly:"evenly",stretch:"stretch"},o=Object.keys(i),a={align:{type:String,validator:e=>o.includes(e)}};function s(e){return(0,r.Fl)((()=>{const t=void 0===e.align?!0===e.vertical?"stretch":"left":e.align;return`${!0===e.vertical?"items":"justify"}-${i[t]}`}))}},2236:(e,t,n)=>{"use strict";n.d(t,{S:()=>i,Z:()=>o});var r=n(1959);const i={dark:{type:Boolean,default:null}};function o(e,t){return(0,r.Fl)((()=>null===e.dark?t.dark.isActive:e.dark))}},3628:(e,t,n)=>{"use strict";n.d(t,{vr:()=>o,gH:()=>a,ZP:()=>s});var r=n(3673),i=n(7445);const o={modelValue:{type:Boolean,default:null},"onUpdate:modelValue":Function},a=["before-show","show","before-hide","hide"];function s({showing:e,canShow:t,hideOnRouteChange:n,handleShow:o,handleHide:a,processOnMount:s}){const u=(0,r.FN)(),{props:c,emit:l,proxy:h}=u;let f;function d(t){!0===e.value?g(t):p(t)}function p(e){if(!0===c.disable||void 0!==e&&!0===e.qAnchorHandled||void 0!==t&&!0!==t(e))return;const n=void 0!==c["onUpdate:modelValue"];!0===n&&(l("update:modelValue",!0),f=e,(0,r.Y3)((()=>{f===e&&(f=void 0)}))),null!==c.modelValue&&!1!==n||v(e)}function v(t){!0!==e.value&&(e.value=!0,l("before-show",t),void 0!==o?o(t):l("show",t))}function g(e){if(!0===c.disable)return;const t=void 0!==c["onUpdate:modelValue"];!0===t&&(l("update:modelValue",!1),f=e,(0,r.Y3)((()=>{f===e&&(f=void 0)}))),null!==c.modelValue&&!1!==t||m(e)}function m(t){!1!==e.value&&(e.value=!1,l("before-hide",t),void 0!==a?a(t):l("hide",t))}function y(t){if(!0===c.disable&&!0===t)void 0!==c["onUpdate:modelValue"]&&l("update:modelValue",!1);else if(!0===t!==e.value){const e=!0===t?v:m;e(f)}}(0,r.YP)((()=>c.modelValue),y),void 0!==n&&!0===(0,i.Rb)(u)&&(0,r.YP)((()=>h.$route),(()=>{!0===n.value&&!0===e.value&&g()})),!0===s&&(0,r.bv)((()=>{y(c.modelValue)}));const b={show:p,hide:g,toggle:d};return Object.assign(h,b),b}},9154:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>T,vZ:()=>y,K6:()=>_,t6:()=>w});var r=n(3673),i=n(1959),o=n(8880),a=n(4688);n(71);const s={left:!0,right:!0,up:!0,down:!0,horizontal:!0,vertical:!0},u=Object.keys(s);function c(e){const t={};for(const n of u)!0===e[n]&&(t[n]=!0);return 0===Object.keys(t).length?s:(!0===t.horizontal?t.left=t.right=!0:!0===t.left&&!0===t.right&&(t.horizontal=!0),!0===t.vertical?t.up=t.down=!0:!0===t.up&&!0===t.down&&(t.vertical=!0),!0===t.horizontal&&!0===t.vertical&&(t.all=!0),t)}function l(e,t){return void 0===t.event&&void 0!==e.target&&!0!==e.target.draggable&&"function"===typeof t.handler&&"INPUT"!==e.target.nodeName.toUpperCase()&&(void 0===e.qClonedBy||-1===e.qClonedBy.indexOf(t.uid))}s.all=!0;var h=n(4716),f=n(9725);function d(e){const t=[.06,6,50];return"string"===typeof e&&e.length&&e.split(":").forEach(((e,n)=>{const r=parseFloat(e);r&&(t[n]=r)})),t}const p={name:"touch-swipe",beforeMount(e,{value:t,arg:n,modifiers:r}){if(!0!==r.mouse&&!0!==a.Lp.has.touch)return;const i=!0===r.mouseCapture?"Capture":"",o={handler:t,sensitivity:d(n),direction:c(r),noop:h.ZT,mouseStart(e){l(e,o)&&(0,h.du)(e)&&((0,h.M0)(o,"temp",[[document,"mousemove","move",`notPassive${i}`],[document,"mouseup","end","notPassiveCapture"]]),o.start(e,!0))},touchStart(e){if(l(e,o)){const t=e.target;(0,h.M0)(o,"temp",[[t,"touchmove","move","notPassiveCapture"],[t,"touchcancel","end","notPassiveCapture"],[t,"touchend","end","notPassiveCapture"]]),o.start(e)}},start(t,n){!0===a.Lp.is.firefox&&(0,h.Jf)(e,!0);const r=(0,h.FK)(t);o.event={x:r.left,y:r.top,time:Date.now(),mouse:!0===n,dir:!1}},move(e){if(void 0===o.event)return;if(!1!==o.event.dir)return void(0,h.NS)(e);const t=Date.now()-o.event.time;if(0===t)return;const n=(0,h.FK)(e),r=n.left-o.event.x,i=Math.abs(r),a=n.top-o.event.y,s=Math.abs(a);if(!0!==o.event.mouse){if(i<o.sensitivity[1]&&s<o.sensitivity[1])return void o.end(e)}else if(i<o.sensitivity[2]&&s<o.sensitivity[2])return;const u=i/t,c=s/t;!0===o.direction.vertical&&i<s&&i<100&&c>o.sensitivity[0]&&(o.event.dir=a<0?"up":"down"),!0===o.direction.horizontal&&i>s&&s<100&&u>o.sensitivity[0]&&(o.event.dir=r<0?"left":"right"),!0===o.direction.up&&i<s&&a<0&&i<100&&c>o.sensitivity[0]&&(o.event.dir="up"),!0===o.direction.down&&i<s&&a>0&&i<100&&c>o.sensitivity[0]&&(o.event.dir="down"),!0===o.direction.left&&i>s&&r<0&&s<100&&u>o.sensitivity[0]&&(o.event.dir="left"),!0===o.direction.right&&i>s&&r>0&&s<100&&u>o.sensitivity[0]&&(o.event.dir="right"),!1!==o.event.dir?((0,h.NS)(e),!0===o.event.mouse&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),(0,f.M)(),o.styleCleanup=e=>{o.styleCleanup=void 0,document.body.classList.remove("non-selectable");const t=()=>{document.body.classList.remove("no-pointer-events--children")};!0===e?setTimeout(t,50):t()}),o.handler({evt:e,touch:!0!==o.event.mouse,mouse:o.event.mouse,direction:o.event.dir,duration:t,distance:{x:i,y:s}})):o.end(e)},end(t){void 0!==o.event&&((0,h.ul)(o,"temp"),!0===a.Lp.is.firefox&&(0,h.Jf)(e,!1),void 0!==o.styleCleanup&&o.styleCleanup(!0),void 0!==t&&!1!==o.event.dir&&(0,h.NS)(t),o.event=void 0)}};e.__qtouchswipe=o,!0===r.mouse&&(0,h.M0)(o,"main",[[e,"mousedown","mouseStart",`passive${i}`]]),!0===a.Lp.has.touch&&(0,h.M0)(o,"main",[[e,"touchstart","touchStart","passive"+(!0===r.capture?"Capture":"")],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,t){const n=e.__qtouchswipe;void 0!==n&&(t.oldValue!==t.value&&("function"!==typeof t.value&&n.end(),n.handler=t.value),n.direction=c(t.modifiers))},beforeUnmount(e){const t=e.__qtouchswipe;void 0!==t&&((0,h.ul)(t,"main"),(0,h.ul)(t,"temp"),!0===a.Lp.is.firefox&&(0,h.Jf)(e,!1),void 0!==t.styleCleanup&&t.styleCleanup(),delete e.__qtouchswipe)}};function v(){const e=new Map;return{getCache:function(t,n){return void 0===e[t]?e[t]=n:e[t]},getCacheWithFn:function(t,n){return void 0===e[t]?e[t]=n():e[t]}}}var g=n(7657),m=n(7445);const y={name:{required:!0},disable:Boolean},b={setup(e,{slots:t}){return()=>(0,r.h)("div",{class:"q-panel scroll",role:"tabpanel"},(0,g.KR)(t.default))}},w={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},_=["update:modelValue","before-transition","transition"];function T(){const{props:e,emit:t,proxy:n}=(0,r.FN)(),{getCacheWithFn:a}=v();let s,u;const c=(0,i.iH)(null),l=(0,i.iH)(null);function h(t){const r=!0===e.vertical?"up":"left";N((!0===n.$q.lang.rtl?-1:1)*(t.direction===r?1:-1))}const f=(0,i.Fl)((()=>[[p,h,void 0,{horizontal:!0!==e.vertical,vertical:e.vertical,mouse:!0}]])),d=(0,i.Fl)((()=>e.transitionPrev||"slide-"+(!0===e.vertical?"down":"right"))),y=(0,i.Fl)((()=>e.transitionNext||"slide-"+(!0===e.vertical?"up":"left"))),w=(0,i.Fl)((()=>`--q-transition-duration: ${e.transitionDuration}ms`)),_=(0,i.Fl)((()=>"string"===typeof e.modelValue||"number"===typeof e.modelValue?e.modelValue:String(e.modelValue))),T=(0,i.Fl)((()=>({include:e.keepAliveInclude,exclude:e.keepAliveExclude,max:e.keepAliveMax}))),S=(0,i.Fl)((()=>void 0!==e.keepAliveInclude||void 0!==e.keepAliveExclude));function E(){N(1)}function I(){N(-1)}function k(e){t("update:modelValue",e)}function C(e){return void 0!==e&&null!==e&&""!==e}function x(e){return s.findIndex((t=>t.props.name===e&&""!==t.props.disable&&!0!==t.props.disable))}function A(){return s.filter((e=>""!==e.props.disable&&!0!==e.props.disable))}function R(t){const n=0!==t&&!0===e.animated&&-1!==c.value?"q-transition--"+(-1===t?d.value:y.value):null;l.value!==n&&(l.value=n)}function N(n,r=c.value){let i=r+n;while(i>-1&&i<s.length){const e=s[i];if(void 0!==e&&""!==e.props.disable&&!0!==e.props.disable)return R(n),u=!0,t("update:modelValue",e.props.name),void setTimeout((()=>{u=!1}));i+=n}!0===e.infinite&&s.length>0&&-1!==r&&r!==s.length&&N(n,-1===n?s.length:-1)}function P(){const t=x(e.modelValue);return c.value!==t&&(c.value=t),!0}function O(){const t=!0===C(e.modelValue)&&P()&&s[c.value];return!0===e.keepAlive?[(0,r.h)(r.Ob,T.value,[(0,r.h)(!0===S.value?a(_.value,(()=>({...b,name:_.value}))):b,{key:_.value,style:w.value},(()=>t))])]:[(0,r.h)("div",{class:"q-panel scroll",style:w.value,key:_.value,role:"tabpanel"},[t])]}function D(){if(0!==s.length)return!0===e.animated?[(0,r.h)(o.uT,{name:l.value},O)]:O()}function L(e){return s=(0,m.Pf)((0,g.KR)(e.default,[])).filter((e=>null!==e.props&&void 0===e.props.slot&&!0===C(e.props.name))),s.length}function M(){return s}return(0,r.YP)((()=>e.modelValue),((e,n)=>{const i=!0===C(e)?x(e):-1;!0!==u&&R(-1===i?0:i<x(n)?-1:1),c.value!==i&&(c.value=i,t("before-transition",e,n),(0,r.Y3)((()=>{t("transition",e,n)})))})),Object.assign(n,{next:E,previous:I,goTo:k}),{panelIndex:c,panelDirectives:f,updatePanelsList:L,updatePanelIndex:P,getPanelContent:D,getEnabledPanels:A,getPanels:M,isValidPanelName:C,keepAliveProps:T,needsUniqueKeepAliveWrapper:S,goToPanelByOffset:N,goToPanel:k,nextPanel:E,previousPanel:I}}},9104:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(1959),i=n(3673),o=(n(4716),n(230)),a=n(8144),s=n(4312);function u(e){e=e.parent;while(void 0!==e&&null!==e){if("QGlobalDialog"===e.type.name)return!0;if("QDialog"===e.type.name||"QMenu"===e.type.name)return!1;e=e.parent}return!1}function c(e,t,n,c){const l=(0,r.iH)(!1);let h=null;const f={},d=!0===c&&u(e);function p(t){!0!==t?(!1===d&&null===h&&(h=(0,a.q_)()),l.value=!0,s.wN.push(e.proxy),(0,o.YX)(f)):(0,o.xF)(f)}function v(){(0,o.xF)(f),l.value=!1;const t=s.wN.indexOf(e.proxy);t>-1&&s.wN.splice(t,1),null!==h&&((0,a.pB)(h),h=null)}return(0,i.Ah)(v),Object.assign(e.proxy,{__qPortalInnerRef:t}),{showPortal:p,hidePortal:v,portalIsActive:l,renderPortal:()=>!0===d?n():!0===l.value?[(0,i.h)(i.lR,{to:h},n())]:void 0}}},7277:(e,t,n)=>{"use strict";n.d(t,{$:()=>d,Z:()=>p});n(5363);var r=n(3673),i=n(1959),o=n(4716),a=n(7445);function s(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}function u(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function c(e,t){for(const n in t){const r=t[n],i=e[n];if("string"===typeof r){if(r!==i)return!1}else if(!1===Array.isArray(i)||i.length!==r.length||r.some(((e,t)=>e!==i[t])))return!1}return!0}function l(e,t){return!0===Array.isArray(t)?e.length===t.length&&e.every(((e,n)=>e===t[n])):1===e.length&&e[0]===t}function h(e,t){return!0===Array.isArray(e)?l(e,t):!0===Array.isArray(t)?l(t,e):e===t}function f(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!1===h(e[n],t[n]))return!1;return!0}const d={to:[String,Object],replace:Boolean,exact:Boolean,activeClass:{type:String,default:"q-router-link--active"},exactActiveClass:{type:String,default:"q-router-link--exact-active"},disable:Boolean};function p(){const e=(0,r.FN)(),{props:t,attrs:n,proxy:l}=e,h=(0,a.Rb)(e),d=(0,i.Fl)((()=>!0===h&&!0!==t.disable&&void 0!==t.to&&null!==t.to&&""!==t.to)),p=(0,i.Fl)((()=>{if(!0===d.value)try{return l.$router.resolve(t.to)}catch(e){}return null})),v=(0,i.Fl)((()=>null!==p.value)),g=(0,i.Fl)((()=>!0===v.value?"a":t.tag||"div")),m=(0,i.Fl)((()=>{if(!1===v.value)return null;const{matched:e}=p.value,{length:t}=e,n=e[t-1];if(void 0===n)return-1;const r=l.$route.matched;if(0===r.length)return-1;const i=r.findIndex(u.bind(null,n));if(i>-1)return i;const o=s(e[t-2]);return t>1&&s(n)===o&&r[r.length-1].path!==o?r.findIndex(u.bind(null,e[t-2])):i})),y=(0,i.Fl)((()=>!0===v.value&&m.value>-1&&c(l.$route.params,p.value.params))),b=(0,i.Fl)((()=>!0===y.value&&m.value===l.$route.matched.length-1&&f(l.$route.params,p.value.params))),w=(0,i.Fl)((()=>!0===v.value?!0===b.value?` ${t.exactActiveClass} ${t.activeClass}`:!0===t.exact?"":!0===y.value?` ${t.activeClass}`:"":"")),_=(0,i.Fl)((()=>!0===v.value?{href:p.value.href,target:n.target,role:"link"}:{}));function T(e){return!(!0===t.disable||e.metaKey||e.altKey||e.ctrlKey||e.shiftKey||!0!==e.__qNavigate&&!0===e.defaultPrevented||void 0!==e.button&&0!==e.button||"_blank"===n.target)&&((0,o.X$)(e),l.$router[!0===t.replace?"replace":"push"](t.to).catch((()=>{})))}return{hasLink:v,linkTag:g,linkRoute:p,linkIsActive:y,linkIsExactActive:b,linkClass:w,linkProps:_,navigateToLink:T}}},2417:(e,t,n)=>{"use strict";n.d(t,{Ok:()=>i,LU:()=>o,ZP:()=>a});var r=n(1959);const i={xs:18,sm:24,md:32,lg:38,xl:46},o={size:String};function a(e,t=i){return(0,r.Fl)((()=>void 0!==e.size?{fontSize:e.size in t?`${t[e.size]}px`:e.size}:null))}},416:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(3673);function i(){let e;return(0,r.Jd)((()=>{e=void 0})),{registerTick(t){e=t},removeTick(){e=void 0},prepareTick(){if(void 0!==e){const t=e;(0,r.Y3)((()=>{e===t&&(e(),e=void 0)}))}}}}},4955:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(3673);function i(){let e;return(0,r.Jd)((()=>{clearTimeout(e)})),{registerTimeout(t,n){clearTimeout(e),e=setTimeout(t,n)},removeTimeout(){clearTimeout(e)}}}},6104:(e,t,n)=>{"use strict";n.d(t,{D:()=>o,Z:()=>a});var r=n(1959),i=n(3673);const o={transitionShow:{type:String,default:"fade"},transitionHide:{type:String,default:"fade"},transitionDuration:{type:[String,Number],default:300}};function a(e,t){const n=(0,r.iH)(t.value);return(0,i.YP)(t,(e=>{(0,i.Y3)((()=>{n.value=e}))})),{transition:(0,r.Fl)((()=>"q-transition--"+(!0===n.value?e.transitionHide:e.transitionShow))),transitionStyle:(0,r.Fl)((()=>`--q-transition-duration: ${e.transitionDuration}ms`))}}},677:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(4312),i=n(1436);function o(e){if(!1===e)return 0;if(!0===e||void 0===e)return 1;const t=parseInt(e,10);return isNaN(t)?0:t}const a={name:"close-popup",beforeMount(e,{value:t}){const n={depth:o(t),handler(t){0!==n.depth&&setTimeout((()=>{const i=(0,r.HW)(e);void 0!==i&&(0,r.S7)(i,t,n.depth)}))},handlerKey(e){!0===(0,i.So)(e,13)&&n.handler(e)}};e.__qclosepopup=n,e.addEventListener("click",n.handler),e.addEventListener("keyup",n.handlerKey)},updated(e,{value:t,oldValue:n}){t!==n&&(e.__qclosepopup.depth=o(t))},beforeUnmount(e){const t=e.__qclosepopup;e.removeEventListener("click",t.handler),e.removeEventListener("keyup",t.handlerKey),delete e.__qclosepopup}}},6489:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(2012),i=n(4716),o=n(1436);function a(e,t=250){let n,r=!1;return function(){return!1===r&&(r=!0,setTimeout((()=>{r=!1}),t),n=e.apply(this,arguments)),n}}function s(e,t,n,o){!0===n.modifiers.stop&&(0,i.sT)(e);const a=n.modifiers.color;let s=n.modifiers.center;s=!0===s||!0===o;const u=document.createElement("span"),c=document.createElement("span"),l=(0,i.FK)(e),{left:h,top:f,width:d,height:p}=t.getBoundingClientRect(),v=Math.sqrt(d*d+p*p),g=v/2,m=(d-v)/2+"px",y=s?m:l.left-h-g+"px",b=(p-v)/2+"px",w=s?b:l.top-f-g+"px";c.className="q-ripple__inner",(0,r.iv)(c,{height:`${v}px`,width:`${v}px`,transform:`translate3d(${y},${w},0) scale3d(.2,.2,1)`,opacity:0}),u.className="q-ripple"+(a?" text-"+a:""),u.setAttribute("dir","ltr"),u.appendChild(c),t.appendChild(u);const _=()=>{u.remove(),clearTimeout(T)};n.abort.push(_);let T=setTimeout((()=>{c.classList.add("q-ripple__inner--enter"),c.style.transform=`translate3d(${m},${b},0) scale3d(1,1,1)`,c.style.opacity=.2,T=setTimeout((()=>{c.classList.remove("q-ripple__inner--enter"),c.classList.add("q-ripple__inner--leave"),c.style.opacity=0,T=setTimeout((()=>{u.remove(),n.abort.splice(n.abort.indexOf(_),1)}),275)}),250)}),50)}function u(e,{modifiers:t,value:n,arg:r,instance:i}){const o=Object.assign({},i.$q.config.ripple,t,n);e.modifiers={early:!0===o.early,stop:!0===o.stop,center:!0===o.center,color:o.color||r,keyCodes:[].concat(o.keyCodes||13)}}const c={name:"ripple",beforeMount(e,t){const n={enabled:!1!==t.value,modifiers:{},abort:[],start(t){!0===n.enabled&&!0!==t.qSkipRipple&&(!0===n.modifiers.early?!0===["mousedown","touchstart"].includes(t.type):"click"===t.type)&&s(t,e,n,!0===t.qKeyEvent)},keystart:a((t=>{!0===n.enabled&&!0!==t.qSkipRipple&&!0===(0,o.So)(t,n.modifiers.keyCodes)&&t.type==="key"+(!0===n.modifiers.early?"down":"up")&&s(t,e,n,!0)}),300)};u(n,t),e.__qripple=n,(0,i.M0)(n,"main",[[e,"mousedown","start","passive"],[e,"touchstart","start","passive"],[e,"click","start","passive"],[e,"keydown","keystart","passive"],[e,"keyup","keystart","passive"]])},updated(e,t){if(t.oldValue!==t.value){const n=e.__qripple;n.enabled=!1!==t.value,!0===n.enabled&&Object(t.value)===t.value&&u(n,t)}},beforeUnmount(e){const t=e.__qripple;t.abort.forEach((e=>{e()})),(0,i.ul)(t,"main"),delete e._qripple}}},6583:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});n(71);var r=n(4688),i=n(4716);const o=()=>!0;function a(e){return"string"===typeof e&&""!==e&&"/"!==e&&"#/"!==e}function s(e){return!0===e.startsWith("#")&&(e=e.substr(1)),!1===e.startsWith("/")&&(e="/"+e),!0===e.endsWith("/")&&(e=e.substr(0,e.length-1)),"#"+e}function u(e){if(!1===e.backButtonExit)return()=>!1;if("*"===e.backButtonExit)return o;const t=["#/"];return!0===Array.isArray(e.backButtonExit)&&t.push(...e.backButtonExit.filter(a).map(s)),()=>t.includes(window.location.hash)}const c={__history:[],add:i.ZT,remove:i.ZT,install({$q:e}){if(!0===this.__installed)return;const{cordova:t,capacitor:n}=r.Lp.is;if(!0!==t&&!0!==n)return;const i=e.config[!0===t?"cordova":"capacitor"];if(void 0!==i&&!1===i.backButton)return;if(!0===n&&(void 0===window.Capacitor||void 0===window.Capacitor.Plugins.App))return;this.add=e=>{void 0===e.condition&&(e.condition=o),this.__history.push(e)},this.remove=e=>{const t=this.__history.indexOf(e);t>=0&&this.__history.splice(t,1)};const a=u(Object.assign({backButtonExit:!0},i)),s=()=>{if(this.__history.length){const e=this.__history[this.__history.length-1];!0===e.condition()&&(this.__history.pop(),e.handler())}else!0===a()?navigator.app.exitApp():window.history.back()};!0===t?document.addEventListener("deviceready",(()=>{document.addEventListener("backbutton",s,!1)})):window.Capacitor.Plugins.App.addListener("backButton",s)}}},4705:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(2002);const i={name:"material-icons",type:{positive:"check_circle",negative:"warning",info:"info",warning:"priority_high"},arrow:{up:"arrow_upward",right:"arrow_forward",down:"arrow_downward",left:"arrow_back",dropdown:"arrow_drop_down"},chevron:{left:"chevron_left",right:"chevron_right"},colorPicker:{spectrum:"gradient",tune:"tune",palette:"style"},pullToRefresh:{icon:"refresh"},carousel:{left:"chevron_left",right:"chevron_right",up:"keyboard_arrow_up",down:"keyboard_arrow_down",navigationIcon:"lens"},chip:{remove:"cancel",selected:"check"},datetime:{arrowLeft:"chevron_left",arrowRight:"chevron_right",now:"access_time",today:"today"},editor:{bold:"format_bold",italic:"format_italic",strikethrough:"strikethrough_s",underline:"format_underlined",unorderedList:"format_list_bulleted",orderedList:"format_list_numbered",subscript:"vertical_align_bottom",superscript:"vertical_align_top",hyperlink:"link",toggleFullscreen:"fullscreen",quote:"format_quote",left:"format_align_left",center:"format_align_center",right:"format_align_right",justify:"format_align_justify",print:"print",outdent:"format_indent_decrease",indent:"format_indent_increase",removeFormat:"format_clear",formatting:"text_format",fontSize:"format_size",align:"format_align_left",hr:"remove",undo:"undo",redo:"redo",heading:"format_size",code:"code",size:"format_size",font:"font_download",viewSource:"code"},expansionItem:{icon:"keyboard_arrow_down",denseIcon:"arrow_drop_down"},fab:{icon:"add",activeIcon:"close"},field:{clear:"cancel",error:"error"},pagination:{first:"first_page",prev:"keyboard_arrow_left",next:"keyboard_arrow_right",last:"last_page"},rating:{icon:"grade"},stepper:{done:"check",active:"edit",error:"warning"},tabs:{left:"chevron_left",right:"chevron_right",up:"keyboard_arrow_up",down:"keyboard_arrow_down"},table:{arrowUp:"arrow_upward",warning:"warning",firstPage:"first_page",prevPage:"chevron_left",nextPage:"chevron_right",lastPage:"last_page"},tree:{icon:"play_arrow"},uploader:{done:"done",clear:"clear",add:"add_box",upload:"cloud_upload",removeQueue:"clear_all",removeUploaded:"done_all"}},o=(0,r.Z)({iconMapFn:null,__icons:{}},{set(e,t){const n={...e,rtl:!0===e.rtl};n.set=o.set,Object.assign(o.__icons,n)},install({$q:e,iconSet:t,ssrContext:n}){void 0!==e.config.iconMapFn&&(this.iconMapFn=e.config.iconMapFn),e.iconSet=this.__icons,Object.defineProperty(e,"iconMapFn",{get:()=>this.iconMapFn,set:e=>{this.iconMapFn=e}}),!0===this.__installed?void 0!==t&&this.set(t):this.set(t||i)}}),a=o},762:(e,t,n)=>{"use strict";n.d(t,{$:()=>k,Z:()=>A});var r=n(8880),i=n(4688),o=n(2002),a=n(4716);function s(e,t=250,n){let r;function i(){const i=arguments,o=()=>{r=void 0,!0!==n&&e.apply(this,i)};clearTimeout(r),!0===n&&void 0===r&&e.apply(this,i),r=setTimeout(o,t)}return i.cancel=()=>{clearTimeout(r)},i}const u=["sm","md","lg","xl"],{passive:c}=a.rU,l=(0,o.Z)({width:0,height:0,name:"xs",sizes:{sm:600,md:1024,lg:1440,xl:1920},lt:{sm:!0,md:!0,lg:!0,xl:!0},gt:{xs:!1,sm:!1,md:!1,lg:!1},xs:!0,sm:!1,md:!1,lg:!1,xl:!1},{setSizes:a.ZT,setDebounce:a.ZT,install({$q:e,onSSRHydrated:t}){if(e.screen=this,!0===this.__installed)return void(void 0!==e.config.screen&&(!1===e.config.screen.bodyClasses?document.body.classList.remove(`screen--${this.name}`):this.__update(!0)));const n=void 0!==e.config.screen&&!0===e.config.screen.bodyClasses;this.__update=e=>{const t=window.innerWidth,r=window.innerHeight;if(r!==this.height&&(this.height=r),t!==this.width)this.width=t;else if(!0!==e)return;let i=this.sizes;this.gt.xs=t>=i.sm,this.gt.sm=t>=i.md,this.gt.md=t>=i.lg,this.gt.lg=t>=i.xl,this.lt.sm=t<i.sm,this.lt.md=t<i.md,this.lt.lg=t<i.lg,this.lt.xl=t<i.xl,this.xs=this.lt.sm,this.sm=!0===this.gt.xs&&!0===this.lt.md,this.md=!0===this.gt.sm&&!0===this.lt.lg,this.lg=!0===this.gt.md&&!0===this.lt.xl,this.xl=this.gt.lg,i=(!0===this.xs?"xs":!0===this.sm&&"sm")||!0===this.md&&"md"||!0===this.lg&&"lg"||"xl",i!==this.name&&(!0===n&&(document.body.classList.remove(`screen--${this.name}`),document.body.classList.add(`screen--${i}`)),this.name=i)};let r,o={},a=16;this.setSizes=e=>{u.forEach((t=>{void 0!==e[t]&&(o[t]=e[t])}))},this.setDebounce=e=>{a=e};const l=()=>{const e=getComputedStyle(document.body),t=void 0!==window.visualViewport?window.visualViewport:window;e.getPropertyValue("--q-size-sm")&&u.forEach((t=>{this.sizes[t]=parseInt(e.getPropertyValue(`--q-size-${t}`),10)})),this.setSizes=e=>{u.forEach((t=>{e[t]&&(this.sizes[t]=e[t])})),this.__update(!0)},this.setDebounce=e=>{void 0!==r&&t.removeEventListener("resize",r,c),r=e>0?s(this.__update,e):this.__update,t.addEventListener("resize",r,c)},this.setDebounce(a),Object.keys(o).length>0?(this.setSizes(o),o=void 0):this.__update(),!0===n&&"xs"===this.name&&document.body.classList.add("screen--xs")};!0===i.uX.value?t.push(l):l()}});n(5363);const h=(0,o.Z)({isActive:!1,mode:!1},{__media:void 0,set(e){h.mode=e,"auto"===e?(void 0===h.__media&&(h.__media=window.matchMedia("(prefers-color-scheme: dark)"),h.__updateMedia=()=>{h.set("auto")},h.__media.addListener(h.__updateMedia)),e=h.__media.matches):void 0!==h.__media&&(h.__media.removeListener(h.__updateMedia),h.__media=void 0),h.isActive=!0===e,document.body.classList.remove("body--"+(!0===e?"light":"dark")),document.body.classList.add("body--"+(!0===e?"dark":"light"))},toggle(){h.set(!1===h.isActive)},install({$q:e,onSSRHydrated:t,ssrContext:n}){const{dark:r}=e.config;if(e.dark=this,!0===this.__installed&&void 0===r)return;this.isActive=!0===r;const o=void 0!==r&&r;if(!0===i.uX.value){const e=e=>{this.__fromSSR=e},n=this.set;this.set=e,e(o),t.push((()=>{this.set=n,this.set(this.__fromSSR)}))}else this.set(o)}}),f=h;var d=n(6583),p=n(1845);function v(e,t,n=document.body){if("string"!==typeof e)throw new TypeError("Expected a string as propName");if("string"!==typeof t)throw new TypeError("Expected a string as value");if(!(n instanceof Element))throw new TypeError("Expected a DOM element");n.style.setProperty(`--q-${e}`,t)}var g=n(1436);function m(e){return!0===e.ios?"ios":!0===e.android?"android":void 0}function y({is:e,has:t,within:n},r){const i=[!0===e.desktop?"desktop":"mobile",(!1===t.touch?"no-":"")+"touch"];if(!0===e.mobile){const t=m(e);void 0!==t&&i.push("platform-"+t)}if(!0===e.nativeMobile){const t=e.nativeMobileWrapper;i.push(t),i.push("native-mobile"),!0!==e.ios||void 0!==r[t]&&!1===r[t].iosStatusBarPadding||i.push("q-ios-padding")}else!0===e.electron?i.push("electron"):!0===e.bex&&i.push("bex");return!0===n.iframe&&i.push("within-iframe"),i}function b(){const e=document.body.className;let t=e;void 0!==i.aG&&(t=t.replace("desktop","platform-ios mobile")),!0===i.Lp.has.touch&&(t=t.replace("no-touch","touch")),!0===i.Lp.within.iframe&&(t+=" within-iframe"),e!==t&&(document.body.className=t)}function w(e){for(const t in e)v(t,e[t])}const _={install(e){const{$q:t}=e;if(void 0!==t.config.brand&&w(t.config.brand),!0!==this.__installed){if(!0===i.uX.value)b();else{const e=y(i.Lp,t.config);document.body.classList.add.apply(document.body.classList,e)}!0===i.Lp.is.ios&&document.body.addEventListener("touchstart",a.ZT),window.addEventListener("keydown",g.ZK,!0)}}};var T=n(4705),S=n(2547),E=n(5578);const I=[i.ZP,_,f,l,d.Z,p.Z,T.Z];function k(e,t){const n=(0,r.ri)(e);n.config.globalProperties=t.config.globalProperties;const{reload:i,...o}=t._context;return Object.assign(n._context,o),n}function C(e,t){t.forEach((t=>{t.install(e),t.__installed=!0}))}function x(e,t,n){e.config.globalProperties.$q=n.$q,e.provide(S.Ng,n.$q),C(n,I),void 0!==t.components&&Object.values(t.components).forEach((t=>{Object(t)===t&&void 0!==t.name&&e.component(t.name,t)})),void 0!==t.directives&&Object.values(t.directives).forEach((t=>{Object(t)===t&&void 0!==t.name&&e.directive(t.name,t)})),void 0!==t.plugins&&C(n,Object.values(t.plugins).filter((e=>"function"===typeof e.install&&!1===I.includes(e)))),!0===i.uX.value&&(n.$q.onSSRHydrated=()=>{n.onSSRHydrated.forEach((e=>{e()})),n.$q.onSSRHydrated=()=>{}})}const A=function(e,t={}){const n={version:"2.2.1"};!1===E.Uf?(void 0!==t.config&&Object.assign(E.w6,t.config),n.config={...E.w6},(0,E.tP)()):n.config=t.config||{},x(e,t,{parentApp:e,$q:n,lang:t.lang,iconSet:t.iconSet,onSSRHydrated:[]})}},1845:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s,F:()=>i});n(5363);var r=n(2002);const i={isoName:"en-US",nativeName:"English (US)",label:{clear:"Clear",ok:"OK",cancel:"Cancel",close:"Close",set:"Set",select:"Select",reset:"Reset",remove:"Remove",update:"Update",create:"Create",search:"Search",filter:"Filter",refresh:"Refresh"},date:{days:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),daysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),firstDayOfWeek:0,format24h:!1,pluralDay:"days"},table:{noData:"No data available",noResults:"No matching records found",loading:"Loading...",selectedRecords:e=>1===e?"1 record selected.":(0===e?"No":e)+" records selected.",recordsPerPage:"Records per page:",allRows:"All",pagination:(e,t,n)=>e+"-"+t+" of "+n,columns:"Columns"},editor:{url:"URL",bold:"Bold",italic:"Italic",strikethrough:"Strikethrough",underline:"Underline",unorderedList:"Unordered List",orderedList:"Ordered List",subscript:"Subscript",superscript:"Superscript",hyperlink:"Hyperlink",toggleFullscreen:"Toggle Fullscreen",quote:"Quote",left:"Left align",center:"Center align",right:"Right align",justify:"Justify align",print:"Print",outdent:"Decrease indentation",indent:"Increase indentation",removeFormat:"Remove formatting",formatting:"Formatting",fontSize:"Font Size",align:"Align",hr:"Insert Horizontal Rule",undo:"Undo",redo:"Redo",heading1:"Heading 1",heading2:"Heading 2",heading3:"Heading 3",heading4:"Heading 4",heading5:"Heading 5",heading6:"Heading 6",paragraph:"Paragraph",code:"Code",size1:"Very small",size2:"A bit small",size3:"Normal",size4:"Medium-large",size5:"Big",size6:"Very big",size7:"Maximum",defaultFont:"Default Font",viewSource:"View Source"},tree:{noNodes:"No nodes available",noResults:"No matching nodes found"}};function o(){const e=!0===Array.isArray(navigator.languages)&&navigator.languages.length>0?navigator.languages[0]:navigator.language;if("string"===typeof e)return e.split(/[-_]/).map(((e,t)=>0===t?e.toLowerCase():t>1||e.length<4?e.toUpperCase():e[0].toUpperCase()+e.slice(1).toLowerCase())).join("-")}const a=(0,r.Z)({__langPack:{}},{getLocale:o,set(e=i,t){const n={...e,rtl:!0===e.rtl,getLocale:o};{const e=document.documentElement;e.setAttribute("dir",!0===n.rtl?"rtl":"ltr"),e.setAttribute("lang",n.isoName),n.set=a.set,Object.assign(a.__langPack,n),a.props=n,a.isoName=n.isoName,a.nativeName=n.nativeName}},install({$q:e,lang:t,ssrContext:n}){e.lang=a.__langPack,!0===this.__installed?void 0!==t&&this.set(t):this.set(t||i)}}),s=a},4434:(e,t,n)=>{"use strict";n.d(t,{Z:()=>T});var r=n(3673),i=n(1959),o=n(8880),a=n(5096),s=n(4554),u=n(2165),c=n(9754),l=(n(4716),n(8144)),h=n(762);let f,d=0;const p={},v=["top-left","top-right","bottom-left","bottom-right","top","bottom","left","right","center"],g=["top-left","top-right","bottom-left","bottom-right"],m={positive:{icon:e=>e.iconSet.type.positive,color:"positive"},negative:{icon:e=>e.iconSet.type.negative,color:"negative"},warning:{icon:e=>e.iconSet.type.warning,color:"warning",textColor:"dark"},info:{icon:e=>e.iconSet.type.info,color:"info"},ongoing:{group:!1,timeout:0,spinner:!0,color:"grey-8"}},y={},b={};function w(e,t){return console.error(`Notify: ${e}`,t),!1}function _(e){return(0,r.aZ)({name:"QNotifications",devtools:{hide:!0},setup(){const t={},n=[];function l(e){clearTimeout(e.meta.timer);const r=t[e.position].value.indexOf(e);if(-1!==r){void 0!==e.group&&delete y[e.meta.group];const i=n[""+e.meta.uid];if(i){const{width:e,height:t}=getComputedStyle(i);i.style.left=`${i.offsetLeft}px`,i.style.width=e,i.style.height=t}t[e.position].value.splice(r,1),"function"===typeof e.onDismiss&&e.onDismiss()}}return v.forEach((e=>{t[e]=(0,i.iH)([]);const n=!0===["left","center","right"].includes(e)?"center":e.indexOf("top")>-1?"top":"bottom",r=e.indexOf("left")>-1?"start":e.indexOf("right")>-1?"end":"center",o=["left","right"].includes(e)?`items-${"left"===e?"start":"end"} justify-center`:"center"===e?"flex-center":`items-${r}`;b[e]=`q-notifications__list q-notifications__list--${n} fixed column no-wrap ${o}`})),f=(n,r)=>{if(!n)return w("parameter required");let o;const a={textColor:"white"};if(!0!==n.ignoreDefaults&&Object.assign(a,p),Object(n)!==n&&(a.type&&Object.assign(a,m[a.type]),n={message:n}),Object.assign(a,m[n.type||a.type],n),"function"===typeof a.icon&&(a.icon=a.icon(e)),a.spinner?(!0===a.spinner&&(a.spinner=c.Z),a.spinner=(0,i.Xl)(a.spinner)):a.spinner=!1,a.meta={hasMedia:Boolean(!1!==a.spinner||a.icon||a.avatar),hasText:Boolean(void 0!==a.message&&null!==a.message||void 0!==a.caption&&null!==a.caption)},a.position){if(!1===v.includes(a.position))return w("wrong position",n)}else a.position="bottom";if(void 0===a.timeout)a.timeout=5e3;else{const e=parseInt(a.timeout,10);if(isNaN(e)||e<0)return w("wrong timeout",n);a.timeout=e}0===a.timeout?a.progress=!1:!0===a.progress&&(a.meta.progressClass="q-notification__progress"+(a.progressClass?` ${a.progressClass}`:""),a.meta.progressStyle={animationDuration:`${a.timeout+1e3}ms`});const s=(!0===Array.isArray(n.actions)?n.actions:[]).concat(!0!==n.ignoreDefaults&&!0===Array.isArray(p.actions)?p.actions:[]).concat(void 0!==m[n.type]&&!0===Array.isArray(m[n.type].actions)?m[n.type].actions:[]);if(a.closeBtn&&s.push({label:"string"===typeof a.closeBtn?a.closeBtn:e.lang.label.close}),a.actions=s.map((({handler:e,noDismiss:t,...n})=>({flat:!0,...n,onClick:"function"===typeof e?()=>{e(),!0!==t&&u()}:()=>{u()}}))),void 0===a.multiLine&&(a.multiLine=a.actions.length>1),Object.assign(a.meta,{class:"q-notification row items-stretch q-notification--"+(!0===a.multiLine?"multi-line":"standard")+(void 0!==a.color?` bg-${a.color}`:"")+(void 0!==a.textColor?` text-${a.textColor}`:"")+(void 0!==a.classes?` ${a.classes}`:""),wrapperClass:"q-notification__wrapper col relative-position border-radius-inherit "+(!0===a.multiLine?"column no-wrap justify-center":"row items-center"),contentClass:"q-notification__content row items-center"+(!0===a.multiLine?"":" col"),leftClass:!0===a.meta.hasText?"additional":"single",attrs:{role:"alert",...a.attrs}}),!1===a.group?(a.group=void 0,a.meta.group=void 0):(void 0!==a.group&&!0!==a.group||(a.group=[a.message,a.caption,a.multiline].concat(a.actions.map((e=>`${e.label}*${e.icon}`))).join("|")),a.meta.group=a.group+"|"+a.position),0===a.actions.length?a.actions=void 0:a.meta.actionsClass="q-notification__actions row items-center "+(!0===a.multiLine?"justify-end":"col-auto")+(!0===a.meta.hasMedia?" q-notification__actions--with-media":""),void 0!==r){clearTimeout(r.notif.meta.timer),a.meta.uid=r.notif.meta.uid;const e=t[a.position].value.indexOf(r.notif);t[a.position].value[e]=a}else{const e=y[a.meta.group];if(void 0===e){if(a.meta.uid=d++,a.meta.badge=1,-1!==["left","right","center"].indexOf(a.position))t[a.position].value.splice(Math.floor(t[a.position].value.length/2),0,a);else{const e=a.position.indexOf("top")>-1?"unshift":"push";t[a.position].value[e](a)}void 0!==a.group&&(y[a.meta.group]=a)}else{if(clearTimeout(e.meta.timer),void 0!==a.badgePosition){if(!1===g.includes(a.badgePosition))return w("wrong badgePosition",n)}else a.badgePosition="top-"+(a.position.indexOf("left")>-1?"right":"left");a.meta.uid=e.meta.uid,a.meta.badge=e.meta.badge+1,a.meta.badgeClass=`q-notification__badge q-notification__badge--${a.badgePosition}`+(void 0!==a.badgeColor?` bg-${a.badgeColor}`:"")+(void 0!==a.badgeTextColor?` text-${a.badgeTextColor}`:"")+(a.badgeClass?` ${a.badgeClass}`:"");const r=t[a.position].value.indexOf(e);t[a.position].value[r]=y[a.meta.group]=a}}const u=()=>{l(a),o=void 0};return a.timeout>0&&(a.meta.timer=setTimeout((()=>{u()}),a.timeout+1e3)),void 0!==a.group?e=>{void 0!==e?w("trying to update a grouped one which is forbidden",n):u()}:(o={dismiss:u,config:n,notif:a},void 0===r?e=>{if(void 0!==o)if(void 0===e)o.dismiss();else{const t=Object.assign({},o.config,e,{group:!1,position:a.position});f(t,o)}}:void Object.assign(r,o))},()=>(0,r.h)("div",{class:"q-notifications"},v.map((e=>(0,r.h)(o.W3,{key:e,class:b[e],tag:"div",name:`q-notification--${e}`},(()=>t[e].value.map((e=>{const t=e.meta,i=[];if(!0===t.hasMedia&&(!1!==e.spinner?i.push((0,r.h)(e.spinner,{class:"q-notification__spinner q-notification__spinner--"+t.leftClass})):e.icon?i.push((0,r.h)(s.Z,{class:"q-notification__icon q-notification__icon--"+t.leftClass,name:e.icon,role:"img"})):e.avatar&&i.push((0,r.h)(a.Z,{class:"q-notification__avatar q-notification__avatar--"+t.leftClass},(()=>(0,r.h)("img",{src:e.avatar,"aria-hidden":"true"}))))),!0===t.hasText){let t;const n={class:"q-notification__message col"};if(!0===e.html)n.innerHTML=e.caption?`<div>${e.message}</div><div class="q-notification__caption">${e.caption}</div>`:e.message;else{const n=[e.message];t=e.caption?[(0,r.h)("div",n),(0,r.h)("div",{class:"q-notification__caption"},[e.caption])]:n}i.push((0,r.h)("div",n,t))}const o=[(0,r.h)("div",{class:t.contentClass},i)];return!0===e.progress&&o.push((0,r.h)("div",{key:`${t.uid}|p|${t.badge}`,class:t.progressClass,style:t.progressStyle})),void 0!==e.actions&&o.push((0,r.h)("div",{class:t.actionsClass},e.actions.map((e=>(0,r.h)(u.Z,e))))),t.badge>1&&o.push((0,r.h)("div",{key:`${t.uid}|${t.badge}`,class:e.meta.badgeClass,style:e.badgeStyle},[t.badge])),(0,r.h)("div",{ref:e=>{n[""+t.uid]=e},key:t.uid,class:t.class,...t.attrs},[(0,r.h)("div",{class:t.wrapperClass},o)])})))))))}})}const T={create(e){return f(e)},setDefaults(e){e===Object(e)&&Object.assign(p,e)},registerType(e,t){t===Object(t)&&(m[e]=t)},install({$q:e,parentApp:t}){if(e.notify=this.create,e.notify.setDefaults=this.setDefaults,e.notify.registerType=this.registerType,void 0!==e.config.notify&&this.setDefaults(e.config.notify),!0!==this.__installed){const n=(0,l.q_)("q-notify");(0,h.$)(_(e),t).mount(n)}}}},4688:(e,t,n)=>{"use strict";n.d(t,{uX:()=>i,aG:()=>o,Lp:()=>p,ZP:()=>g});var r=n(1959);const i=(0,r.iH)(!1);let o,a=!1;function s(e,t){const n=/(edge|edga|edgios)\/([\w.]+)/.exec(e)||/(opr)[\/]([\w.]+)/.exec(e)||/(vivaldi)[\/]([\w.]+)/.exec(e)||/(chrome|crios)[\/]([\w.]+)/.exec(e)||/(iemobile)[\/]([\w.]+)/.exec(e)||/(version)(applewebkit)[\/]([\w.]+).*(safari)[\/]([\w.]+)/.exec(e)||/(webkit)[\/]([\w.]+).*(version)[\/]([\w.]+).*(safari)[\/]([\w.]+)/.exec(e)||/(firefox|fxios)[\/]([\w.]+)/.exec(e)||/(webkit)[\/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[\/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("trident")>=0&&/(rv)(?::| )([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:n[5]||n[3]||n[1]||"",version:n[2]||n[4]||"0",versionNumber:n[4]||n[2]||"0",platform:t[0]||""}}function u(e){return/(ipad)/.exec(e)||/(ipod)/.exec(e)||/(windows phone)/.exec(e)||/(iphone)/.exec(e)||/(kindle)/.exec(e)||/(silk)/.exec(e)||/(android)/.exec(e)||/(win)/.exec(e)||/(mac)/.exec(e)||/(linux)/.exec(e)||/(cros)/.exec(e)||/(playbook)/.exec(e)||/(bb)/.exec(e)||/(blackberry)/.exec(e)||[]}const c="ontouchstart"in window||window.navigator.maxTouchPoints>0;function l(e){o={is:{...e}},delete e.mac,delete e.desktop;const t=Math.min(window.innerHeight,window.innerWidth)>414?"ipad":"iphone";Object.assign(e,{mobile:!0,ios:!0,platform:t,[t]:!0})}function h(e){const t=e.toLowerCase(),n=u(t),r=s(t,n),i={};r.browser&&(i[r.browser]=!0,i.version=r.version,i.versionNumber=parseInt(r.versionNumber,10)),r.platform&&(i[r.platform]=!0);const o=i.android||i.ios||i.bb||i.blackberry||i.ipad||i.iphone||i.ipod||i.kindle||i.playbook||i.silk||i["windows phone"];return!0===o||t.indexOf("mobile")>-1?(i.mobile=!0,i.edga||i.edgios?(i.edge=!0,r.browser="edge"):i.crios?(i.chrome=!0,r.browser="chrome"):i.fxios&&(i.firefox=!0,r.browser="firefox")):i.desktop=!0,(i.ipod||i.ipad||i.iphone)&&(i.ios=!0),i["windows phone"]&&(i.winphone=!0,delete i["windows phone"]),(i.chrome||i.opr||i.safari||i.vivaldi||!0===i.mobile&&!0!==i.ios&&!0!==o)&&(i.webkit=!0),(i.safari&&i.blackberry||i.bb)&&(r.browser="blackberry",i.blackberry=!0),i.safari&&i.playbook&&(r.browser="playbook",i.playbook=!0),i.opr&&(r.browser="opera",i.opera=!0),i.safari&&i.android&&(r.browser="android",i.android=!0),i.safari&&i.kindle&&(r.browser="kindle",i.kindle=!0),i.safari&&i.silk&&(r.browser="silk",i.silk=!0),i.vivaldi&&(r.browser="vivaldi",i.vivaldi=!0),i.name=r.browser,i.platform=r.platform,t.indexOf("electron")>-1?i.electron=!0:document.location.href.indexOf("-extension://")>-1?i.bex=!0:(void 0!==window.Capacitor?(i.capacitor=!0,i.nativeMobile=!0,i.nativeMobileWrapper="capacitor"):void 0===window._cordovaNative&&void 0===window.cordova||(i.cordova=!0,i.nativeMobile=!0,i.nativeMobileWrapper="cordova"),!0===c&&!0===i.mac&&(!0===i.desktop&&!0===i.safari||!0===i.nativeMobile&&!0!==i.android&&!0!==i.ios&&!0!==i.ipad)&&l(i)),i}const f=navigator.userAgent||navigator.vendor||window.opera,d={has:{touch:!1,webStorage:!1},within:{iframe:!1}},p={userAgent:f,is:h(f),has:{touch:c},within:{iframe:window.self!==window.top}},v={install(e){const{$q:t}=e;!0===i.value?(e.onSSRHydrated.push((()=>{i.value=!1,Object.assign(t.platform,p),o=void 0})),t.platform=(0,r.qj)(this)):t.platform=this}};{let e;Object.defineProperty(p.has,"webStorage",{get:()=>{if(void 0!==e)return e;try{if(window.localStorage)return e=!0,!0}catch(t){}return e=!1,!1}}),a=!0===p.is.ios&&-1===window.navigator.vendor.toLowerCase().indexOf("apple"),!0===i.value?Object.assign(v,p,o,d):Object.assign(v,p)}const g=v},1082:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>Q});n(5363);var r=n(782),i=n(2130);const o=[-61,9,38,199,426,686,756,818,1111,1181,1210,1635,2060,2097,2192,2262,2324,2394,2456,3178];function a(e){return 0===u(e)}function s(e,t){return t<=6?31:t<=11||a(e)?30:29}function u(e){const t=o.length;let n,r,i,a,s,u=o[0];if(e<u||e>=o[t-1])throw new Error("Invalid Jalaali year "+e);for(s=1;s<t;s+=1){if(n=o[s],r=n-u,e<n)break;u=n}return a=e-u,r-a<6&&(a=a-r+33*c(r+4,33)),i=l(l(a+1,33)-1,4),-1===i&&(i=4),i}function c(e,t){return~~(e/t)}function l(e,t){return e-~~(e/t)*t}var h=n(1845);const f=864e5,d=36e5,p=6e4,v="YYYY-MM-DDTHH:mm:ss.SSSZ",g=/\[((?:[^\]\\]|\\]|\\)*)\]|d{1,4}|M{1,4}|m{1,2}|w{1,2}|Qo|Do|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]/g,m=/(\[[^\]]*\])|d{1,4}|M{1,4}|m{1,2}|w{1,2}|Qo|Do|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]|([.*+:?^,\s${}()|\\]+)/g,y={};function b(e,t){const n="("+t.days.join("|")+")",r=e+n;if(void 0!==y[r])return y[r];const i="("+t.daysShort.join("|")+")",o="("+t.months.join("|")+")",a="("+t.monthsShort.join("|")+")",s={};let u=0;const c=e.replace(m,(e=>{switch(u++,e){case"YY":return s.YY=u,"(-?\\d{1,2})";case"YYYY":return s.YYYY=u,"(-?\\d{1,4})";case"M":return s.M=u,"(\\d{1,2})";case"MM":return s.M=u,"(\\d{2})";case"MMM":return s.MMM=u,a;case"MMMM":return s.MMMM=u,o;case"D":return s.D=u,"(\\d{1,2})";case"Do":return s.D=u++,"(\\d{1,2}(st|nd|rd|th))";case"DD":return s.D=u,"(\\d{2})";case"H":return s.H=u,"(\\d{1,2})";case"HH":return s.H=u,"(\\d{2})";case"h":return s.h=u,"(\\d{1,2})";case"hh":return s.h=u,"(\\d{2})";case"m":return s.m=u,"(\\d{1,2})";case"mm":return s.m=u,"(\\d{2})";case"s":return s.s=u,"(\\d{1,2})";case"ss":return s.s=u,"(\\d{2})";case"S":return s.S=u,"(\\d{1})";case"SS":return s.S=u,"(\\d{2})";case"SSS":return s.S=u,"(\\d{3})";case"A":return s.A=u,"(AM|PM)";case"a":return s.a=u,"(am|pm)";case"aa":return s.aa=u,"(a\\.m\\.|p\\.m\\.)";case"ddd":return i;case"dddd":return n;case"Q":case"d":case"E":return"(\\d{1})";case"Qo":return"(1st|2nd|3rd|4th)";case"DDD":case"DDDD":return"(\\d{1,3})";case"w":return"(\\d{1,2})";case"ww":return"(\\d{2})";case"Z":return s.Z=u,"(Z|[+-]\\d{2}:\\d{2})";case"ZZ":return s.ZZ=u,"(Z|[+-]\\d{2}\\d{2})";case"X":return s.X=u,"(-?\\d+)";case"x":return s.x=u,"(-?\\d{4,})";default:return u--,"["===e[0]&&(e=e.substring(1,e.length-1)),e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}})),l={map:s,regex:new RegExp("^"+c)};return y[r]=l,l}function w(e,t){return void 0!==e?e:void 0!==t?t.date:h.F.date}function _(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),o=Math.floor(r/60),a=r%60;return n+(0,i.vk)(o)+t+(0,i.vk)(a)}function T(e,t,n){let r=e.getFullYear(),i=e.getMonth(),o=e.getDate();return void 0!==t.years&&(r+=n*t.years),void 0!==t.months&&(i+=n*t.months),void 0!==t.days&&(o+=n*t.days),e.setDate(1),e.setMonth(2),e.setFullYear(r),e.setMonth(i),e.setDate(o),e}function S(e,t,n){const r=new Date(e),o=void 0!==t.years||void 0!==t.months||void 0!==t.days?T(r,t,n):r;return Object.keys(t).forEach((e=>{if("years"!==e&&"months"!==e&&"days"!==e){const r=(0,i.kC)(e);o[`set${r}`](o[`get${r}`]()+n*t[e])}})),o}function E(e,t,n){const r=void 0!==t.year?t.year:e[`get${n}FullYear`](),i=void 0!==t.month?t.month-1:e[`get${n}Month`](),o=new Date(r,i+1,0).getDate(),a=Math.min(o,void 0!==t.date?t.date:e[`get${n}Date`]());return e[`set${n}Date`](1),e[`set${n}Month`](2),e[`set${n}FullYear`](r),e[`set${n}Month`](i),e[`set${n}Date`](a),e}function I(e,t,n){const r=!0===n?"UTC":"",i=new Date(e),o=void 0!==t.year||void 0!==t.month||void 0!==t.date?E(i,t,r):i;return Object.keys(t).forEach((e=>{if("year"!==e&&"month"!==e&&"date"!==e){const n=e.charAt(0).toUpperCase()+e.slice(1);o[`set${r}${n}`](t[e])}})),o}function k(e,t,n){const r=C(e,t,n),i=new Date(r.year,null===r.month?null:r.month-1,r.day,r.hour,r.minute,r.second,r.millisecond),o=i.getTimezoneOffset();return null===r.timezoneOffset||r.timezoneOffset===o?i:S(i,{minutes:r.timezoneOffset-o},1)}function C(e,t,n,r,o){const a={year:null,month:null,day:null,hour:null,minute:null,second:null,millisecond:null,timezoneOffset:null,dateHash:null,timeHash:null};if(void 0!==o&&Object.assign(a,o),void 0===e||null===e||""===e||"string"!==typeof e)return a;void 0===t&&(t=v);const u=w(n,h.Z.props),c=u.months,l=u.monthsShort,{regex:f,map:d}=b(t,u),p=e.match(f);if(null===p)return a;let g="";if(void 0!==d.X||void 0!==d.x){const e=parseInt(p[void 0!==d.X?d.X:d.x],10);if(!0===isNaN(e)||e<0)return a;const t=new Date(e*(void 0!==d.X?1e3:1));a.year=t.getFullYear(),a.month=t.getMonth()+1,a.day=t.getDate(),a.hour=t.getHours(),a.minute=t.getMinutes(),a.second=t.getSeconds(),a.millisecond=t.getMilliseconds()}else{if(void 0!==d.YYYY)a.year=parseInt(p[d.YYYY],10);else if(void 0!==d.YY){const e=parseInt(p[d.YY],10);a.year=e<0?e:2e3+e}if(void 0!==d.M){if(a.month=parseInt(p[d.M],10),a.month<1||a.month>12)return a}else void 0!==d.MMM?a.month=l.indexOf(p[d.MMM])+1:void 0!==d.MMMM&&(a.month=c.indexOf(p[d.MMMM])+1);if(void 0!==d.D){if(a.day=parseInt(p[d.D],10),null===a.year||null===a.month||a.day<1)return a;const e="persian"!==r?new Date(a.year,a.month,0).getDate():s(a.year,a.month);if(a.day>e)return a}void 0!==d.H?a.hour=parseInt(p[d.H],10)%24:void 0!==d.h&&(a.hour=parseInt(p[d.h],10)%12,(d.A&&"PM"===p[d.A]||d.a&&"pm"===p[d.a]||d.aa&&"p.m."===p[d.aa])&&(a.hour+=12),a.hour=a.hour%24),void 0!==d.m&&(a.minute=parseInt(p[d.m],10)%60),void 0!==d.s&&(a.second=parseInt(p[d.s],10)%60),void 0!==d.S&&(a.millisecond=parseInt(p[d.S],10)*10**(3-p[d.S].length)),void 0===d.Z&&void 0===d.ZZ||(g=void 0!==d.Z?p[d.Z].replace(":",""):p[d.ZZ],a.timezoneOffset=("+"===g[0]?-1:1)*(60*g.slice(1,3)+1*g.slice(3,5)))}return a.dateHash=a.year+"/"+(0,i.vk)(a.month)+"/"+(0,i.vk)(a.day),a.timeHash=(0,i.vk)(a.hour)+":"+(0,i.vk)(a.minute)+":"+(0,i.vk)(a.second)+g,a}function x(e){return"number"===typeof e||!1===isNaN(Date.parse(e))}function A(e,t){return I(new Date,e,t)}function R(e){const t=new Date(e).getDay();return 0===t?7:t}function N(e){const t=new Date(e.getFullYear(),e.getMonth(),e.getDate());t.setDate(t.getDate()-(t.getDay()+6)%7+3);const n=new Date(t.getFullYear(),0,4);n.setDate(n.getDate()-(n.getDay()+6)%7+3);const r=t.getTimezoneOffset()-n.getTimezoneOffset();t.setHours(t.getHours()-r);const i=(t-n)/(7*f);return 1+Math.floor(i)}function P(e){return 1e4*e.getFullYear()+100*e.getMonth()+e.getDate()}function O(e,t){const n=new Date(e);return!0===t?P(n):n.getTime()}function D(e,t,n,r={}){const i=O(t,r.onlyDate),o=O(n,r.onlyDate),a=O(e,r.onlyDate);return(a>i||!0===r.inclusiveFrom&&a===i)&&(a<o||!0===r.inclusiveTo&&a===o)}function L(e,t){return S(e,t,1)}function M(e,t){return S(e,t,-1)}function F(e,t,n){const r=new Date(e),i="set"+(!0===n?"UTC":"");switch(t){case"year":r[`${i}Month`](0);case"month":r[`${i}Date`](1);case"day":r[`${i}Hours`](0);case"hour":r[`${i}Minutes`](0);case"minute":r[`${i}Seconds`](0);case"second":r[`${i}Milliseconds`](0)}return r}function q(e,t,n){const r=new Date(e),i="set"+(!0===n?"UTC":"");switch(t){case"year":r[`${i}Month`](11);case"month":r[`${i}Date`]($(r));case"day":r[`${i}Hours`](23);case"hour":r[`${i}Minutes`](59);case"minute":r[`${i}Seconds`](59);case"second":r[`${i}Milliseconds`](999)}return r}function j(e){let t=new Date(e);return Array.prototype.slice.call(arguments,1).forEach((e=>{t=Math.max(t,new Date(e))})),t}function U(e){let t=new Date(e);return Array.prototype.slice.call(arguments,1).forEach((e=>{t=Math.min(t,new Date(e))})),t}function B(e,t,n){return(e.getTime()-e.getTimezoneOffset()*p-(t.getTime()-t.getTimezoneOffset()*p))/n}function V(e,t,n="days"){const r=new Date(e),i=new Date(t);switch(n){case"years":return r.getFullYear()-i.getFullYear();case"months":return 12*(r.getFullYear()-i.getFullYear())+r.getMonth()-i.getMonth();case"days":return B(F(r,"day"),F(i,"day"),f);case"hours":return B(F(r,"hour"),F(i,"hour"),d);case"minutes":return B(F(r,"minute"),F(i,"minute"),p);case"seconds":return B(F(r,"second"),F(i,"second"),1e3)}}function H(e){return V(e,F(e,"year"),"days")+1}function G(e){return!0===(0,r.J_)(e)?"date":"number"===typeof e?"number":"string"}function z(e,t,n){const r=new Date(e);if(t){const e=new Date(t);if(r<e)return e}if(n){const e=new Date(n);if(r>e)return e}return r}function K(e,t,n){const r=new Date(e),i=new Date(t);if(void 0===n)return r.getTime()===i.getTime();switch(n){case"second":if(r.getSeconds()!==i.getSeconds())return!1;case"minute":if(r.getMinutes()!==i.getMinutes())return!1;case"hour":if(r.getHours()!==i.getHours())return!1;case"day":if(r.getDate()!==i.getDate())return!1;case"month":if(r.getMonth()!==i.getMonth())return!1;case"year":if(r.getFullYear()!==i.getFullYear())return!1;break;default:throw new Error(`date isSameDate unknown unit ${n}`)}return!0}function $(e){return new Date(e.getFullYear(),e.getMonth()+1,0).getDate()}function W(e){if(e>=11&&e<=13)return`${e}th`;switch(e%10){case 1:return`${e}st`;case 2:return`${e}nd`;case 3:return`${e}rd`}return`${e}th`}const J={YY(e,t,n){const r=this.YYYY(e,t,n)%100;return r>0?(0,i.vk)(r):"-"+(0,i.vk)(Math.abs(r))},YYYY(e,t,n){return void 0!==n&&null!==n?n:e.getFullYear()},M(e){return e.getMonth()+1},MM(e){return(0,i.vk)(e.getMonth()+1)},MMM(e,t){return t.monthsShort[e.getMonth()]},MMMM(e,t){return t.months[e.getMonth()]},Q(e){return Math.ceil((e.getMonth()+1)/3)},Qo(e){return W(this.Q(e))},D(e){return e.getDate()},Do(e){return W(e.getDate())},DD(e){return(0,i.vk)(e.getDate())},DDD(e){return H(e)},DDDD(e){return(0,i.vk)(H(e),3)},d(e){return e.getDay()},dd(e,t){return this.dddd(e,t).slice(0,2)},ddd(e,t){return t.daysShort[e.getDay()]},dddd(e,t){return t.days[e.getDay()]},E(e){return e.getDay()||7},w(e){return N(e)},ww(e){return(0,i.vk)(N(e))},H(e){return e.getHours()},HH(e){return(0,i.vk)(e.getHours())},h(e){const t=e.getHours();return 0===t?12:t>12?t%12:t},hh(e){return(0,i.vk)(this.h(e))},m(e){return e.getMinutes()},mm(e){return(0,i.vk)(e.getMinutes())},s(e){return e.getSeconds()},ss(e){return(0,i.vk)(e.getSeconds())},S(e){return Math.floor(e.getMilliseconds()/100)},SS(e){return(0,i.vk)(Math.floor(e.getMilliseconds()/10))},SSS(e){return(0,i.vk)(e.getMilliseconds(),3)},A(e){return this.H(e)<12?"AM":"PM"},a(e){return this.H(e)<12?"am":"pm"},aa(e){return this.H(e)<12?"a.m.":"p.m."},Z(e,t,n,r){const i=void 0===r||null===r?e.getTimezoneOffset():r;return _(i,":")},ZZ(e,t,n,r){const i=void 0===r||null===r?e.getTimezoneOffset():r;return _(i)},X(e){return Math.floor(e.getTime()/1e3)},x(e){return e.getTime()}};function Z(e,t,n,r,i){if(0!==e&&!e||e===1/0||e===-1/0)return;const o=new Date(e);if(isNaN(o))return;void 0===t&&(t=v);const a=w(n,h.Z.props);return t.replace(g,((e,t)=>e in J?J[e](o,a,r,i):void 0===t?e:t.split("\\]").join("]")))}function Y(e){return!0===(0,r.J_)(e)?new Date(e.getTime()):e}const Q={isValid:x,extractDate:k,buildDate:A,getDayOfWeek:R,getWeekOfYear:N,isBetweenDates:D,addToDate:L,subtractFromDate:M,adjustDate:I,startOfDate:F,endOfDate:q,getMaxDate:j,getMinDate:U,getDateDiff:V,getDayOfYear:H,inferDateFormat:G,getDateBetween:z,isSameDate:K,daysInMonth:$,formatDate:Z,clone:Y}},2012:(e,t,n)=>{"use strict";n.d(t,{iv:()=>i,sb:()=>o,mY:()=>a});var r=n(1959);function i(e,t){const n=e.style;Object.keys(t).forEach((e=>{n[e]=t[e]}))}function o(e){if(void 0===e||null===e)return;if("string"===typeof e)try{return document.querySelector(e)||void 0}catch(n){return}const t=!0===(0,r.dq)(e)?e.value:e;return t?t.$el||t:void 0}function a(e,t){if(void 0===e||null===e||!0===e.contains(t))return!0;for(let n=e.nextElementSibling;null!==n;n=n.nextElementSibling)if(n.contains(t))return!0;return!1}},4716:(e,t,n)=>{"use strict";n.d(t,{rU:()=>r,ZT:()=>i,du:()=>o,FK:()=>a,AZ:()=>s,sT:()=>u,X$:()=>c,NS:()=>l,Jf:()=>h,M0:()=>f,ul:()=>d});n(71);const r={hasPassive:!1,passiveCapture:!0,notPassiveCapture:!0};try{const e=Object.defineProperty({},"passive",{get(){Object.assign(r,{hasPassive:!0,passive:{passive:!0},notPassive:{passive:!1},passiveCapture:{passive:!0,capture:!0},notPassiveCapture:{passive:!1,capture:!0}})}});window.addEventListener("qtest",null,e),window.removeEventListener("qtest",null,e)}catch(p){}function i(){}function o(e){return 0===e.button}function a(e){return e.touches&&e.touches[0]?e=e.touches[0]:e.changedTouches&&e.changedTouches[0]?e=e.changedTouches[0]:e.targetTouches&&e.targetTouches[0]&&(e=e.targetTouches[0]),{top:e.clientY,left:e.clientX}}function s(e){if(e.path)return e.path;if(e.composedPath)return e.composedPath();const t=[];let n=e.target;while(n){if(t.push(n),"HTML"===n.tagName)return t.push(document),t.push(window),t;n=n.parentElement}}function u(e){e.stopPropagation()}function c(e){!1!==e.cancelable&&e.preventDefault()}function l(e){!1!==e.cancelable&&e.preventDefault(),e.stopPropagation()}function h(e,t){if(void 0===e||!0===t&&!0===e.__dragPrevented)return;const n=!0===t?e=>{e.__dragPrevented=!0,e.addEventListener("dragstart",c,r.notPassiveCapture)}:e=>{delete e.__dragPrevented,e.removeEventListener("dragstart",c,r.notPassiveCapture)};e.querySelectorAll("a, img").forEach(n)}function f(e,t,n){const i=`__q_${t}_evt`;e[i]=void 0!==e[i]?e[i].concat(n):n,n.forEach((t=>{t[0].addEventListener(t[1],e[t[2]],r[t[3]])}))}function d(e,t){const n=`__q_${t}_evt`;void 0!==e[n]&&(e[n].forEach((t=>{t[0].removeEventListener(t[1],e[t[2]],r[t[3]])})),e[n]=void 0)}},2130:(e,t,n)=>{"use strict";n.d(t,{kC:()=>r,vX:()=>i,vk:()=>o});function r(e){return e.charAt(0).toUpperCase()+e.slice(1)}function i(e,t,n){return n<=t?t:Math.min(n,Math.max(t,e))}function o(e,t=2,n="0"){if(void 0===e||null===e)return e;const r=""+e;return r.length>=t?r:new Array(t-r.length+1).join(n)+r}},2002:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(1959);const i=(e,t)=>{const n={},i=(0,r.qj)(e);return Object.keys(e).forEach((e=>{n[e]={get:()=>i[e],set:t=>{i[e]=t}}})),Object.defineProperties(t,n),t}},4704:(e,t,n)=>{"use strict";n.d(t,{c:()=>h,k:()=>f});var r=n(4688),i=n(1436);const o=[];let a;function s(e){a=27===e.keyCode}function u(){!0===a&&(a=!1)}function c(e){!0===a&&(a=!1,!0===(0,i.So)(e,27)&&o[o.length-1](e))}function l(e){window[e]("keydown",s),window[e]("blur",u),window[e]("keyup",c),a=!1}function h(e){!0===r.Lp.is.desktop&&(o.push(e),1===o.length&&l("addEventListener"))}function f(e){const t=o.indexOf(e);t>-1&&(o.splice(t,1),0===o.length&&l("removeEventListener"))}},230:(e,t,n)=>{"use strict";n.d(t,{YX:()=>o,xF:()=>a,jd:()=>s,fP:()=>u});let r=[];const i=[];function o(e){i.push(e)}function a(e){const t=i.indexOf(e);-1!==t&&i.splice(t,1),0===i.length&&r.length>0&&(r[r.length-1](),r=[])}function s(e){if(0!==i.length)return r.push(e),e;e()}function u(e){const t=r.indexOf(e);-1!==t&&r.splice(t,1)}},8517:(e,t,n)=>{"use strict";n.d(t,{i:()=>a,H:()=>s});var r=n(4688);const i=[];function o(e){i[i.length-1](e)}function a(e){!0===r.Lp.is.desktop&&(i.push(e),1===i.length&&document.body.addEventListener("focusin",o))}function s(e){const t=i.indexOf(e);t>-1&&(i.splice(t,1),0===i.length&&document.body.removeEventListener("focusin",o))}},5578:(e,t,n)=>{"use strict";n.d(t,{w6:()=>r,Uf:()=>i,tP:()=>o});const r={};let i=!1;function o(){i=!0}},8144:(e,t,n)=>{"use strict";n.d(t,{q_:()=>a,pB:()=>s});var r=n(5578);const i=[];let o=document.body;function a(e){const t=document.createElement("div");if(void 0!==e&&(t.id=e),void 0!==r.w6.globalNodes){const e=r.w6.globalNodes["class"];void 0!==e&&(t.className=e)}return o.appendChild(t),i.push(t),t}function s(e){i.splice(i.indexOf(e),1),e.remove()}},782:(e,t,n)=>{"use strict";n.d(t,{J_:()=>r,hj:()=>i});n(71),n(6101),n(979);function r(e){return"[object Date]"===Object.prototype.toString.call(e)}function i(e){return"number"===typeof e&&isFinite(e)}},1436:(e,t,n)=>{"use strict";n.d(t,{ZK:()=>i,Wm:()=>o,So:()=>a});let r=!1;function i(e){r=!0===e.isComposing}function o(e){return!0===r||e!==Object(e)||!0===e.isComposing||!0===e.qKeyEvent}function a(e,t){return!0!==o(e)&&[].concat(t).includes(e.keyCode)}},4312:(e,t,n)=>{"use strict";n.d(t,{wN:()=>i,HW:()=>o,AH:()=>a,S7:()=>s});var r=n(7445);const i=[];function o(e){return i.find((t=>null!==t.__qPortalInnerRef.value&&t.__qPortalInnerRef.value.contains(e)))}function a(e,t){do{if("QMenu"===e.$options.name){if(e.hide(t),!0===e.$props.separateClosePopup)return(0,r.Kq)(e)}else if(void 0!==e.__qPortalInnerRef){const n=(0,r.Kq)(e);return void 0!==n&&"QPopupProxy"===n.$options.name?(e.hide(t),n):e}e=(0,r.Kq)(e)}while(void 0!==e&&null!==e)}function s(e,t,n){while(0!==n&&void 0!==e&&null!==e){if(void 0!==e.__qPortalInnerRef){if(n--,"QMenu"===e.$options.name){e=a(e,t);continue}e.hide(t)}e=(0,r.Kq)(e)}}},7657:(e,t,n)=>{"use strict";n.d(t,{KR:()=>i,Bl:()=>o,vs:()=>a,pf:()=>s,Jl:()=>u});var r=n(3673);function i(e,t){return void 0!==e&&e()||t}function o(e,t){if(void 0!==e){const t=e();if(void 0!==t&&null!==t)return t.slice()}return t}function a(e,t){return void 0!==e?t.concat(e()):t}function s(e,t){return void 0===e?t:void 0!==t?t.concat(e()):e()}function u(e,t,n,i,o,a){t.key=i+o;const s=(0,r.h)(e,t,n);return!0===o?(0,r.wy)(s,a()):s}},9725:(e,t,n)=>{"use strict";n.d(t,{M:()=>i});var r=n(4688);function i(){if(void 0!==window.getSelection){const e=window.getSelection();void 0!==e.empty?e.empty():void 0!==e.removeAllRanges&&(e.removeAllRanges(),!0!==r.ZP.is.mobile&&e.addRange(document.createRange()))}else void 0!==document.selection&&document.selection.empty()}},2547:(e,t,n)=>{"use strict";n.d(t,{Ng:()=>r,YE:()=>i,Mw:()=>o,vh:()=>a,Nd:()=>s});const r="_q_",i="_q_l_",o="_q_pc_",a="_q_fo_",s="_q_tabs_"},7445:(e,t,n)=>{"use strict";n.d(t,{Kq:()=>r,Pf:()=>i,Rb:()=>o});n(71);function r(e){if(void 0!==e.$parent&&null!==e.$parent)return e.$parent;e=e.$.parent;while(void 0!==e&&null!==e){if(void 0!==e.proxy&&null!==e.proxy)return e.proxy;e=e.parent}}function i(e){const t=new Set;return e.forEach((e=>{"symbol"===typeof e.type&&!0===Array.isArray(e.children)?e.children.forEach((e=>{t.add(e)})):t.add(e)})),Array.from(t)}function o(e){return void 0!==e.appContext.config.globalProperties.$router}},8400:(e,t,n)=>{"use strict";n.d(t,{b0:()=>o,u3:()=>a,OI:()=>s,np:()=>c,QA:()=>l});var r=n(2012);const i=[null,document,document.body,document.scrollingElement,document.documentElement];function o(e,t){let n=(0,r.sb)(t);if(void 0===n){if(void 0===e||null===e)return window;n=e.closest(".scroll,.scroll-y,.overflow-auto")}return i.includes(n)?window:n}function a(e){return e===window?window.pageYOffset||window.scrollY||document.body.scrollTop||0:e.scrollTop}function s(e){return e===window?window.pageXOffset||window.scrollX||document.body.scrollLeft||0:e.scrollLeft}let u;function c(){if(void 0!==u)return u;const e=document.createElement("p"),t=document.createElement("div");(0,r.iv)(e,{width:"100%",height:"200px"}),(0,r.iv)(t,{position:"absolute",top:"0px",left:"0px",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}),t.appendChild(e),document.body.appendChild(t);const n=e.offsetWidth;t.style.overflow="scroll";let i=e.offsetWidth;return n===i&&(i=t.clientWidth),t.remove(),u=n-i,u}function l(e,t=!0){return!(!e||e.nodeType!==Node.ELEMENT_NODE)&&(t?e.scrollHeight>e.clientHeight&&(e.classList.contains("scroll")||e.classList.contains("overflow-auto")||["auto","scroll"].includes(window.getComputedStyle(e)["overflow-y"])):e.scrollWidth>e.clientWidth&&(e.classList.contains("scroll")||e.classList.contains("overflow-auto")||["auto","scroll"].includes(window.getComputedStyle(e)["overflow-x"])))}},9592:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(762),i=n(1845),o=n(4705);const a={version:"2.2.1",install:r.Z,lang:i.Z,iconSet:o.Z}},7083:e=>{e.exports.xr=function(e){return e},e.exports.BC=function(e){return e},e.exports.h=function(e){return e}},392:(e,t,n)=>{var r=n(7358),i=n(419),o=n(3353),a=r.TypeError;e.exports=function(e){if(i(e))return e;throw a(o(e)+" is not a function")}},2722:(e,t,n)=>{var r=n(7358),i=n(7593),o=n(3353),a=r.TypeError;e.exports=function(e){if(i(e))return e;throw a(o(e)+" is not a constructor")}},8248:(e,t,n)=>{var r=n(7358),i=n(419),o=r.String,a=r.TypeError;e.exports=function(e){if("object"==typeof e||i(e))return e;throw a("Can't set "+o(e)+" as a prototype")}},2852:(e,t,n)=>{var r=n(854),i=n(1074),o=n(928),a=r("unscopables"),s=Array.prototype;void 0==s[a]&&o.f(s,a,{configurable:!0,value:i(null)}),e.exports=function(e){s[a][e]=!0}},6412:(e,t,n)=>{"use strict";var r=n(1021).charAt;e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},2827:(e,t,n)=>{var r=n(7358),i=n(7673),o=r.TypeError;e.exports=function(e,t){if(i(t,e))return e;throw o("Incorrect invocation")}},7950:(e,t,n)=>{var r=n(7358),i=n(776),o=r.String,a=r.TypeError;e.exports=function(e){if(i(e))return e;throw a(o(e)+" is not an object")}},6257:e=>{e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},683:(e,t,n)=>{"use strict";var r,i,o,a=n(6257),s=n(9631),u=n(7358),c=n(419),l=n(776),h=n(7322),f=n(5976),d=n(3353),p=n(1904),v=n(298),g=n(928).f,m=n(7673),y=n(4945),b=n(6184),w=n(854),_=n(6862),T=u.Int8Array,S=T&&T.prototype,E=u.Uint8ClampedArray,I=E&&E.prototype,k=T&&y(T),C=S&&y(S),x=Object.prototype,A=u.TypeError,R=w("toStringTag"),N=_("TYPED_ARRAY_TAG"),P=_("TYPED_ARRAY_CONSTRUCTOR"),O=a&&!!b&&"Opera"!==f(u.opera),D=!1,L={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},M={BigInt64Array:8,BigUint64Array:8},F=function(e){if(!l(e))return!1;var t=f(e);return"DataView"===t||h(L,t)||h(M,t)},q=function(e){if(!l(e))return!1;var t=f(e);return h(L,t)||h(M,t)},j=function(e){if(q(e))return e;throw A("Target is not a typed array")},U=function(e){if(c(e)&&(!b||m(k,e)))return e;throw A(d(e)+" is not a typed array constructor")},B=function(e,t,n){if(s){if(n)for(var r in L){var i=u[r];if(i&&h(i.prototype,e))try{delete i.prototype[e]}catch(o){}}C[e]&&!n||v(C,e,n?t:O&&S[e]||t)}},V=function(e,t,n){var r,i;if(s){if(b){if(n)for(r in L)if(i=u[r],i&&h(i,e))try{delete i[e]}catch(o){}if(k[e]&&!n)return;try{return v(k,e,n?t:O&&k[e]||t)}catch(o){}}for(r in L)i=u[r],!i||i[e]&&!n||v(i,e,t)}};for(r in L)i=u[r],o=i&&i.prototype,o?p(o,P,i):O=!1;for(r in M)i=u[r],o=i&&i.prototype,o&&p(o,P,i);if((!O||!c(k)||k===Function.prototype)&&(k=function(){throw A("Incorrect invocation")},O))for(r in L)u[r]&&b(u[r],k);if((!O||!C||C===x)&&(C=k.prototype,O))for(r in L)u[r]&&b(u[r].prototype,C);if(O&&y(I)!==C&&b(I,C),s&&!h(C,R))for(r in D=!0,g(C,R,{get:function(){return l(this)?this[N]:void 0}}),L)u[r]&&p(u[r],N,r);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:O,TYPED_ARRAY_CONSTRUCTOR:P,TYPED_ARRAY_TAG:D&&N,aTypedArray:j,aTypedArrayConstructor:U,exportTypedArrayMethod:B,exportTypedArrayStaticMethod:V,isView:F,isTypedArray:q,TypedArray:k,TypedArrayPrototype:C}},62:(e,t,n)=>{"use strict";var r=n(7358),i=n(1890),o=n(9631),a=n(6257),s=n(7961),u=n(1904),c=n(9833),l=n(6400),h=n(2827),f=n(1860),d=n(4068),p=n(833),v=n(8830),g=n(4945),m=n(6184),y=n(1454).f,b=n(928).f,w=n(5786),_=n(9017),T=n(1061),S=n(7624),E=s.PROPER,I=s.CONFIGURABLE,k=S.get,C=S.set,x="ArrayBuffer",A="DataView",R="prototype",N="Wrong length",P="Wrong index",O=r[x],D=O,L=D&&D[R],M=r[A],F=M&&M[R],q=Object.prototype,j=r.Array,U=r.RangeError,B=i(w),V=i([].reverse),H=v.pack,G=v.unpack,z=function(e){return[255&e]},K=function(e){return[255&e,e>>8&255]},$=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},W=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},J=function(e){return H(e,23,4)},Z=function(e){return H(e,52,8)},Y=function(e,t){b(e[R],t,{get:function(){return k(this)[t]}})},Q=function(e,t,n,r){var i=p(n),o=k(e);if(i+t>o.byteLength)throw U(P);var a=k(o.buffer).bytes,s=i+o.byteOffset,u=_(a,s,s+t);return r?u:V(u)},X=function(e,t,n,r,i,o){var a=p(n),s=k(e);if(a+t>s.byteLength)throw U(P);for(var u=k(s.buffer).bytes,c=a+s.byteOffset,l=r(+i),h=0;h<t;h++)u[c+h]=l[o?h:t-h-1]};if(a){var ee=E&&O.name!==x;if(l((function(){O(1)}))&&l((function(){new O(-1)}))&&!l((function(){return new O,new O(1.5),new O(NaN),ee&&!I})))ee&&I&&u(O,"name",x);else{D=function(e){return h(this,L),new O(p(e))},D[R]=L;for(var te,ne=y(O),re=0;ne.length>re;)(te=ne[re++])in D||u(D,te,O[te]);L.constructor=D}m&&g(F)!==q&&m(F,q);var ie=new M(new D(2)),oe=i(F.setInt8);ie.setInt8(0,2147483648),ie.setInt8(1,2147483649),!ie.getInt8(0)&&ie.getInt8(1)||c(F,{setInt8:function(e,t){oe(this,e,t<<24>>24)},setUint8:function(e,t){oe(this,e,t<<24>>24)}},{unsafe:!0})}else D=function(e){h(this,L);var t=p(e);C(this,{bytes:B(j(t),0),byteLength:t}),o||(this.byteLength=t)},L=D[R],M=function(e,t,n){h(this,F),h(e,L);var r=k(e).byteLength,i=f(t);if(i<0||i>r)throw U("Wrong offset");if(n=void 0===n?r-i:d(n),i+n>r)throw U(N);C(this,{buffer:e,byteLength:n,byteOffset:i}),o||(this.buffer=e,this.byteLength=n,this.byteOffset=i)},F=M[R],o&&(Y(D,"byteLength"),Y(M,"buffer"),Y(M,"byteLength"),Y(M,"byteOffset")),c(F,{getInt8:function(e){return Q(this,1,e)[0]<<24>>24},getUint8:function(e){return Q(this,1,e)[0]},getInt16:function(e){var t=Q(this,2,e,arguments.length>1?arguments[1]:void 0);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=Q(this,2,e,arguments.length>1?arguments[1]:void 0);return t[1]<<8|t[0]},getInt32:function(e){return W(Q(this,4,e,arguments.length>1?arguments[1]:void 0))},getUint32:function(e){return W(Q(this,4,e,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(e){return G(Q(this,4,e,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(e){return G(Q(this,8,e,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(e,t){X(this,1,e,z,t)},setUint8:function(e,t){X(this,1,e,z,t)},setInt16:function(e,t){X(this,2,e,K,t,arguments.length>2?arguments[2]:void 0)},setUint16:function(e,t){X(this,2,e,K,t,arguments.length>2?arguments[2]:void 0)},setInt32:function(e,t){X(this,4,e,$,t,arguments.length>2?arguments[2]:void 0)},setUint32:function(e,t){X(this,4,e,$,t,arguments.length>2?arguments[2]:void 0)},setFloat32:function(e,t){X(this,4,e,J,t,arguments.length>2?arguments[2]:void 0)},setFloat64:function(e,t){X(this,8,e,Z,t,arguments.length>2?arguments[2]:void 0)}});T(D,x),T(M,A),e.exports={ArrayBuffer:D,DataView:M}},5786:(e,t,n)=>{"use strict";var r=n(7475),i=n(1801),o=n(6042);e.exports=function(e){var t=r(this),n=o(t),a=arguments.length,s=i(a>1?arguments[1]:void 0,n),u=a>2?arguments[2]:void 0,c=void 0===u?n:i(u,n);while(c>s)t[s++]=e;return t}},2029:(e,t,n)=>{"use strict";var r=n(7358),i=n(422),o=n(3577),a=n(7475),s=n(9234),u=n(1558),c=n(7593),l=n(6042),h=n(6496),f=n(2151),d=n(7143),p=r.Array;e.exports=function(e){var t=a(e),n=c(this),r=arguments.length,v=r>1?arguments[1]:void 0,g=void 0!==v;g&&(v=i(v,r>2?arguments[2]:void 0));var m,y,b,w,_,T,S=d(t),E=0;if(!S||this==p&&u(S))for(m=l(t),y=n?new this(m):p(m);m>E;E++)T=g?v(t[E],E):t[E],h(y,E,T);else for(w=f(t,S),_=w.next,y=n?new this:[];!(b=o(_,w)).done;E++)T=g?s(w,v,[b.value,E],!0):b.value,h(y,E,T);return y.length=E,y}},6963:(e,t,n)=>{var r=n(7120),i=n(1801),o=n(6042),a=function(e){return function(t,n,a){var s,u=r(t),c=o(u),l=i(a,c);if(e&&n!=n){while(c>l)if(s=u[l++],s!=s)return!0}else for(;c>l;l++)if((e||l in u)&&u[l]===n)return e||l||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},2099:(e,t,n)=>{var r=n(422),i=n(1890),o=n(2985),a=n(7475),s=n(6042),u=n(6340),c=i([].push),l=function(e){var t=1==e,n=2==e,i=3==e,l=4==e,h=6==e,f=7==e,d=5==e||h;return function(p,v,g,m){for(var y,b,w=a(p),_=o(w),T=r(v,g),S=s(_),E=0,I=m||u,k=t?I(p,S):n||f?I(p,0):void 0;S>E;E++)if((d||E in _)&&(y=_[E],b=T(y,E,w),e))if(t)k[E]=b;else if(b)switch(e){case 3:return!0;case 5:return y;case 6:return E;case 2:c(k,y)}else switch(e){case 4:return!1;case 7:c(k,y)}return h?-1:i||l?l:k}};e.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterReject:l(7)}},2828:(e,t,n)=>{"use strict";var r=n(6400);e.exports=function(e,t){var n=[][e];return!!n&&r((function(){n.call(null,t||function(){throw 1},1)}))}},9017:(e,t,n)=>{var r=n(1890);e.exports=r([].slice)},6534:(e,t,n)=>{var r=n(9017),i=Math.floor,o=function(e,t){var n=e.length,u=i(n/2);return n<8?a(e,t):s(e,o(r(e,0,u),t),o(r(e,u),t),t)},a=function(e,t){var n,r,i=e.length,o=1;while(o<i){r=o,n=e[o];while(r&&t(e[r-1],n)>0)e[r]=e[--r];r!==o++&&(e[r]=n)}return e},s=function(e,t,n,r){var i=t.length,o=n.length,a=0,s=0;while(a<i||s<o)e[a+s]=a<i&&s<o?r(t[a],n[s])<=0?t[a++]:n[s++]:a<i?t[a++]:n[s++];return e};e.exports=o},330:(e,t,n)=>{var r=n(7358),i=n(6894),o=n(7593),a=n(776),s=n(854),u=s("species"),c=r.Array;e.exports=function(e){var t;return i(e)&&(t=e.constructor,o(t)&&(t===c||i(t.prototype))?t=void 0:a(t)&&(t=t[u],null===t&&(t=void 0))),void 0===t?c:t}},6340:(e,t,n)=>{var r=n(330);e.exports=function(e,t){return new(r(e))(0===t?0:t)}},9234:(e,t,n)=>{var r=n(7950),i=n(8105);e.exports=function(e,t,n,o){try{return o?t(r(n)[0],n[1]):t(n)}catch(a){i(e,"throw",a)}}},8047:(e,t,n)=>{var r=n(854),i=r("iterator"),o=!1;try{var a=0,s={next:function(){return{done:!!a++}},return:function(){o=!0}};s[i]=function(){return this},Array.from(s,(function(){throw 2}))}catch(u){}e.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var r={};r[i]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch(u){}return n}},5173:(e,t,n)=>{var r=n(1890),i=r({}.toString),o=r("".slice);e.exports=function(e){return o(i(e),8,-1)}},5976:(e,t,n)=>{var r=n(7358),i=n(5705),o=n(419),a=n(5173),s=n(854),u=s("toStringTag"),c=r.Object,l="Arguments"==a(function(){return arguments}()),h=function(e,t){try{return e[t]}catch(n){}};e.exports=i?a:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=h(t=c(e),u))?n:l?a(t):"Object"==(r=a(t))&&o(t.callee)?"Arguments":r}},8438:(e,t,n)=>{var r=n(7322),i=n(7764),o=n(2404),a=n(928);e.exports=function(e,t){for(var n=i(t),s=a.f,u=o.f,c=0;c<n.length;c++){var l=n[c];r(e,l)||s(e,l,u(t,l))}}},123:(e,t,n)=>{var r=n(6400);e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},5912:(e,t,n)=>{"use strict";var r=n(4848).IteratorPrototype,i=n(1074),o=n(5442),a=n(1061),s=n(2184),u=function(){return this};e.exports=function(e,t,n){var c=t+" Iterator";return e.prototype=i(r,{next:o(1,n)}),a(e,c,!1,!0),s[c]=u,e}},1904:(e,t,n)=>{var r=n(9631),i=n(928),o=n(5442);e.exports=r?function(e,t,n){return i.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},5442:e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},6496:(e,t,n)=>{"use strict";var r=n(8618),i=n(928),o=n(5442);e.exports=function(e,t,n){var a=r(t);a in e?i.f(e,a,o(0,n)):e[a]=n}},8810:(e,t,n)=>{"use strict";var r=n(8934),i=n(3577),o=n(6692),a=n(7961),s=n(419),u=n(5912),c=n(4945),l=n(6184),h=n(1061),f=n(1904),d=n(298),p=n(854),v=n(2184),g=n(4848),m=a.PROPER,y=a.CONFIGURABLE,b=g.IteratorPrototype,w=g.BUGGY_SAFARI_ITERATORS,_=p("iterator"),T="keys",S="values",E="entries",I=function(){return this};e.exports=function(e,t,n,a,p,g,k){u(n,t,a);var C,x,A,R=function(e){if(e===p&&L)return L;if(!w&&e in O)return O[e];switch(e){case T:return function(){return new n(this,e)};case S:return function(){return new n(this,e)};case E:return function(){return new n(this,e)}}return function(){return new n(this)}},N=t+" Iterator",P=!1,O=e.prototype,D=O[_]||O["@@iterator"]||p&&O[p],L=!w&&D||R(p),M="Array"==t&&O.entries||D;if(M&&(C=c(M.call(new e)),C!==Object.prototype&&C.next&&(o||c(C)===b||(l?l(C,b):s(C[_])||d(C,_,I)),h(C,N,!0,!0),o&&(v[N]=I))),m&&p==S&&D&&D.name!==S&&(!o&&y?f(O,"name",S):(P=!0,L=function(){return i(D,this)})),p)if(x={values:R(S),keys:g?L:R(T),entries:R(E)},k)for(A in x)(w||P||!(A in O))&&d(O,A,x[A]);else r({target:t,proto:!0,forced:w||P},x);return o&&!k||O[_]===L||d(O,_,L,{name:p}),v[t]=L,x}},9631:(e,t,n)=>{var r=n(6400);e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},5354:(e,t,n)=>{var r=n(7358),i=n(776),o=r.document,a=i(o)&&i(o.createElement);e.exports=function(e){return a?o.createElement(e):{}}},4296:e=>{e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},8753:(e,t,n)=>{var r=n(5354),i=r("span").classList,o=i&&i.constructor&&i.constructor.prototype;e.exports=o===Object.prototype?void 0:o},1544:(e,t,n)=>{var r=n(9173),i=r.match(/firefox\/(\d+)/i);e.exports=!!i&&+i[1]},8979:(e,t,n)=>{var r=n(9173);e.exports=/MSIE|Trident/.test(r)},9173:(e,t,n)=>{var r=n(9694);e.exports=r("navigator","userAgent")||""},5068:(e,t,n)=>{var r,i,o=n(7358),a=n(9173),s=o.process,u=o.Deno,c=s&&s.versions||u&&u.version,l=c&&c.v8;l&&(r=l.split("."),i=r[0]>0&&r[0]<4?1:+(r[0]+r[1])),!i&&a&&(r=a.match(/Edge\/(\d+)/),(!r||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/),r&&(i=+r[1]))),e.exports=i},1513:(e,t,n)=>{var r=n(9173),i=r.match(/AppleWebKit\/(\d+)\./);e.exports=!!i&&+i[1]},2875:e=>{e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},8934:(e,t,n)=>{var r=n(7358),i=n(2404).f,o=n(1904),a=n(298),s=n(3534),u=n(8438),c=n(4389);e.exports=function(e,t){var n,l,h,f,d,p,v=e.target,g=e.global,m=e.stat;if(l=g?r:m?r[v]||s(v,{}):(r[v]||{}).prototype,l)for(h in t){if(d=t[h],e.noTargetGet?(p=i(l,h),f=p&&p.value):f=l[h],n=c(g?h:v+(m?".":"#")+h,e.forced),!n&&void 0!==f){if(typeof d==typeof f)continue;u(d,f)}(e.sham||f&&f.sham)&&o(d,"sham",!0),a(l,h,d,e)}}},6400:e=>{e.exports=function(e){try{return!!e()}catch(t){return!0}}},9529:(e,t,n)=>{"use strict";n(7280);var r=n(1890),i=n(298),o=n(4348),a=n(6400),s=n(854),u=n(1904),c=s("species"),l=RegExp.prototype;e.exports=function(e,t,n,h){var f=s(e),d=!a((function(){var t={};return t[f]=function(){return 7},7!=""[e](t)})),p=d&&!a((function(){var t=!1,n=/a/;return"split"===e&&(n={},n.constructor={},n.constructor[c]=function(){return n},n.flags="",n[f]=/./[f]),n.exec=function(){return t=!0,null},n[f](""),!t}));if(!d||!p||n){var v=r(/./[f]),g=t(f,""[e],(function(e,t,n,i,a){var s=r(e),u=t.exec;return u===o||u===l.exec?d&&!a?{done:!0,value:v(t,n,i)}:{done:!0,value:s(n,t,i)}:{done:!1}}));i(String.prototype,e,g[0]),i(l,f,g[1])}h&&u(l[f],"sham",!0)}},4817:(e,t,n)=>{"use strict";var r=n(7358),i=n(6894),o=n(6042),a=n(422),s=r.TypeError,u=function(e,t,n,r,c,l,h,f){var d,p,v=c,g=0,m=!!h&&a(h,f);while(g<r){if(g in n){if(d=m?m(n[g],g,t):n[g],l>0&&i(d))p=o(d),v=u(e,t,d,p,v,l-1)-1;else{if(v>=9007199254740991)throw s("Exceed the acceptable array length");e[v]=d}v++}g++}return v};e.exports=u},4157:e=>{var t=Function.prototype,n=t.apply,r=t.bind,i=t.call;e.exports="object"==typeof Reflect&&Reflect.apply||(r?i.bind(n):function(){return i.apply(n,arguments)})},422:(e,t,n)=>{var r=n(1890),i=n(392),o=r(r.bind);e.exports=function(e,t){return i(e),void 0===t?e:o?o(e,t):function(){return e.apply(t,arguments)}}},3577:e=>{var t=Function.prototype.call;e.exports=t.bind?t.bind(t):function(){return t.apply(t,arguments)}},7961:(e,t,n)=>{var r=n(9631),i=n(7322),o=Function.prototype,a=r&&Object.getOwnPropertyDescriptor,s=i(o,"name"),u=s&&"something"===function(){}.name,c=s&&(!r||r&&a(o,"name").configurable);e.exports={EXISTS:s,PROPER:u,CONFIGURABLE:c}},1890:e=>{var t=Function.prototype,n=t.bind,r=t.call,i=n&&n.bind(r);e.exports=n?function(e){return e&&i(r,e)}:function(e){return e&&function(){return r.apply(e,arguments)}}},9694:(e,t,n)=>{var r=n(7358),i=n(419),o=function(e){return i(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?o(r[e]):r[e]&&r[e][t]}},7143:(e,t,n)=>{var r=n(5976),i=n(2344),o=n(2184),a=n(854),s=a("iterator");e.exports=function(e){if(void 0!=e)return i(e,s)||i(e,"@@iterator")||o[r(e)]}},2151:(e,t,n)=>{var r=n(7358),i=n(3577),o=n(392),a=n(7950),s=n(3353),u=n(7143),c=r.TypeError;e.exports=function(e,t){var n=arguments.length<2?u(e):t;if(o(n))return a(i(n,e));throw c(s(e)+" is not iterable")}},2344:(e,t,n)=>{var r=n(392);e.exports=function(e,t){var n=e[t];return null==n?void 0:r(n)}},8716:(e,t,n)=>{var r=n(1890),i=n(7475),o=Math.floor,a=r("".charAt),s=r("".replace),u=r("".slice),c=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,l=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,n,r,h,f){var d=n+e.length,p=r.length,v=l;return void 0!==h&&(h=i(h),v=c),s(f,v,(function(i,s){var c;switch(a(s,0)){case"$":return"$";case"&":return e;case"`":return u(t,0,n);case"'":return u(t,d);case"<":c=h[u(s,1,-1)];break;default:var l=+s;if(0===l)return i;if(l>p){var f=o(l/10);return 0===f?i:f<=p?void 0===r[f-1]?a(s,1):r[f-1]+a(s,1):i}c=r[l-1]}return void 0===c?"":c}))}},7358:(e,t,n)=>{var r=function(e){return e&&e.Math==Math&&e};e.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||function(){return this}()||Function("return this")()},7322:(e,t,n)=>{var r=n(1890),i=n(7475),o=r({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return o(i(e),t)}},600:e=>{e.exports={}},9970:(e,t,n)=>{var r=n(9694);e.exports=r("document","documentElement")},7021:(e,t,n)=>{var r=n(9631),i=n(6400),o=n(5354);e.exports=!r&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},8830:(e,t,n)=>{var r=n(7358),i=r.Array,o=Math.abs,a=Math.pow,s=Math.floor,u=Math.log,c=Math.LN2,l=function(e,t,n){var r,l,h,f=i(n),d=8*n-t-1,p=(1<<d)-1,v=p>>1,g=23===t?a(2,-24)-a(2,-77):0,m=e<0||0===e&&1/e<0?1:0,y=0;for(e=o(e),e!=e||e===1/0?(l=e!=e?1:0,r=p):(r=s(u(e)/c),e*(h=a(2,-r))<1&&(r--,h*=2),e+=r+v>=1?g/h:g*a(2,1-v),e*h>=2&&(r++,h/=2),r+v>=p?(l=0,r=p):r+v>=1?(l=(e*h-1)*a(2,t),r+=v):(l=e*a(2,v-1)*a(2,t),r=0));t>=8;f[y++]=255&l,l/=256,t-=8);for(r=r<<t|l,d+=t;d>0;f[y++]=255&r,r/=256,d-=8);return f[--y]|=128*m,f},h=function(e,t){var n,r=e.length,i=8*r-t-1,o=(1<<i)-1,s=o>>1,u=i-7,c=r-1,l=e[c--],h=127&l;for(l>>=7;u>0;h=256*h+e[c],c--,u-=8);for(n=h&(1<<-u)-1,h>>=-u,u+=t;u>0;n=256*n+e[c],c--,u-=8);if(0===h)h=1-s;else{if(h===o)return n?NaN:l?-1/0:1/0;n+=a(2,t),h-=s}return(l?-1:1)*n*a(2,h-t)};e.exports={pack:l,unpack:h}},2985:(e,t,n)=>{var r=n(7358),i=n(1890),o=n(6400),a=n(5173),s=r.Object,u=i("".split);e.exports=o((function(){return!s("z").propertyIsEnumerable(0)}))?function(e){return"String"==a(e)?u(e,""):s(e)}:s},9941:(e,t,n)=>{var r=n(419),i=n(776),o=n(6184);e.exports=function(e,t,n){var a,s;return o&&r(a=t.constructor)&&a!==n&&i(s=a.prototype)&&s!==n.prototype&&o(e,s),e}},3725:(e,t,n)=>{var r=n(1890),i=n(419),o=n(1089),a=r(Function.toString);i(o.inspectSource)||(o.inspectSource=function(e){return a(e)}),e.exports=o.inspectSource},7624:(e,t,n)=>{var r,i,o,a=n(9262),s=n(7358),u=n(1890),c=n(776),l=n(1904),h=n(7322),f=n(1089),d=n(203),p=n(600),v="Object already initialized",g=s.TypeError,m=s.WeakMap,y=function(e){return o(e)?i(e):r(e,{})},b=function(e){return function(t){var n;if(!c(t)||(n=i(t)).type!==e)throw g("Incompatible receiver, "+e+" required");return n}};if(a||f.state){var w=f.state||(f.state=new m),_=u(w.get),T=u(w.has),S=u(w.set);r=function(e,t){if(T(w,e))throw new g(v);return t.facade=e,S(w,e,t),t},i=function(e){return _(w,e)||{}},o=function(e){return T(w,e)}}else{var E=d("state");p[E]=!0,r=function(e,t){if(h(e,E))throw new g(v);return t.facade=e,l(e,E,t),t},i=function(e){return h(e,E)?e[E]:{}},o=function(e){return h(e,E)}}e.exports={set:r,get:i,has:o,enforce:y,getterFor:b}},1558:(e,t,n)=>{var r=n(854),i=n(2184),o=r("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||a[o]===e)}},6894:(e,t,n)=>{var r=n(5173);e.exports=Array.isArray||function(e){return"Array"==r(e)}},419:e=>{e.exports=function(e){return"function"==typeof e}},7593:(e,t,n)=>{var r=n(1890),i=n(6400),o=n(419),a=n(5976),s=n(9694),u=n(3725),c=function(){},l=[],h=s("Reflect","construct"),f=/^\s*(?:class|function)\b/,d=r(f.exec),p=!f.exec(c),v=function(e){if(!o(e))return!1;try{return h(c,l,e),!0}catch(t){return!1}},g=function(e){if(!o(e))return!1;switch(a(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return p||!!d(f,u(e))};e.exports=!h||i((function(){var e;return v(v.call)||!v(Object)||!v((function(){e=!0}))||e}))?g:v},4389:(e,t,n)=>{var r=n(6400),i=n(419),o=/#|\.prototype\./,a=function(e,t){var n=u[s(e)];return n==l||n!=c&&(i(t)?r(t):!!t)},s=a.normalize=function(e){return String(e).replace(o,".").toLowerCase()},u=a.data={},c=a.NATIVE="N",l=a.POLYFILL="P";e.exports=a},2818:(e,t,n)=>{var r=n(776),i=Math.floor;e.exports=Number.isInteger||function(e){return!r(e)&&isFinite(e)&&i(e)===e}},776:(e,t,n)=>{var r=n(419);e.exports=function(e){return"object"==typeof e?null!==e:r(e)}},6692:e=>{e.exports=!1},410:(e,t,n)=>{var r=n(7358),i=n(9694),o=n(419),a=n(7673),s=n(8476),u=r.Object;e.exports=s?function(e){return"symbol"==typeof e}:function(e){var t=i("Symbol");return o(t)&&a(t.prototype,u(e))}},8105:(e,t,n)=>{var r=n(3577),i=n(7950),o=n(2344);e.exports=function(e,t,n){var a,s;i(e);try{if(a=o(e,"return"),!a){if("throw"===t)throw n;return n}a=r(a,e)}catch(u){s=!0,a=u}if("throw"===t)throw n;if(s)throw a;return i(a),n}},4848:(e,t,n)=>{"use strict";var r,i,o,a=n(6400),s=n(419),u=n(1074),c=n(4945),l=n(298),h=n(854),f=n(6692),d=h("iterator"),p=!1;[].keys&&(o=[].keys(),"next"in o?(i=c(c(o)),i!==Object.prototype&&(r=i)):p=!0);var v=void 0==r||a((function(){var e={};return r[d].call(e)!==e}));v?r={}:f&&(r=u(r)),s(r[d])||l(r,d,(function(){return this})),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:p}},2184:e=>{e.exports={}},6042:(e,t,n)=>{var r=n(4068);e.exports=function(e){return r(e.length)}},7529:(e,t,n)=>{var r=n(5068),i=n(6400);e.exports=!!Object.getOwnPropertySymbols&&!i((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},6595:(e,t,n)=>{var r=n(6400),i=n(854),o=n(6692),a=i("iterator");e.exports=!r((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,n="";return e.pathname="c%20d",t.forEach((function(e,r){t["delete"]("b"),n+=r+e})),o&&!e.toJSON||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[a]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://").host||"#%D0%B1"!==new URL("http://a#").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host}))},9262:(e,t,n)=>{var r=n(7358),i=n(419),o=n(3725),a=r.WeakMap;e.exports=i(a)&&/native code/.test(o(a))},8439:(e,t,n)=>{"use strict";var r=n(9631),i=n(1890),o=n(3577),a=n(6400),s=n(9158),u=n(4199),c=n(5604),l=n(7475),h=n(2985),f=Object.assign,d=Object.defineProperty,p=i([].concat);e.exports=!f||a((function(){if(r&&1!==f({b:1},f(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),i="abcdefghijklmnopqrst";return e[n]=7,i.split("").forEach((function(e){t[e]=e})),7!=f({},e)[n]||s(f({},t)).join("")!=i}))?function(e,t){var n=l(e),i=arguments.length,a=1,f=u.f,d=c.f;while(i>a){var v,g=h(arguments[a++]),m=f?p(s(g),f(g)):s(g),y=m.length,b=0;while(y>b)v=m[b++],r&&!o(d,g,v)||(n[v]=g[v])}return n}:f},1074:(e,t,n)=>{var r,i=n(7950),o=n(3605),a=n(2875),s=n(600),u=n(9970),c=n(5354),l=n(203),h=">",f="<",d="prototype",p="script",v=l("IE_PROTO"),g=function(){},m=function(e){return f+p+h+e+f+"/"+p+h},y=function(e){e.write(m("")),e.close();var t=e.parentWindow.Object;return e=null,t},b=function(){var e,t=c("iframe"),n="java"+p+":";return t.style.display="none",u.appendChild(t),t.src=String(n),e=t.contentWindow.document,e.open(),e.write(m("document.F=Object")),e.close(),e.F},w=function(){try{r=new ActiveXObject("htmlfile")}catch(t){}w="undefined"!=typeof document?document.domain&&r?y(r):b():y(r);var e=a.length;while(e--)delete w[d][a[e]];return w()};s[v]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(g[d]=i(e),n=new g,g[d]=null,n[v]=e):n=w(),void 0===t?n:o(n,t)}},3605:(e,t,n)=>{var r=n(9631),i=n(928),o=n(7950),a=n(7120),s=n(9158);e.exports=r?Object.defineProperties:function(e,t){o(e);var n,r=a(t),u=s(t),c=u.length,l=0;while(c>l)i.f(e,n=u[l++],r[n]);return e}},928:(e,t,n)=>{var r=n(7358),i=n(9631),o=n(7021),a=n(7950),s=n(8618),u=r.TypeError,c=Object.defineProperty;t.f=i?c:function(e,t,n){if(a(e),t=s(t),a(n),o)try{return c(e,t,n)}catch(r){}if("get"in n||"set"in n)throw u("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},2404:(e,t,n)=>{var r=n(9631),i=n(3577),o=n(5604),a=n(5442),s=n(7120),u=n(8618),c=n(7322),l=n(7021),h=Object.getOwnPropertyDescriptor;t.f=r?h:function(e,t){if(e=s(e),t=u(t),l)try{return h(e,t)}catch(n){}if(c(e,t))return a(!i(o.f,e,t),e[t])}},1454:(e,t,n)=>{var r=n(1587),i=n(2875),o=i.concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},4199:(e,t)=>{t.f=Object.getOwnPropertySymbols},4945:(e,t,n)=>{var r=n(7358),i=n(7322),o=n(419),a=n(7475),s=n(203),u=n(123),c=s("IE_PROTO"),l=r.Object,h=l.prototype;e.exports=u?l.getPrototypeOf:function(e){var t=a(e);if(i(t,c))return t[c];var n=t.constructor;return o(n)&&t instanceof n?n.prototype:t instanceof l?h:null}},7673:(e,t,n)=>{var r=n(1890);e.exports=r({}.isPrototypeOf)},1587:(e,t,n)=>{var r=n(1890),i=n(7322),o=n(7120),a=n(6963).indexOf,s=n(600),u=r([].push);e.exports=function(e,t){var n,r=o(e),c=0,l=[];for(n in r)!i(s,n)&&i(r,n)&&u(l,n);while(t.length>c)i(r,n=t[c++])&&(~a(l,n)||u(l,n));return l}},9158:(e,t,n)=>{var r=n(1587),i=n(2875);e.exports=Object.keys||function(e){return r(e,i)}},5604:(e,t)=>{"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,i=r&&!n.call({1:2},1);t.f=i?function(e){var t=r(this,e);return!!t&&t.enumerable}:n},6184:(e,t,n)=>{var r=n(1890),i=n(7950),o=n(8248);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{e=r(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),e(n,[]),t=n instanceof Array}catch(a){}return function(n,r){return i(n),o(r),t?e(n,r):n.__proto__=r,n}}():void 0)},9308:(e,t,n)=>{var r=n(7358),i=n(3577),o=n(419),a=n(776),s=r.TypeError;e.exports=function(e,t){var n,r;if("string"===t&&o(n=e.toString)&&!a(r=i(n,e)))return r;if(o(n=e.valueOf)&&!a(r=i(n,e)))return r;if("string"!==t&&o(n=e.toString)&&!a(r=i(n,e)))return r;throw s("Can't convert object to primitive value")}},7764:(e,t,n)=>{var r=n(9694),i=n(1890),o=n(1454),a=n(4199),s=n(7950),u=i([].concat);e.exports=r("Reflect","ownKeys")||function(e){var t=o.f(s(e)),n=a.f;return n?u(t,n(e)):t}},9833:(e,t,n)=>{var r=n(298);e.exports=function(e,t,n){for(var i in t)r(e,i,t[i],n);return e}},298:(e,t,n)=>{var r=n(7358),i=n(419),o=n(7322),a=n(1904),s=n(3534),u=n(3725),c=n(7624),l=n(7961).CONFIGURABLE,h=c.get,f=c.enforce,d=String(String).split("String");(e.exports=function(e,t,n,u){var c,h=!!u&&!!u.unsafe,p=!!u&&!!u.enumerable,v=!!u&&!!u.noTargetGet,g=u&&void 0!==u.name?u.name:t;i(n)&&("Symbol("===String(g).slice(0,7)&&(g="["+String(g).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!o(n,"name")||l&&n.name!==g)&&a(n,"name",g),c=f(n),c.source||(c.source=d.join("string"==typeof g?g:""))),e!==r?(h?!v&&e[t]&&(p=!0):delete e[t],p?e[t]=n:a(e,t,n)):p?e[t]=n:s(t,n)})(Function.prototype,"toString",(function(){return i(this)&&h(this).source||u(this)}))},9395:(e,t,n)=>{var r=n(7358),i=n(3577),o=n(7950),a=n(419),s=n(5173),u=n(4348),c=r.TypeError;e.exports=function(e,t){var n=e.exec;if(a(n)){var r=i(n,e,t);return null!==r&&o(r),r}if("RegExp"===s(e))return i(u,e,t);throw c("RegExp#exec called on incompatible receiver")}},4348:(e,t,n)=>{"use strict";var r=n(3577),i=n(1890),o=n(4481),a=n(136),s=n(2351),u=n(1586),c=n(1074),l=n(7624).get,h=n(5337),f=n(1442),d=u("native-string-replace",String.prototype.replace),p=RegExp.prototype.exec,v=p,g=i("".charAt),m=i("".indexOf),y=i("".replace),b=i("".slice),w=function(){var e=/a/,t=/b*/g;return r(p,e,"a"),r(p,t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),_=s.UNSUPPORTED_Y||s.BROKEN_CARET,T=void 0!==/()??/.exec("")[1],S=w||T||_||h||f;S&&(v=function(e){var t,n,i,s,u,h,f,S=this,E=l(S),I=o(e),k=E.raw;if(k)return k.lastIndex=S.lastIndex,t=r(v,k,I),S.lastIndex=k.lastIndex,t;var C=E.groups,x=_&&S.sticky,A=r(a,S),R=S.source,N=0,P=I;if(x&&(A=y(A,"y",""),-1===m(A,"g")&&(A+="g"),P=b(I,S.lastIndex),S.lastIndex>0&&(!S.multiline||S.multiline&&"\n"!==g(I,S.lastIndex-1))&&(R="(?: "+R+")",P=" "+P,N++),n=new RegExp("^(?:"+R+")",A)),T&&(n=new RegExp("^"+R+"$(?!\\s)",A)),w&&(i=S.lastIndex),s=r(p,x?n:S,P),x?s?(s.input=b(s.input,N),s[0]=b(s[0],N),s.index=S.lastIndex,S.lastIndex+=s[0].length):S.lastIndex=0:w&&s&&(S.lastIndex=S.global?s.index+s[0].length:i),T&&s&&s.length>1&&r(d,s[0],n,(function(){for(u=1;u<arguments.length-2;u++)void 0===arguments[u]&&(s[u]=void 0)})),s&&C)for(s.groups=h=c(null),u=0;u<C.length;u++)f=C[u],h[f[0]]=s[f[1]];return s}),e.exports=v},136:(e,t,n)=>{"use strict";var r=n(7950);e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},2351:(e,t,n)=>{var r=n(6400),i=n(7358),o=i.RegExp;t.UNSUPPORTED_Y=r((function(){var e=o("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=r((function(){var e=o("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},5337:(e,t,n)=>{var r=n(6400),i=n(7358),o=i.RegExp;e.exports=r((function(){var e=o(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))},1442:(e,t,n)=>{var r=n(6400),i=n(7358),o=i.RegExp;e.exports=r((function(){var e=o("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},7933:(e,t,n)=>{var r=n(7358),i=r.TypeError;e.exports=function(e){if(void 0==e)throw i("Can't call method on "+e);return e}},3534:(e,t,n)=>{var r=n(7358),i=Object.defineProperty;e.exports=function(e,t){try{i(r,e,{value:t,configurable:!0,writable:!0})}catch(n){r[e]=t}return t}},4114:(e,t,n)=>{"use strict";var r=n(9694),i=n(928),o=n(854),a=n(9631),s=o("species");e.exports=function(e){var t=r(e),n=i.f;a&&t&&!t[s]&&n(t,s,{configurable:!0,get:function(){return this}})}},1061:(e,t,n)=>{var r=n(928).f,i=n(7322),o=n(854),a=o("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,a)&&r(e,a,{configurable:!0,value:t})}},203:(e,t,n)=>{var r=n(1586),i=n(6862),o=r("keys");e.exports=function(e){return o[e]||(o[e]=i(e))}},1089:(e,t,n)=>{var r=n(7358),i=n(3534),o="__core-js_shared__",a=r[o]||i(o,{});e.exports=a},1586:(e,t,n)=>{var r=n(6692),i=n(1089);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.19.0",mode:r?"pure":"global",copyright:" 2021 Denis Pushkarev (zloirock.ru)"})},7440:(e,t,n)=>{var r=n(7950),i=n(2722),o=n(854),a=o("species");e.exports=function(e,t){var n,o=r(e).constructor;return void 0===o||void 0==(n=r(o)[a])?t:i(n)}},1021:(e,t,n)=>{var r=n(1890),i=n(1860),o=n(4481),a=n(7933),s=r("".charAt),u=r("".charCodeAt),c=r("".slice),l=function(e){return function(t,n){var r,l,h=o(a(t)),f=i(n),d=h.length;return f<0||f>=d?e?"":void 0:(r=u(h,f),r<55296||r>56319||f+1===d||(l=u(h,f+1))<56320||l>57343?e?s(h,f):r:e?c(h,f,f+2):l-56320+(r-55296<<10)+65536)}};e.exports={codeAt:l(!1),charAt:l(!0)}},5253:(e,t,n)=>{"use strict";var r=n(7358),i=n(1890),o=2147483647,a=36,s=1,u=26,c=38,l=700,h=72,f=128,d="-",p=/[^\0-\u007E]/,v=/[.\u3002\uFF0E\uFF61]/g,g="Overflow: input needs wider integers to process",m=a-s,y=r.RangeError,b=i(v.exec),w=Math.floor,_=String.fromCharCode,T=i("".charCodeAt),S=i([].join),E=i([].push),I=i("".replace),k=i("".split),C=i("".toLowerCase),x=function(e){var t=[],n=0,r=e.length;while(n<r){var i=T(e,n++);if(i>=55296&&i<=56319&&n<r){var o=T(e,n++);56320==(64512&o)?E(t,((1023&i)<<10)+(1023&o)+65536):(E(t,i),n--)}else E(t,i)}return t},A=function(e){return e+22+75*(e<26)},R=function(e,t,n){var r=0;for(e=n?w(e/l):e>>1,e+=w(e/t);e>m*u>>1;r+=a)e=w(e/m);return w(r+(m+1)*e/(e+c))},N=function(e){var t=[];e=x(e);var n,r,i=e.length,c=f,l=0,p=h;for(n=0;n<e.length;n++)r=e[n],r<128&&E(t,_(r));var v=t.length,m=v;v&&E(t,d);while(m<i){var b=o;for(n=0;n<e.length;n++)r=e[n],r>=c&&r<b&&(b=r);var T=m+1;if(b-c>w((o-l)/T))throw y(g);for(l+=(b-c)*T,c=b,n=0;n<e.length;n++){if(r=e[n],r<c&&++l>o)throw y(g);if(r==c){for(var I=l,k=a;;k+=a){var C=k<=p?s:k>=p+u?u:k-p;if(I<C)break;var N=I-C,P=a-C;E(t,_(A(C+N%P))),I=w(N/P)}E(t,_(A(I))),p=R(l,T,m==v),l=0,++m}}++l,++c}return S(t,"")};e.exports=function(e){var t,n,r=[],i=k(I(C(e),v,"."),".");for(t=0;t<i.length;t++)n=i[t],E(r,b(p,n)?"xn--"+N(n):n);return S(r,".")}},1801:(e,t,n)=>{var r=n(1860),i=Math.max,o=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):o(n,t)}},833:(e,t,n)=>{var r=n(7358),i=n(1860),o=n(4068),a=r.RangeError;e.exports=function(e){if(void 0===e)return 0;var t=i(e),n=o(t);if(t!==n)throw a("Wrong length or index");return n}},7120:(e,t,n)=>{var r=n(2985),i=n(7933);e.exports=function(e){return r(i(e))}},1860:e=>{var t=Math.ceil,n=Math.floor;e.exports=function(e){var r=+e;return r!==r||0===r?0:(r>0?n:t)(r)}},4068:(e,t,n)=>{var r=n(1860),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},7475:(e,t,n)=>{var r=n(7358),i=n(7933),o=r.Object;e.exports=function(e){return o(i(e))}},1355:(e,t,n)=>{var r=n(7358),i=n(1443),o=r.RangeError;e.exports=function(e,t){var n=i(e);if(n%t)throw o("Wrong offset");return n}},1443:(e,t,n)=>{var r=n(7358),i=n(1860),o=r.RangeError;e.exports=function(e){var t=i(e);if(t<0)throw o("The argument can't be less than 0");return t}},2181:(e,t,n)=>{var r=n(7358),i=n(3577),o=n(776),a=n(410),s=n(2344),u=n(9308),c=n(854),l=r.TypeError,h=c("toPrimitive");e.exports=function(e,t){if(!o(e)||a(e))return e;var n,r=s(e,h);if(r){if(void 0===t&&(t="default"),n=i(r,e,t),!o(n)||a(n))return n;throw l("Can't convert object to primitive value")}return void 0===t&&(t="number"),u(e,t)}},8618:(e,t,n)=>{var r=n(2181),i=n(410);e.exports=function(e){var t=r(e,"string");return i(t)?t:t+""}},5705:(e,t,n)=>{var r=n(854),i=r("toStringTag"),o={};o[i]="z",e.exports="[object z]"===String(o)},4481:(e,t,n)=>{var r=n(7358),i=n(5976),o=r.String;e.exports=function(e){if("Symbol"===i(e))throw TypeError("Cannot convert a Symbol value to a string");return o(e)}},3353:(e,t,n)=>{var r=n(7358),i=r.String;e.exports=function(e){try{return i(e)}catch(t){return"Object"}}},6968:(e,t,n)=>{"use strict";var r=n(8934),i=n(7358),o=n(3577),a=n(9631),s=n(8689),u=n(683),c=n(62),l=n(2827),h=n(5442),f=n(1904),d=n(2818),p=n(4068),v=n(833),g=n(1355),m=n(8618),y=n(7322),b=n(5976),w=n(776),_=n(410),T=n(1074),S=n(7673),E=n(6184),I=n(1454).f,k=n(9401),C=n(2099).forEach,x=n(4114),A=n(928),R=n(2404),N=n(7624),P=n(9941),O=N.get,D=N.set,L=A.f,M=R.f,F=Math.round,q=i.RangeError,j=c.ArrayBuffer,U=j.prototype,B=c.DataView,V=u.NATIVE_ARRAY_BUFFER_VIEWS,H=u.TYPED_ARRAY_CONSTRUCTOR,G=u.TYPED_ARRAY_TAG,z=u.TypedArray,K=u.TypedArrayPrototype,$=u.aTypedArrayConstructor,W=u.isTypedArray,J="BYTES_PER_ELEMENT",Z="Wrong length",Y=function(e,t){$(e);var n=0,r=t.length,i=new e(r);while(r>n)i[n]=t[n++];return i},Q=function(e,t){L(e,t,{get:function(){return O(this)[t]}})},X=function(e){var t;return S(U,e)||"ArrayBuffer"==(t=b(e))||"SharedArrayBuffer"==t},ee=function(e,t){return W(e)&&!_(t)&&t in e&&d(+t)&&t>=0},te=function(e,t){return t=m(t),ee(e,t)?h(2,e[t]):M(e,t)},ne=function(e,t,n){return t=m(t),!(ee(e,t)&&w(n)&&y(n,"value"))||y(n,"get")||y(n,"set")||n.configurable||y(n,"writable")&&!n.writable||y(n,"enumerable")&&!n.enumerable?L(e,t,n):(e[t]=n.value,e)};a?(V||(R.f=te,A.f=ne,Q(K,"buffer"),Q(K,"byteOffset"),Q(K,"byteLength"),Q(K,"length")),r({target:"Object",stat:!0,forced:!V},{getOwnPropertyDescriptor:te,defineProperty:ne}),e.exports=function(e,t,n){var a=e.match(/\d+$/)[0]/8,u=e+(n?"Clamped":"")+"Array",c="get"+e,h="set"+e,d=i[u],m=d,y=m&&m.prototype,b={},_=function(e,t){var n=O(e);return n.view[c](t*a+n.byteOffset,!0)},S=function(e,t,r){var i=O(e);n&&(r=(r=F(r))<0?0:r>255?255:255&r),i.view[h](t*a+i.byteOffset,r,!0)},A=function(e,t){L(e,t,{get:function(){return _(this,t)},set:function(e){return S(this,t,e)},enumerable:!0})};V?s&&(m=t((function(e,t,n,r){return l(e,y),P(function(){return w(t)?X(t)?void 0!==r?new d(t,g(n,a),r):void 0!==n?new d(t,g(n,a)):new d(t):W(t)?Y(m,t):o(k,m,t):new d(v(t))}(),e,m)})),E&&E(m,z),C(I(d),(function(e){e in m||f(m,e,d[e])})),m.prototype=y):(m=t((function(e,t,n,r){l(e,y);var i,s,u,c=0,h=0;if(w(t)){if(!X(t))return W(t)?Y(m,t):o(k,m,t);i=t,h=g(n,a);var f=t.byteLength;if(void 0===r){if(f%a)throw q(Z);if(s=f-h,s<0)throw q(Z)}else if(s=p(r)*a,s+h>f)throw q(Z);u=s/a}else u=v(t),s=u*a,i=new j(s);D(e,{buffer:i,byteOffset:h,byteLength:s,length:u,view:new B(i)});while(c<u)A(e,c++)})),E&&E(m,z),y=m.prototype=T(K)),y.constructor!==m&&f(y,"constructor",m),f(y,H,m),G&&f(y,G,u),b[u]=m,r({global:!0,forced:m!=d,sham:!V},b),J in m||f(m,J,a),J in y||f(y,J,a),x(u)}):e.exports=function(){}},8689:(e,t,n)=>{var r=n(7358),i=n(6400),o=n(8047),a=n(683).NATIVE_ARRAY_BUFFER_VIEWS,s=r.ArrayBuffer,u=r.Int8Array;e.exports=!a||!i((function(){u(1)}))||!i((function(){new u(-1)}))||!o((function(e){new u,new u(null),new u(1.5),new u(e)}),!0)||i((function(){return 1!==new u(new s(2),1,void 0).length}))},9401:(e,t,n)=>{var r=n(422),i=n(3577),o=n(2722),a=n(7475),s=n(6042),u=n(2151),c=n(7143),l=n(1558),h=n(683).aTypedArrayConstructor;e.exports=function(e){var t,n,f,d,p,v,g=o(this),m=a(e),y=arguments.length,b=y>1?arguments[1]:void 0,w=void 0!==b,_=c(m);if(_&&!l(_)){p=u(m,_),v=p.next,m=[];while(!(d=i(v,p)).done)m.push(d.value)}for(w&&y>2&&(b=r(b,arguments[2])),n=s(m),f=new(h(g))(n),t=0;n>t;t++)f[t]=w?b(m[t],t):m[t];return f}},6862:(e,t,n)=>{var r=n(1890),i=0,o=Math.random(),a=r(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+a(++i+o,36)}},8476:(e,t,n)=>{var r=n(7529);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},854:(e,t,n)=>{var r=n(7358),i=n(1586),o=n(7322),a=n(6862),s=n(7529),u=n(8476),c=i("wks"),l=r.Symbol,h=l&&l["for"],f=u?l:l&&l.withoutSetter||a;e.exports=function(e){if(!o(c,e)||!s&&"string"!=typeof c[e]){var t="Symbol."+e;s&&o(l,e)?c[e]=l[e]:c[e]=u&&h?h(t):f(t)}return c[e]}},6101:(e,t,n)=>{"use strict";var r=n(8934),i=n(7358),o=n(62),a=n(4114),s="ArrayBuffer",u=o[s],c=i[s];r({global:!0,forced:c!==u},{ArrayBuffer:u}),a(s)},979:(e,t,n)=>{"use strict";var r=n(8934),i=n(1890),o=n(6400),a=n(62),s=n(7950),u=n(1801),c=n(4068),l=n(7440),h=a.ArrayBuffer,f=a.DataView,d=f.prototype,p=i(h.prototype.slice),v=i(d.getUint8),g=i(d.setUint8),m=o((function(){return!new h(2).slice(1,void 0).byteLength}));r({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:m},{slice:function(e,t){if(p&&void 0===t)return p(s(this),e);var n=s(this).byteLength,r=u(e,n),i=u(void 0===t?n:t,n),o=new(l(this,h))(c(i-r)),a=new f(this),d=new f(o),m=0;while(r<i)g(d,m++,v(a,r++));return o}})},9377:(e,t,n)=>{"use strict";var r=n(8934),i=n(4817),o=n(7475),a=n(6042),s=n(1860),u=n(6340);r({target:"Array",proto:!0},{flat:function(){var e=arguments.length?arguments[0]:void 0,t=o(this),n=a(t),r=u(t,0);return r.length=i(r,t,t,n,0,void 0===e?1:s(e)),r}})},6843:(e,t,n)=>{"use strict";var r=n(7120),i=n(2852),o=n(2184),a=n(7624),s=n(8810),u="Array Iterator",c=a.set,l=a.getterFor(u);e.exports=s(Array,"Array",(function(e,t){c(this,{type:u,target:r(e),index:0,kind:t})}),(function(){var e=l(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},7070:(e,t,n)=>{"use strict";var r=n(8934),i=n(1890),o=n(6894),a=i([].reverse),s=[1,2];r({target:"Array",proto:!0,forced:String(s)===String(s.reverse())},{reverse:function(){return o(this)&&(this.length=this.length),a(this)}})},7098:(e,t,n)=>{"use strict";var r=n(8934),i=n(1890),o=n(392),a=n(7475),s=n(6042),u=n(4481),c=n(6400),l=n(6534),h=n(2828),f=n(1544),d=n(8979),p=n(5068),v=n(1513),g=[],m=i(g.sort),y=i(g.push),b=c((function(){g.sort(void 0)})),w=c((function(){g.sort(null)})),_=h("sort"),T=!c((function(){if(p)return p<70;if(!(f&&f>3)){if(d)return!0;if(v)return v<603;var e,t,n,r,i="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(r=0;r<47;r++)g.push({k:t+r,v:n})}for(g.sort((function(e,t){return t.v-e.v})),r=0;r<g.length;r++)t=g[r].k.charAt(0),i.charAt(i.length-1)!==t&&(i+=t);return"DGBEFHACIJK"!==i}})),S=b||!w||!_||!T,E=function(e){return function(t,n){return void 0===n?-1:void 0===t?1:void 0!==e?+e(t,n)||0:u(t)>u(n)?1:-1}};r({target:"Array",proto:!0,forced:S},{sort:function(e){void 0!==e&&o(e);var t=a(this);if(T)return void 0===e?m(t):m(t,e);var n,r,i=[],u=s(t);for(r=0;r<u;r++)r in t&&y(i,t[r]);l(i,E(e)),n=i.length,r=0;while(r<n)t[r]=i[r++];while(r<u)delete t[r++];return t}})},7280:(e,t,n)=>{"use strict";var r=n(8934),i=n(4348);r({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},839:(e,t,n)=>{"use strict";var r=n(1021).charAt,i=n(4481),o=n(7624),a=n(8810),s="String Iterator",u=o.set,c=o.getterFor(s);a(String,"String",(function(e){u(this,{type:s,string:i(e),index:0})}),(function(){var e,t=c(this),n=t.string,i=t.index;return i>=n.length?{value:void 0,done:!0}:(e=r(n,i),t.index+=e.length,{value:e,done:!1})}))},5363:(e,t,n)=>{"use strict";var r=n(4157),i=n(3577),o=n(1890),a=n(9529),s=n(6400),u=n(7950),c=n(419),l=n(1860),h=n(4068),f=n(4481),d=n(7933),p=n(6412),v=n(2344),g=n(8716),m=n(9395),y=n(854),b=y("replace"),w=Math.max,_=Math.min,T=o([].concat),S=o([].push),E=o("".indexOf),I=o("".slice),k=function(e){return void 0===e?e:String(e)},C=function(){return"$0"==="a".replace(/./,"$0")}(),x=function(){return!!/./[b]&&""===/./[b]("a","$0")}(),A=!s((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}));a("replace",(function(e,t,n){var o=x?"$":"$0";return[function(e,n){var r=d(this),o=void 0==e?void 0:v(e,b);return o?i(o,e,r,n):i(t,f(r),e,n)},function(e,i){var a=u(this),s=f(e);if("string"==typeof i&&-1===E(i,o)&&-1===E(i,"$<")){var d=n(t,a,s,i);if(d.done)return d.value}var v=c(i);v||(i=f(i));var y=a.global;if(y){var b=a.unicode;a.lastIndex=0}var C=[];while(1){var x=m(a,s);if(null===x)break;if(S(C,x),!y)break;var A=f(x[0]);""===A&&(a.lastIndex=p(s,h(a.lastIndex),b))}for(var R="",N=0,P=0;P<C.length;P++){x=C[P];for(var O=f(x[0]),D=w(_(l(x.index),s.length),0),L=[],M=1;M<x.length;M++)S(L,k(x[M]));var F=x.groups;if(v){var q=T([O],L,D,s);void 0!==F&&S(q,F);var j=f(r(i,void 0,q))}else j=g(O,s,D,L,F,i);D>=N&&(R+=I(s,N,D)+j,N=D+O.length)}return R+I(s,N)}]}),!A||!C||x)},2396:(e,t,n)=>{"use strict";var r=n(7358),i=n(1890),o=n(6400),a=n(392),s=n(6534),u=n(683),c=n(1544),l=n(8979),h=n(5068),f=n(1513),d=r.Array,p=u.aTypedArray,v=u.exportTypedArrayMethod,g=r.Uint16Array,m=g&&i(g.prototype.sort),y=!!m&&!(o((function(){m(new g(2),null)}))&&o((function(){m(new g(2),{})}))),b=!!m&&!o((function(){if(h)return h<74;if(c)return c<67;if(l)return!0;if(f)return f<602;var e,t,n=new g(516),r=d(516);for(e=0;e<516;e++)t=e%4,n[e]=515-e,r[e]=e-2*t+3;for(m(n,(function(e,t){return(e/4|0)-(t/4|0)})),e=0;e<516;e++)if(n[e]!==r[e])return!0})),w=function(e){return function(t,n){return void 0!==e?+e(t,n)||0:n!==n?-1:t!==t?1:0===t&&0===n?1/t>0&&1/n<0?1:-1:t>n}};v("sort",(function(e){return void 0!==e&&a(e),b?m(this,e):s(p(this),w(e))}),!b||y)},6105:(e,t,n)=>{var r=n(6968);r("Uint8",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},71:(e,t,n)=>{var r=n(7358),i=n(4296),o=n(8753),a=n(6843),s=n(1904),u=n(854),c=u("iterator"),l=u("toStringTag"),h=a.values,f=function(e,t){if(e){if(e[c]!==h)try{s(e,c,h)}catch(r){e[c]=h}if(e[l]||s(e,l,t),i[t])for(var n in a)if(e[n]!==a[n])try{s(e,n,a[n])}catch(r){e[n]=a[n]}}};for(var d in i)f(r[d]&&r[d].prototype,d);f(o,"DOMTokenList")},6016:(e,t,n)=>{"use strict";n(6843);var r=n(8934),i=n(7358),o=n(9694),a=n(3577),s=n(1890),u=n(6595),c=n(298),l=n(9833),h=n(1061),f=n(5912),d=n(7624),p=n(2827),v=n(419),g=n(7322),m=n(422),y=n(5976),b=n(7950),w=n(776),_=n(4481),T=n(1074),S=n(5442),E=n(2151),I=n(7143),k=n(854),C=n(6534),x=k("iterator"),A="URLSearchParams",R=A+"Iterator",N=d.set,P=d.getterFor(A),O=d.getterFor(R),D=o("fetch"),L=o("Request"),M=o("Headers"),F=L&&L.prototype,q=M&&M.prototype,j=i.RegExp,U=i.TypeError,B=i.decodeURIComponent,V=i.encodeURIComponent,H=s("".charAt),G=s([].join),z=s([].push),K=s("".replace),$=s([].shift),W=s([].splice),J=s("".split),Z=s("".slice),Y=/\+/g,Q=Array(4),X=function(e){return Q[e-1]||(Q[e-1]=j("((?:%[\\da-f]{2}){"+e+"})","gi"))},ee=function(e){try{return B(e)}catch(t){return e}},te=function(e){var t=K(e,Y," "),n=4;try{return B(t)}catch(r){while(n)t=K(t,X(n--),ee);return t}},ne=/[!'()~]|%20/g,re={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},ie=function(e){return re[e]},oe=function(e){return K(V(e),ne,ie)},ae=function(e,t){if(t){var n,r,i=J(t,"&"),o=0;while(o<i.length)n=i[o++],n.length&&(r=J(n,"="),z(e,{key:te($(r)),value:te(G(r,"="))}))}},se=function(e){this.entries.length=0,ae(this.entries,e)},ue=function(e,t){if(e<t)throw U("Not enough arguments")},ce=f((function(e,t){N(this,{type:R,iterator:E(P(e).entries),kind:t})}),"Iterator",(function(){var e=O(this),t=e.kind,n=e.iterator.next(),r=n.value;return n.done||(n.value="keys"===t?r.key:"values"===t?r.value:[r.key,r.value]),n})),le=function(){p(this,he);var e,t,n,r,i,o,s,u,c,l=arguments.length>0?arguments[0]:void 0,h=this,f=[];if(N(h,{type:A,entries:f,updateURL:function(){},updateSearchParams:se}),void 0!==l)if(w(l))if(e=I(l),e){t=E(l,e),n=t.next;while(!(r=a(n,t)).done){if(i=E(b(r.value)),o=i.next,(s=a(o,i)).done||(u=a(o,i)).done||!a(o,i).done)throw U("Expected sequence with length 2");z(f,{key:_(s.value),value:_(u.value)})}}else for(c in l)g(l,c)&&z(f,{key:c,value:_(l[c])});else ae(f,"string"==typeof l?"?"===H(l,0)?Z(l,1):l:_(l))},he=le.prototype;if(l(he,{append:function(e,t){ue(arguments.length,2);var n=P(this);z(n.entries,{key:_(e),value:_(t)}),n.updateURL()},delete:function(e){ue(arguments.length,1);var t=P(this),n=t.entries,r=_(e),i=0;while(i<n.length)n[i].key===r?W(n,i,1):i++;t.updateURL()},get:function(e){ue(arguments.length,1);for(var t=P(this).entries,n=_(e),r=0;r<t.length;r++)if(t[r].key===n)return t[r].value;return null},getAll:function(e){ue(arguments.length,1);for(var t=P(this).entries,n=_(e),r=[],i=0;i<t.length;i++)t[i].key===n&&z(r,t[i].value);return r},has:function(e){ue(arguments.length,1);var t=P(this).entries,n=_(e),r=0;while(r<t.length)if(t[r++].key===n)return!0;return!1},set:function(e,t){ue(arguments.length,1);for(var n,r=P(this),i=r.entries,o=!1,a=_(e),s=_(t),u=0;u<i.length;u++)n=i[u],n.key===a&&(o?W(i,u--,1):(o=!0,n.value=s));o||z(i,{key:a,value:s}),r.updateURL()},sort:function(){var e=P(this);C(e.entries,(function(e,t){return e.key>t.key?1:-1})),e.updateURL()},forEach:function(e){var t,n=P(this).entries,r=m(e,arguments.length>1?arguments[1]:void 0),i=0;while(i<n.length)t=n[i++],r(t.value,t.key,this)},keys:function(){return new ce(this,"keys")},values:function(){return new ce(this,"values")},entries:function(){return new ce(this,"entries")}},{enumerable:!0}),c(he,x,he.entries,{name:"entries"}),c(he,"toString",(function(){var e,t=P(this).entries,n=[],r=0;while(r<t.length)e=t[r++],z(n,oe(e.key)+"="+oe(e.value));return G(n,"&")}),{enumerable:!0}),h(le,A),r({global:!0,forced:!u},{URLSearchParams:le}),!u&&v(M)){var fe=s(q.has),de=s(q.set),pe=function(e){if(w(e)){var t,n=e.body;if(y(n)===A)return t=e.headers?new M(e.headers):new M,fe(t,"content-type")||de(t,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),T(e,{body:S(0,_(n)),headers:S(0,t)})}return e};if(v(D)&&r({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return D(e,arguments.length>1?pe(arguments[1]):{})}}),v(L)){var ve=function(e){return p(this,F),new L(e,arguments.length>1?pe(arguments[1]):{})};F.constructor=ve,ve.prototype=F,r({global:!0,forced:!0},{Request:ve})}}e.exports={URLSearchParams:le,getState:P}},7965:(e,t,n)=>{"use strict";n(839);var r,i=n(8934),o=n(9631),a=n(6595),s=n(7358),u=n(422),c=n(3577),l=n(1890),h=n(3605),f=n(298),d=n(2827),p=n(7322),v=n(8439),g=n(2029),m=n(9017),y=n(1021).codeAt,b=n(5253),w=n(4481),_=n(1061),T=n(6016),S=n(7624),E=S.set,I=S.getterFor("URL"),k=T.URLSearchParams,C=T.getState,x=s.URL,A=s.TypeError,R=s.parseInt,N=Math.floor,P=Math.pow,O=l("".charAt),D=l(/./.exec),L=l([].join),M=l(1..toString),F=l([].pop),q=l([].push),j=l("".replace),U=l([].shift),B=l("".split),V=l("".slice),H=l("".toLowerCase),G=l([].unshift),z="Invalid authority",K="Invalid scheme",$="Invalid host",W="Invalid port",J=/[a-z]/i,Z=/[\d+-.a-z]/i,Y=/\d/,Q=/^0x/i,X=/^[0-7]+$/,ee=/^\d+$/,te=/^[\da-f]+$/i,ne=/[\0\t\n\r #%/:<>?@[\\\]^|]/,re=/[\0\t\n\r #/:<>?@[\\\]^|]/,ie=/^[\u0000-\u0020]+|[\u0000-\u0020]+$/g,oe=/[\t\n\r]/g,ae=function(e,t){var n,r,i;if("["==O(t,0)){if("]"!=O(t,t.length-1))return $;if(n=ue(V(t,1,-1)),!n)return $;e.host=n}else if(me(e)){if(t=b(t),D(ne,t))return $;if(n=se(t),null===n)return $;e.host=n}else{if(D(re,t))return $;for(n="",r=g(t),i=0;i<r.length;i++)n+=ve(r[i],he);e.host=n}},se=function(e){var t,n,r,i,o,a,s,u=B(e,".");if(u.length&&""==u[u.length-1]&&u.length--,t=u.length,t>4)return e;for(n=[],r=0;r<t;r++){if(i=u[r],""==i)return e;if(o=10,i.length>1&&"0"==O(i,0)&&(o=D(Q,i)?16:8,i=V(i,8==o?1:2)),""===i)a=0;else{if(!D(10==o?ee:8==o?X:te,i))return e;a=R(i,o)}q(n,a)}for(r=0;r<t;r++)if(a=n[r],r==t-1){if(a>=P(256,5-t))return null}else if(a>255)return null;for(s=F(n),r=0;r<n.length;r++)s+=n[r]*P(256,3-r);return s},ue=function(e){var t,n,r,i,o,a,s,u=[0,0,0,0,0,0,0,0],c=0,l=null,h=0,f=function(){return O(e,h)};if(":"==f()){if(":"!=O(e,1))return;h+=2,c++,l=c}while(f()){if(8==c)return;if(":"!=f()){t=n=0;while(n<4&&D(te,f()))t=16*t+R(f(),16),h++,n++;if("."==f()){if(0==n)return;if(h-=n,c>6)return;r=0;while(f()){if(i=null,r>0){if(!("."==f()&&r<4))return;h++}if(!D(Y,f()))return;while(D(Y,f())){if(o=R(f(),10),null===i)i=o;else{if(0==i)return;i=10*i+o}if(i>255)return;h++}u[c]=256*u[c]+i,r++,2!=r&&4!=r||c++}if(4!=r)return;break}if(":"==f()){if(h++,!f())return}else if(f())return;u[c++]=t}else{if(null!==l)return;h++,c++,l=c}}if(null!==l){a=c-l,c=7;while(0!=c&&a>0)s=u[c],u[c--]=u[l+a-1],u[l+--a]=s}else if(8!=c)return;return u},ce=function(e){for(var t=null,n=1,r=null,i=0,o=0;o<8;o++)0!==e[o]?(i>n&&(t=r,n=i),r=null,i=0):(null===r&&(r=o),++i);return i>n&&(t=r,n=i),t},le=function(e){var t,n,r,i;if("number"==typeof e){for(t=[],n=0;n<4;n++)G(t,e%256),e=N(e/256);return L(t,".")}if("object"==typeof e){for(t="",r=ce(e),n=0;n<8;n++)i&&0===e[n]||(i&&(i=!1),r===n?(t+=n?":":"::",i=!0):(t+=M(e[n],16),n<7&&(t+=":")));return"["+t+"]"}return e},he={},fe=v({},he,{" ":1,'"':1,"<":1,">":1,"`":1}),de=v({},fe,{"#":1,"?":1,"{":1,"}":1}),pe=v({},de,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),ve=function(e,t){var n=y(e,0);return n>32&&n<127&&!p(t,e)?e:encodeURIComponent(e)},ge={ftp:21,file:null,http:80,https:443,ws:80,wss:443},me=function(e){return p(ge,e.scheme)},ye=function(e){return""!=e.username||""!=e.password},be=function(e){return!e.host||e.cannotBeABaseURL||"file"==e.scheme},we=function(e,t){var n;return 2==e.length&&D(J,O(e,0))&&(":"==(n=O(e,1))||!t&&"|"==n)},_e=function(e){var t;return e.length>1&&we(V(e,0,2))&&(2==e.length||"/"===(t=O(e,2))||"\\"===t||"?"===t||"#"===t)},Te=function(e){var t=e.path,n=t.length;!n||"file"==e.scheme&&1==n&&we(t[0],!0)||t.length--},Se=function(e){return"."===e||"%2e"===H(e)},Ee=function(e){return e=H(e),".."===e||"%2e."===e||".%2e"===e||"%2e%2e"===e},Ie={},ke={},Ce={},xe={},Ae={},Re={},Ne={},Pe={},Oe={},De={},Le={},Me={},Fe={},qe={},je={},Ue={},Be={},Ve={},He={},Ge={},ze={},Ke=function(e,t,n,i){var o,a,s,u,c=n||Ie,l=0,h="",f=!1,d=!1,v=!1;n||(e.scheme="",e.username="",e.password="",e.host=null,e.port=null,e.path=[],e.query=null,e.fragment=null,e.cannotBeABaseURL=!1,t=j(t,ie,"")),t=j(t,oe,""),o=g(t);while(l<=o.length){switch(a=o[l],c){case Ie:if(!a||!D(J,a)){if(n)return K;c=Ce;continue}h+=H(a),c=ke;break;case ke:if(a&&(D(Z,a)||"+"==a||"-"==a||"."==a))h+=H(a);else{if(":"!=a){if(n)return K;h="",c=Ce,l=0;continue}if(n&&(me(e)!=p(ge,h)||"file"==h&&(ye(e)||null!==e.port)||"file"==e.scheme&&!e.host))return;if(e.scheme=h,n)return void(me(e)&&ge[e.scheme]==e.port&&(e.port=null));h="","file"==e.scheme?c=qe:me(e)&&i&&i.scheme==e.scheme?c=xe:me(e)?c=Pe:"/"==o[l+1]?(c=Ae,l++):(e.cannotBeABaseURL=!0,q(e.path,""),c=He)}break;case Ce:if(!i||i.cannotBeABaseURL&&"#"!=a)return K;if(i.cannotBeABaseURL&&"#"==a){e.scheme=i.scheme,e.path=m(i.path),e.query=i.query,e.fragment="",e.cannotBeABaseURL=!0,c=ze;break}c="file"==i.scheme?qe:Re;continue;case xe:if("/"!=a||"/"!=o[l+1]){c=Re;continue}c=Oe,l++;break;case Ae:if("/"==a){c=De;break}c=Ve;continue;case Re:if(e.scheme=i.scheme,a==r)e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=m(i.path),e.query=i.query;else if("/"==a||"\\"==a&&me(e))c=Ne;else if("?"==a)e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=m(i.path),e.query="",c=Ge;else{if("#"!=a){e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=m(i.path),e.path.length--,c=Ve;continue}e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=m(i.path),e.query=i.query,e.fragment="",c=ze}break;case Ne:if(!me(e)||"/"!=a&&"\\"!=a){if("/"!=a){e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,c=Ve;continue}c=De}else c=Oe;break;case Pe:if(c=Oe,"/"!=a||"/"!=O(h,l+1))continue;l++;break;case Oe:if("/"!=a&&"\\"!=a){c=De;continue}break;case De:if("@"==a){f&&(h="%40"+h),f=!0,s=g(h);for(var y=0;y<s.length;y++){var b=s[y];if(":"!=b||v){var w=ve(b,pe);v?e.password+=w:e.username+=w}else v=!0}h=""}else if(a==r||"/"==a||"?"==a||"#"==a||"\\"==a&&me(e)){if(f&&""==h)return z;l-=g(h).length+1,h="",c=Le}else h+=a;break;case Le:case Me:if(n&&"file"==e.scheme){c=Ue;continue}if(":"!=a||d){if(a==r||"/"==a||"?"==a||"#"==a||"\\"==a&&me(e)){if(me(e)&&""==h)return $;if(n&&""==h&&(ye(e)||null!==e.port))return;if(u=ae(e,h),u)return u;if(h="",c=Be,n)return;continue}"["==a?d=!0:"]"==a&&(d=!1),h+=a}else{if(""==h)return $;if(u=ae(e,h),u)return u;if(h="",c=Fe,n==Me)return}break;case Fe:if(!D(Y,a)){if(a==r||"/"==a||"?"==a||"#"==a||"\\"==a&&me(e)||n){if(""!=h){var _=R(h,10);if(_>65535)return W;e.port=me(e)&&_===ge[e.scheme]?null:_,h=""}if(n)return;c=Be;continue}return W}h+=a;break;case qe:if(e.scheme="file","/"==a||"\\"==a)c=je;else{if(!i||"file"!=i.scheme){c=Ve;continue}if(a==r)e.host=i.host,e.path=m(i.path),e.query=i.query;else if("?"==a)e.host=i.host,e.path=m(i.path),e.query="",c=Ge;else{if("#"!=a){_e(L(m(o,l),""))||(e.host=i.host,e.path=m(i.path),Te(e)),c=Ve;continue}e.host=i.host,e.path=m(i.path),e.query=i.query,e.fragment="",c=ze}}break;case je:if("/"==a||"\\"==a){c=Ue;break}i&&"file"==i.scheme&&!_e(L(m(o,l),""))&&(we(i.path[0],!0)?q(e.path,i.path[0]):e.host=i.host),c=Ve;continue;case Ue:if(a==r||"/"==a||"\\"==a||"?"==a||"#"==a){if(!n&&we(h))c=Ve;else if(""==h){if(e.host="",n)return;c=Be}else{if(u=ae(e,h),u)return u;if("localhost"==e.host&&(e.host=""),n)return;h="",c=Be}continue}h+=a;break;case Be:if(me(e)){if(c=Ve,"/"!=a&&"\\"!=a)continue}else if(n||"?"!=a)if(n||"#"!=a){if(a!=r&&(c=Ve,"/"!=a))continue}else e.fragment="",c=ze;else e.query="",c=Ge;break;case Ve:if(a==r||"/"==a||"\\"==a&&me(e)||!n&&("?"==a||"#"==a)){if(Ee(h)?(Te(e),"/"==a||"\\"==a&&me(e)||q(e.path,"")):Se(h)?"/"==a||"\\"==a&&me(e)||q(e.path,""):("file"==e.scheme&&!e.path.length&&we(h)&&(e.host&&(e.host=""),h=O(h,0)+":"),q(e.path,h)),h="","file"==e.scheme&&(a==r||"?"==a||"#"==a))while(e.path.length>1&&""===e.path[0])U(e.path);"?"==a?(e.query="",c=Ge):"#"==a&&(e.fragment="",c=ze)}else h+=ve(a,de);break;case He:"?"==a?(e.query="",c=Ge):"#"==a?(e.fragment="",c=ze):a!=r&&(e.path[0]+=ve(a,he));break;case Ge:n||"#"!=a?a!=r&&("'"==a&&me(e)?e.query+="%27":e.query+="#"==a?"%23":ve(a,he)):(e.fragment="",c=ze);break;case ze:a!=r&&(e.fragment+=ve(a,fe));break}l++}},$e=function(e){var t,n,r=d(this,We),i=arguments.length>1?arguments[1]:void 0,a=w(e),s=E(r,{type:"URL"});if(void 0!==i)try{t=I(i)}catch(h){if(n=Ke(t={},w(i)),n)throw A(n)}if(n=Ke(s,a,null,t),n)throw A(n);var u=s.searchParams=new k,l=C(u);l.updateSearchParams(s.query),l.updateURL=function(){s.query=w(u)||null},o||(r.href=c(Je,r),r.origin=c(Ze,r),r.protocol=c(Ye,r),r.username=c(Qe,r),r.password=c(Xe,r),r.host=c(et,r),r.hostname=c(tt,r),r.port=c(nt,r),r.pathname=c(rt,r),r.search=c(it,r),r.searchParams=c(ot,r),r.hash=c(at,r))},We=$e.prototype,Je=function(){var e=I(this),t=e.scheme,n=e.username,r=e.password,i=e.host,o=e.port,a=e.path,s=e.query,u=e.fragment,c=t+":";return null!==i?(c+="//",ye(e)&&(c+=n+(r?":"+r:"")+"@"),c+=le(i),null!==o&&(c+=":"+o)):"file"==t&&(c+="//"),c+=e.cannotBeABaseURL?a[0]:a.length?"/"+L(a,"/"):"",null!==s&&(c+="?"+s),null!==u&&(c+="#"+u),c},Ze=function(){var e=I(this),t=e.scheme,n=e.port;if("blob"==t)try{return new $e(t.path[0]).origin}catch(r){return"null"}return"file"!=t&&me(e)?t+"://"+le(e.host)+(null!==n?":"+n:""):"null"},Ye=function(){return I(this).scheme+":"},Qe=function(){return I(this).username},Xe=function(){return I(this).password},et=function(){var e=I(this),t=e.host,n=e.port;return null===t?"":null===n?le(t):le(t)+":"+n},tt=function(){var e=I(this).host;return null===e?"":le(e)},nt=function(){var e=I(this).port;return null===e?"":w(e)},rt=function(){var e=I(this),t=e.path;return e.cannotBeABaseURL?t[0]:t.length?"/"+L(t,"/"):""},it=function(){var e=I(this).query;return e?"?"+e:""},ot=function(){return I(this).searchParams},at=function(){var e=I(this).fragment;return e?"#"+e:""},st=function(e,t){return{get:e,set:t,configurable:!0,enumerable:!0}};if(o&&h(We,{href:st(Je,(function(e){var t=I(this),n=w(e),r=Ke(t,n);if(r)throw A(r);C(t.searchParams).updateSearchParams(t.query)})),origin:st(Ze),protocol:st(Ye,(function(e){var t=I(this);Ke(t,w(e)+":",Ie)})),username:st(Qe,(function(e){var t=I(this),n=g(w(e));if(!be(t)){t.username="";for(var r=0;r<n.length;r++)t.username+=ve(n[r],pe)}})),password:st(Xe,(function(e){var t=I(this),n=g(w(e));if(!be(t)){t.password="";for(var r=0;r<n.length;r++)t.password+=ve(n[r],pe)}})),host:st(et,(function(e){var t=I(this);t.cannotBeABaseURL||Ke(t,w(e),Le)})),hostname:st(tt,(function(e){var t=I(this);t.cannotBeABaseURL||Ke(t,w(e),Me)})),port:st(nt,(function(e){var t=I(this);be(t)||(e=w(e),""==e?t.port=null:Ke(t,e,Fe))})),pathname:st(rt,(function(e){var t=I(this);t.cannotBeABaseURL||(t.path=[],Ke(t,w(e),Be))})),search:st(it,(function(e){var t=I(this);e=w(e),""==e?t.query=null:("?"==O(e,0)&&(e=V(e,1)),t.query="",Ke(t,e,Ge)),C(t.searchParams).updateSearchParams(t.query)})),searchParams:st(ot),hash:st(at,(function(e){var t=I(this);e=w(e),""!=e?("#"==O(e,0)&&(e=V(e,1)),t.fragment="",Ke(t,e,ze)):t.fragment=null}))}),f(We,"toJSON",(function(){return c(Je,this)}),{enumerable:!0}),f(We,"toString",(function(){return c(Je,this)}),{enumerable:!0}),x){var ut=x.createObjectURL,ct=x.revokeObjectURL;ut&&f($e,"createObjectURL",u(ut,x)),ct&&f($e,"revokeObjectURL",u(ct,x))}_($e,"URL"),i({global:!0,forced:!a,sham:!o},{URL:$e})},5720:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r.Z});var r=n(8785),i="firebase",o="8.10.0";
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
r.Z.registerVersion(i,o,"app"),r.Z.SDK_VERSION=o},4479:(e,t,n)=>{"use strict";var r=n(8785);(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)};function i(e){e=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof n.g&&n.g,e];for(var t=0;t<e.length;++t){var r=e[t];if(r&&r.Math==Math)return r}return globalThis}var o=i(this);function a(e,n){if(n){var r=o;e=e.split(".");for(var i=0;i<e.length-1;i++){var a=e[i];a in r||(r[a]={}),r=r[a]}e=e[e.length-1],i=r[e],n=n(i),n!=i&&null!=n&&t(r,e,{configurable:!0,writable:!0,value:n})}}function s(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}function u(e){var t="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):{next:s(e)}}a("Promise",(function(e){function t(e){this.b=0,this.c=void 0,this.a=[];var t=this.f();try{e(t.resolve,t.reject)}catch(n){t.reject(n)}}function n(){this.a=null}function r(e){return e instanceof t?e:new t((function(t){t(e)}))}if(e)return e;n.prototype.b=function(e){if(null==this.a){this.a=[];var t=this;this.c((function(){t.g()}))}this.a.push(e)};var i=o.setTimeout;n.prototype.c=function(e){i(e,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var e=this.a;this.a=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(r){this.f(r)}}}this.a=null},n.prototype.f=function(e){this.c((function(){throw e}))},t.prototype.f=function(){function e(e){return function(r){n||(n=!0,e.call(t,r))}}var t=this,n=!1;return{resolve:e(this.m),reject:e(this.g)}},t.prototype.m=function(e){if(e===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.s(e);else{e:switch(typeof e){case"object":var n=null!=e;break e;case"function":n=!0;break e;default:n=!1}n?this.v(e):this.h(e)}},t.prototype.v=function(e){var t=void 0;try{t=e.then}catch(n){return void this.g(n)}"function"==typeof t?this.u(t,e):this.h(e)},t.prototype.g=function(e){this.i(2,e)},t.prototype.h=function(e){this.i(1,e)},t.prototype.i=function(e,t){if(0!=this.b)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.b);this.b=e,this.c=t,this.l()},t.prototype.l=function(){if(null!=this.a){for(var e=0;e<this.a.length;++e)a.b(this.a[e]);this.a=null}};var a=new n;return t.prototype.s=function(e){var t=this.f();e.Ra(t.resolve,t.reject)},t.prototype.u=function(e,t){var n=this.f();try{e.call(t,n.resolve,n.reject)}catch(r){n.reject(r)}},t.prototype.then=function(e,n){function r(e,t){return"function"==typeof e?function(t){try{i(e(t))}catch(n){o(n)}}:t}var i,o,a=new t((function(e,t){i=e,o=t}));return this.Ra(r(e,i),r(n,o)),a},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.Ra=function(e,t){function n(){switch(r.b){case 1:e(r.c);break;case 2:t(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?a.b(n):this.a.push(n)},t.resolve=r,t.reject=function(e){return new t((function(t,n){n(e)}))},t.race=function(e){return new t((function(t,n){for(var i=u(e),o=i.next();!o.done;o=i.next())r(o.value).Ra(t,n)}))},t.all=function(e){var n=u(e),i=n.next();return i.done?r([]):new t((function(e,t){function o(t){return function(n){a[t]=n,s--,0==s&&e(a)}}var a=[],s=0;do{a.push(void 0),s++,r(i.value).Ra(o(a.length-1),t),i=n.next()}while(!i.done)}))},t}));var c=c||{},l=this||self,h=/^[\w+/_-]+[=]{0,2}$/,f=null;function d(e){return(e=e.querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&h.test(e)?e:""}function p(){}function v(e){var t=typeof e;return"object"!=t?t:e?Array.isArray(e)?"array":t:"null"}function g(e){var t=v(e);return"array"==t||"object"==t&&"number"==typeof e.length}function m(e){return"function"==v(e)}function y(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function b(e){return Object.prototype.hasOwnProperty.call(e,w)&&e[w]||(e[w]=++_)}var w="closure_uid_"+(1e9*Math.random()>>>0),_=0;function T(e,t,n){return e.call.apply(e.bind,arguments)}function S(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function E(e,t,n){return E=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?T:S,E.apply(null,arguments)}function I(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}var k=Date.now;function C(e,t){function n(){}n.prototype=t.prototype,e.bb=t.prototype,e.prototype=new n,e.prototype.constructor=e}function x(e){return e}function A(e,t,n){this.code=P+e,this.message=t||O[e]||"",this.a=n||null}function R(e){var t=e&&e.code;return t?new A(t.substring(P.length),e.message,e.serverResponse):null}C(A,Error),A.prototype.w=function(){var e={code:this.code,message:this.message};return this.a&&(e.serverResponse=this.a),e},A.prototype.toJSON=function(){return this.w()};var N,P="auth/",O={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},D={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function L(e){for(var t in D)if(D[t].id===e)return e=D[t],{firebaseEndpoint:e.Ua,secureTokenEndpoint:e.$a,identityPlatformEndpoint:e.Xa};return null}function M(e){if(!e)return!1;try{return!!e.$goog_Thenable}catch(t){return!1}}function F(e){if(Error.captureStackTrace)Error.captureStackTrace(this,F);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e))}function q(e,t){e=e.split("%s");for(var n="",r=e.length-1,i=0;i<r;i++)n+=e[i]+(i<t.length?t[i]:"%s");F.call(this,n+e[r])}function j(e,t){throw new q("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))}function U(e,t){this.c=e,this.f=t,this.b=0,this.a=null}function B(e,t){e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}function V(){this.b=this.a=null}N=L("__EID__")?"__EID__":void 0,C(F,Error),F.prototype.name="CustomError",C(q,F),q.prototype.name="AssertionError",U.prototype.get=function(){if(0<this.b){this.b--;var e=this.a;this.a=e.next,e.next=null}else e=this.c();return e};var H=new U((function(){return new z}),(function(e){e.reset()}));function G(){var e=Nt,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function z(){this.next=this.b=this.a=null}V.prototype.add=function(e,t){var n=H.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},z.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},z.prototype.reset=function(){this.next=this.b=this.a=null};var K=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},$=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};function W(e,t){for(var n="string"===typeof e?e.split(""):e,r=e.length-1;0<=r;--r)r in n&&t.call(void 0,n[r],r,e)}var J=Array.prototype.filter?function(e,t){return Array.prototype.filter.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=[],i=0,o="string"===typeof e?e.split(""):e,a=0;a<n;a++)if(a in o){var s=o[a];t.call(void 0,s,a,e)&&(r[i++]=s)}return r},Z=Array.prototype.map?function(e,t){return Array.prototype.map.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=Array(n),i="string"===typeof e?e.split(""):e,o=0;o<n;o++)o in i&&(r[o]=t.call(void 0,i[o],o,e));return r},Y=Array.prototype.some?function(e,t){return Array.prototype.some.call(e,t,void 0)}:function(e,t){for(var n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e))return!0;return!1};function Q(e){e:{for(var t=os,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}function X(e,t){return 0<=K(e,t)}function ee(e,t){var n;return t=K(e,t),(n=0<=t)&&Array.prototype.splice.call(e,t,1),n}function te(e,t){W(e,(function(n,r){t.call(void 0,n,r,e)&&1==Array.prototype.splice.call(e,r,1).length&&0}))}function ne(e){return Array.prototype.concat.apply([],arguments)}function re(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}var ie,oe=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]},ae=/&/g,se=/</g,ue=/>/g,ce=/"/g,le=/'/g,he=/\x00/g,fe=/[\x00&<>"']/;function de(e,t){return-1!=e.indexOf(t)}function pe(e,t){return e<t?-1:e>t?1:0}e:{var ve=l.navigator;if(ve){var ge=ve.userAgent;if(ge){ie=ge;break e}}ie=""}function me(e){return de(ie,e)}function ye(e,t){for(var n in e)t.call(void 0,e[n],n,e)}function be(e){for(var t in e)return!1;return!0}function we(e){var t,n={};for(t in e)n[t]=e[t];return n}var _e="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Te(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(var o=0;o<_e.length;o++)n=_e[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Se(e,t){e:{try{var n=e&&e.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if(r=r||l,r.Element&&r.Location){var i=r;break e}}catch(a){}i=null}if(i&&"undefined"!=typeof i[t]&&(!e||!(e instanceof i[t])&&(e instanceof i.Location||e instanceof i.Element))){if(y(e))try{var o=e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e)}catch(a){o="<object could not be stringified>"}else o=void 0===e?"undefined":null===e?"null":typeof e;j("Argument is not a %s (or a non-Element, non-Location mock); got: %s",t,o)}}function Ee(e,t){this.a=e===xe&&t||"",this.b=Ce}function Ie(e){return e instanceof Ee&&e.constructor===Ee&&e.b===Ce?e.a:(j("expected object of type Const, got '"+e+"'"),"type_error:Const")}Ee.prototype.ta=!0,Ee.prototype.sa=function(){return this.a},Ee.prototype.toString=function(){return"Const{"+this.a+"}"};var ke,Ce={},xe={};function Ae(){if(void 0===ke){var e=null,t=l.trustedTypes;if(t&&t.createPolicy){try{e=t.createPolicy("goog#html",{createHTML:x,createScript:x,createScriptURL:x})}catch(n){l.console&&l.console.error(n.message)}ke=e}else ke=e}return ke}function Re(e,t){this.a=t===Le?e:""}function Ne(e){return e instanceof Re&&e.constructor===Re?e.a:(j("expected object of type TrustedResourceUrl, got '"+e+"' of type "+v(e)),"type_error:TrustedResourceUrl")}function Pe(e,t){var n=Ie(e);if(!De.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return e=n.replace(Oe,(function(e,r){if(!Object.prototype.hasOwnProperty.call(t,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(t));return e=t[r],e instanceof Ee?Ie(e):encodeURIComponent(String(e))})),Me(e)}Re.prototype.ta=!0,Re.prototype.sa=function(){return this.a.toString()},Re.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Oe=/%{(\w+)}/g,De=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Le={};function Me(e){var t=Ae();return e=t?t.createScriptURL(e):e,new Re(e,Le)}function Fe(e,t){this.a=t===Ge?e:""}function qe(e){return e instanceof Fe&&e.constructor===Fe?e.a:(j("expected object of type SafeUrl, got '"+e+"' of type "+v(e)),"type_error:SafeUrl")}Fe.prototype.ta=!0,Fe.prototype.sa=function(){return this.a.toString()},Fe.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var je=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,Ue=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Be=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Ve(e){if(e instanceof Fe)return e;if(e="object"==typeof e&&e.ta?e.sa():String(e),Be.test(e))e=new Fe(e,Ge);else{e=String(e),e=e.replace(/(%0A|%0D)/g,"");var t=e.match(Ue);e=t&&je.test(t[1])?new Fe(e,Ge):null}return e}function He(e){return e instanceof Fe?e:(e="object"==typeof e&&e.ta?e.sa():String(e),Be.test(e)||(e="about:invalid#zClosurez"),new Fe(e,Ge))}var Ge={},ze=new Fe("about:invalid#zClosurez",Ge);function Ke(e,t,n){this.a=n===We?e:""}function $e(e){return e instanceof Ke&&e.constructor===Ke?e.a:(j("expected object of type SafeHtml, got '"+e+"' of type "+v(e)),"type_error:SafeHtml")}Ke.prototype.ta=!0,Ke.prototype.sa=function(){return this.a.toString()},Ke.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var We={};function Je(e,t){Se(e,"HTMLScriptElement"),e.src=Ne(t),(t=e.ownerDocument&&e.ownerDocument.defaultView)&&t!=l?t=d(t.document):(null===f&&(f=d(l.document)),t=f),t&&e.setAttribute("nonce",t)}function Ze(e,t,n,r){return e=e instanceof Fe?e:He(e),t=t||l,n=n instanceof Ee?Ie(n):n||"",t.open(qe(e),n,r,void 0)}function Ye(e,t){for(var n=e.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function Qe(e){return fe.test(e)&&(-1!=e.indexOf("&")&&(e=e.replace(ae,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(se,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(ue,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(ce,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(le,"&#39;")),-1!=e.indexOf("\0")&&(e=e.replace(he,"&#0;"))),e}function Xe(e){return Xe[" "](e),e}function et(e,t){var n=dt;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}Xe[" "]=p;var tt,nt=me("Opera"),rt=me("Trident")||me("MSIE"),it=me("Edge"),ot=it||rt,at=me("Gecko")&&!(de(ie.toLowerCase(),"webkit")&&!me("Edge"))&&!(me("Trident")||me("MSIE"))&&!me("Edge"),st=de(ie.toLowerCase(),"webkit")&&!me("Edge");function ut(){var e=l.document;return e?e.documentMode:void 0}e:{var ct="",lt=function(){var e=ie;return at?/rv:([^\);]+)(\)|;)/.exec(e):it?/Edge\/([\d\.]+)/.exec(e):rt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):st?/WebKit\/(\S+)/.exec(e):nt?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(lt&&(ct=lt?lt[1]:""),rt){var ht=ut();if(null!=ht&&ht>parseFloat(ct)){tt=String(ht);break e}}tt=ct}var ft,dt={};function pt(e){return et(e,(function(){for(var t=0,n=oe(String(tt)).split("."),r=oe(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;t=pe(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||pe(0==a[2].length,0==s[2].length)||pe(a[2],s[2]),a=a[3],s=s[3]}while(0==t)}return 0<=t}))}if(l.document&&rt){var vt=ut();ft=vt||(parseInt(tt,10)||void 0)}else ft=void 0;var gt=ft;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(ep){}var mt=!rt||9<=Number(gt);function yt(e){var t=document;return"string"===typeof e?t.getElementById(e):e}function bt(e,t){ye(t,(function(t,n){t&&"object"==typeof t&&t.ta&&(t=t.sa()),"style"==n?e.style.cssText=t:"class"==n?e.className=t:"for"==n?e.htmlFor=t:Tt.hasOwnProperty(n)?e.setAttribute(Tt[n],t):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?e.setAttribute(n,t):e[n]=t}))}var wt,_t,Tt={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function St(e,t,n){var r=arguments,i=document,o=String(r[0]),a=r[1];if(!mt&&a&&(a.name||a.type)){if(o=["<",o],a.name&&o.push(' name="',Qe(a.name),'"'),a.type){o.push(' type="',Qe(a.type),'"');var s={};Te(s,a),delete s.type,a=s}o.push(">"),o=o.join("")}return o=It(i,o),a&&("string"===typeof a?o.className=a:Array.isArray(a)?o.className=a.join(" "):bt(o,a)),2<r.length&&Et(i,o,r),o}function Et(e,t,n){function r(n){n&&t.appendChild("string"===typeof n?e.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!g(o)||y(o)&&0<o.nodeType)r(o);else{e:{if(o&&"number"==typeof o.length){if(y(o)){var a="function"==typeof o.item||"string"==typeof o.item;break e}if(m(o)){a="function"==typeof o.item;break e}}a=!1}$(a?re(o):o,r)}}}function It(e,t){return t=String(t),"application/xhtml+xml"===e.contentType&&(t=t.toLowerCase()),e.createElement(t)}function kt(e){l.setTimeout((function(){throw e}),0)}function Ct(){var e=l.MessageChannel;if("undefined"===typeof e&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!me("Presto")&&(e=function(){var e=It(document,"IFRAME");e.style.display="none",document.documentElement.appendChild(e);var t=e.contentWindow;e=t.document,e.open(),e.close();var n="callImmediate"+Math.random(),r="file:"==t.location.protocol?"*":t.location.protocol+"//"+t.location.host;e=E((function(e){"*"!=r&&e.origin!=r||e.data!=n||this.port1.onmessage()}),this),t.addEventListener("message",e,!1),this.port1={},this.port2={postMessage:function(){t.postMessage(n,r)}}}),"undefined"!==typeof e&&!me("Trident")&&!me("MSIE")){var t=new e,n={},r=n;return t.port1.onmessage=function(){if(void 0!==n.next){n=n.next;var e=n.Hb;n.Hb=null,e()}},function(e){r.next={Hb:e},r=r.next,t.port2.postMessage(0)}}return function(e){l.setTimeout(e,0)}}function xt(e,t){_t||At(),Rt||(_t(),Rt=!0),Nt.add(e,t)}function At(){if(l.Promise&&l.Promise.resolve){var e=l.Promise.resolve(void 0);_t=function(){e.then(Pt)}}else _t=function(){var e=Pt;!m(l.setImmediate)||l.Window&&l.Window.prototype&&!me("Edge")&&l.Window.prototype.setImmediate==l.setImmediate?(wt||(wt=Ct()),wt(e)):l.setImmediate(e)}}var Rt=!1,Nt=new V;function Pt(){for(var e;e=G();){try{e.a.call(e.b)}catch(t){kt(t)}B(H,e)}Rt=!1}function Ot(e,t){if(this.a=Dt,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,e!=p)try{var n=this;e.call(t,(function(e){Wt(n,Lt,e)}),(function(e){if(!(e instanceof rn))try{if(e instanceof Error)throw e;throw Error("Promise rejected.")}catch(t){}Wt(n,Mt,e)}))}catch(r){Wt(this,Mt,r)}}var Dt=0,Lt=2,Mt=3;function Ft(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Ft.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var qt=new U((function(){return new Ft}),(function(e){e.reset()}));function jt(e,t,n){var r=qt.get();return r.g=e,r.b=t,r.f=n,r}function Ut(e){if(e instanceof Ot)return e;var t=new Ot(p);return Wt(t,Lt,e),t}function Bt(e){return new Ot((function(t,n){n(e)}))}function Vt(e,t,n){Jt(e,t,n,null)||xt(I(t,e))}function Ht(e){return new Ot((function(t,n){var r=e.length,i=[];if(r)for(var o,a=function(e,n){r--,i[e]=n,0==r&&t(i)},s=function(e){n(e)},u=0;u<e.length;u++)o=e[u],Vt(o,I(a,u),s);else t(i)}))}function Gt(e){return new Ot((function(t){var n=e.length,r=[];if(n)for(var i,o=function(e,i,o){n--,r[e]=i?{Qb:!0,value:o}:{Qb:!1,reason:o},0==n&&t(r)},a=0;a<e.length;a++)i=e[a],Vt(i,I(o,a,!0),I(o,a,!1));else t(r)}))}function zt(e,t){if(e.a==Dt)if(e.c){var n=e.c;if(n.b){for(var r=0,i=null,o=null,a=n.b;a&&(a.c||(r++,a.a==e&&(i=a),!(i&&1<r)));a=a.next)i||(o=a);i&&(n.a==Dt&&1==r?zt(n,t):(o?(r=o,r.next==n.f&&(n.f=r),r.next=r.next.next):Qt(n),Xt(n,i,Mt,t)))}e.c=null}else Wt(e,Mt,t)}function Kt(e,t){e.b||e.a!=Lt&&e.a!=Mt||Yt(e),e.f?e.f.next=t:e.b=t,e.f=t}function $t(e,t,n,r){var i=jt(null,null,null);return i.a=new Ot((function(e,o){i.g=t?function(n){try{var i=t.call(r,n);e(i)}catch(a){o(a)}}:e,i.b=n?function(t){try{var i=n.call(r,t);void 0===i&&t instanceof rn?o(t):e(i)}catch(a){o(a)}}:o})),i.a.c=e,Kt(e,i),i.a}function Wt(e,t,n){e.a==Dt&&(e===n&&(t=Mt,n=new TypeError("Promise cannot resolve to itself")),e.a=1,Jt(n,e.$c,e.ad,e)||(e.i=n,e.a=t,e.c=null,Yt(e),t!=Mt||n instanceof rn||tn(e,n)))}function Jt(e,t,n,r){if(e instanceof Ot)return Kt(e,jt(t||p,n||null,r)),!0;if(M(e))return e.then(t,n,r),!0;if(y(e))try{var i=e.then;if(m(i))return Zt(e,i,t,n,r),!0}catch(o){return n.call(r,o),!0}return!1}function Zt(e,t,n,r,i){function o(e){s||(s=!0,r.call(i,e))}function a(e){s||(s=!0,n.call(i,e))}var s=!1;try{t.call(e,a,o)}catch(u){o(u)}}function Yt(e){e.h||(e.h=!0,xt(e.gc,e))}function Qt(e){var t=null;return e.b&&(t=e.b,e.b=t.next,t.next=null),e.b||(e.f=null),t}function Xt(e,t,n,r){if(n==Mt&&t.b&&!t.c)for(;e&&e.g;e=e.c)e.g=!1;if(t.a)t.a.c=null,en(t,n,r);else try{t.c?t.g.call(t.f):en(t,n,r)}catch(i){nn.call(null,i)}B(qt,t)}function en(e,t,n){t==Lt?e.g.call(e.f,n):e.b&&e.b.call(e.f,n)}function tn(e,t){e.g=!0,xt((function(){e.g&&nn.call(null,t)}))}Ot.prototype.then=function(e,t,n){return $t(this,m(e)?e:null,m(t)?t:null,n)},Ot.prototype.$goog_Thenable=!0,e=Ot.prototype,e.oa=function(e,t){return e=jt(e,e,t),e.c=!0,Kt(this,e),this},e.o=function(e,t){return $t(this,null,e,t)},e.cancel=function(e){if(this.a==Dt){var t=new rn(e);xt((function(){zt(this,t)}),this)}},e.$c=function(e){this.a=Dt,Wt(this,Lt,e)},e.ad=function(e){this.a=Dt,Wt(this,Mt,e)},e.gc=function(){for(var e;e=Qt(this);)Xt(this,e,this.a,this.i);this.h=!1};var nn=kt;function rn(e){F.call(this,e)}function on(){0!=an&&(sn[b(this)]=this),this.ya=this.ya,this.pa=this.pa}C(rn,F),rn.prototype.name="cancel";var an=0,sn={};function un(e){if(!e.ya&&(e.ya=!0,e.Da(),0!=an)){var t=b(e);if(0!=an&&e.pa&&0<e.pa.length)throw Error(e+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete sn[t]}}on.prototype.ya=!1,on.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var cn=Object.freeze||function(e){return e},ln=!rt||9<=Number(gt),hn=rt&&!pt("9"),fn=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{l.addEventListener("test",p,t),l.removeEventListener("test",p,t)}catch(n){}return e}();function dn(e,t){this.type=e,this.b=this.target=t,this.defaultPrevented=!1}function pn(e,t){if(dn.call(this,e?e.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.b=t,t=e.relatedTarget){if(at){e:{try{Xe(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:vn[e.pointerType]||"",this.a=e,e.defaultPrevented&&this.preventDefault()}}dn.prototype.preventDefault=function(){this.defaultPrevented=!0},C(pn,dn);var vn=cn({2:"touch",3:"pen",4:"mouse"});pn.prototype.preventDefault=function(){pn.bb.preventDefault.call(this);var e=this.a;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,hn)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(t){}},pn.prototype.g=function(){return this.a};var gn="closure_listenable_"+(1e6*Math.random()|0),mn=0;function yn(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.Wa=i,this.key=++mn,this.wa=this.Qa=!1}function bn(e){e.wa=!0,e.listener=null,e.proxy=null,e.src=null,e.Wa=null}function wn(e){this.src=e,this.a={},this.b=0}function _n(e,t){var n=t.type;n in e.a&&ee(e.a[n],t)&&(bn(t),0==e.a[n].length&&(delete e.a[n],e.b--))}function Tn(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.wa&&o.listener==t&&o.capture==!!n&&o.Wa==r)return i}return-1}wn.prototype.add=function(e,t,n,r,i){var o=e.toString();e=this.a[o],e||(e=this.a[o]=[],this.b++);var a=Tn(e,t,r,i);return-1<a?(t=e[a],n||(t.Qa=!1)):(t=new yn(t,this.src,o,!!r,i),t.Qa=n,e.push(t)),t};var Sn="closure_lm_"+(1e6*Math.random()|0),En={};function In(e,t,n,r,i){if(r&&r.once)xn(e,t,n,r,i);else if(Array.isArray(t))for(var o=0;o<t.length;o++)In(e,t[o],n,r,i);else n=Fn(n),e&&e[gn]?jn(e,t,n,y(r)?!!r.capture:!!r,i):kn(e,t,n,!1,r,i)}function kn(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=y(i)?!!i.capture:!!i,s=Ln(e);if(s||(e[Sn]=s=new wn(e)),n=s.add(t,n,r,a,o),!n.proxy){if(r=Cn(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)fn||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Nn(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}0}}function Cn(){var e=Dn,t=ln?function(n){return e.call(t.src,t.listener,n)}:function(n){if(n=e.call(t.src,t.listener,n),!n)return n};return t}function xn(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)xn(e,t[o],n,r,i);else n=Fn(n),e&&e[gn]?Un(e,t,n,y(r)?!!r.capture:!!r,i):kn(e,t,n,!0,r,i)}function An(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)An(e,t[o],n,r,i);else r=y(r)?!!r.capture:!!r,n=Fn(n),e&&e[gn]?(e=e.v,t=String(t).toString(),t in e.a&&(o=e.a[t],n=Tn(o,n,r,i),-1<n&&(bn(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.a[t],e.b--)))):e&&(e=Ln(e))&&(t=e.a[t.toString()],e=-1,t&&(e=Tn(t,n,r,i)),(n=-1<e?t[e]:null)&&Rn(n))}function Rn(e){if("number"!==typeof e&&e&&!e.wa){var t=e.src;if(t&&t[gn])_n(t.v,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Nn(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Ln(t))?(_n(n,e),0==n.b&&(n.src=null,t[Sn]=null)):bn(e)}}}function Nn(e){return e in En?En[e]:En[e]="on"+e}function Pn(e,t,n,r){var i=!0;if((e=Ln(e))&&(t=e.a[t.toString()]))for(t=t.concat(),e=0;e<t.length;e++){var o=t[e];o&&o.capture==n&&!o.wa&&(o=On(o,r),i=i&&!1!==o)}return i}function On(e,t){var n=e.listener,r=e.Wa||e.src;return e.Qa&&Rn(e),n.call(r,t)}function Dn(e,t){if(e.wa)return!0;if(!ln){if(!t)e:{t=["window","event"];for(var n=l,r=0;r<t.length;r++)if(n=n[t[r]],null==n){t=null;break e}t=n}if(r=t,t=new pn(r,this),n=!0,!(0>r.keyCode||void 0!=r.returnValue)){e:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break e}catch(a){i=!0}(i||void 0==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=t.b;i;i=i.parentNode)r.push(i);for(e=e.type,i=r.length-1;0<=i;i--){t.b=r[i];var o=Pn(r[i],e,!0,t);n=n&&o}for(i=0;i<r.length;i++)t.b=r[i],o=Pn(r[i],e,!1,t),n=n&&o}return n}return On(e,new pn(t,this))}function Ln(e){return e=e[Sn],e instanceof wn?e:null}var Mn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Fn(e){return m(e)?e:(e[Mn]||(e[Mn]=function(t){return e.handleEvent(t)}),e[Mn])}function qn(){on.call(this),this.v=new wn(this),this.bc=this,this.hb=null}function jn(e,t,n,r,i){e.v.add(String(t),n,!1,r,i)}function Un(e,t,n,r,i){e.v.add(String(t),n,!0,r,i)}function Bn(e,t,n,r){if(t=e.v.a[String(t)],!t)return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.wa&&a.capture==n){var s=a.listener,u=a.Wa||a.src;a.Qa&&_n(e.v,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}function Vn(e,t,n){if(m(e))n&&(e=E(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=E(e.handleEvent,e)}return 2147483647<Number(t)?-1:l.setTimeout(e,t||0)}function Hn(e){var t=null;return new Ot((function(n,r){t=Vn((function(){n(void 0)}),e),-1==t&&r(Error("Failed to schedule timer."))})).o((function(e){throw l.clearTimeout(t),e}))}function Gn(e){if(e.X&&"function"==typeof e.X)return e.X();if("string"===typeof e)return e.split("");if(g(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}function zn(e){if(e.Y&&"function"==typeof e.Y)return e.Y();if(!e.X||"function"!=typeof e.X){if(g(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}function Kn(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(g(e)||"string"===typeof e)$(e,t,void 0);else for(var n=zn(e),r=Gn(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}function $n(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof $n)for(n=e.Y(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Wn(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];Jn(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)r=e.a[t],Jn(i,r)||(e.a[n++]=r,i[r]=1),t++;e.a.length=n}}function Jn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}C(qn,on),qn.prototype[gn]=!0,qn.prototype.addEventListener=function(e,t,n,r){In(this,e,t,n,r)},qn.prototype.removeEventListener=function(e,t,n,r){An(this,e,t,n,r)},qn.prototype.dispatchEvent=function(e){var t,n=this.hb;if(n)for(t=[];n;n=n.hb)t.push(n);n=this.bc;var r=e.type||e;if("string"===typeof e)e=new dn(e,n);else if(e instanceof dn)e.target=e.target||n;else{var i=e;e=new dn(r,n),Te(e,i)}if(i=!0,t)for(var o=t.length-1;0<=o;o--){var a=e.b=t[o];i=Bn(a,r,!0,e)&&i}if(a=e.b=n,i=Bn(a,r,!0,e)&&i,i=Bn(a,r,!1,e)&&i,t)for(o=0;o<t.length;o++)a=e.b=t[o],i=Bn(a,r,!1,e)&&i;return i},qn.prototype.Da=function(){if(qn.bb.Da.call(this),this.v){var e,t=this.v;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)bn(n[r]);delete t.a[e],t.b--}}this.hb=null},e=$n.prototype,e.X=function(){Wn(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},e.Y=function(){return Wn(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0},e.get=function(e,t){return Jn(this.b,e)?this.b[e]:t},e.set=function(e,t){Jn(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},e.forEach=function(e,t){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var Zn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Yn(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Qn(e,t){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,e instanceof Qn?(this.i=void 0!==t?t:e.i,Xn(this,e.c),this.l=e.l,this.a=e.a,er(this,e.g),this.f=e.f,tr(this,wr(e.b)),this.h=e.h):e&&(n=String(e).match(Zn))?(this.i=!!t,Xn(this,n[1]||"",!0),this.l=ar(n[2]||""),this.a=ar(n[3]||"",!0),er(this,n[4]),this.f=ar(n[5]||"",!0),tr(this,n[6]||"",!0),this.h=ar(n[7]||"")):(this.i=!!t,this.b=new pr(null,this.i))}function Xn(e,t,n){e.c=n?ar(t,!0):t,e.c&&(e.c=e.c.replace(/:$/,""))}function er(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.g=t}else e.g=null}function tr(e,t,n){t instanceof pr?(e.b=t,Tr(e.b,e.i)):(n||(t=sr(t,fr)),e.b=new pr(t,e.i))}function nr(e,t,n){e.b.set(t,n)}function rr(e,t){return e.b.get(t)}function ir(e){return e instanceof Qn?new Qn(e):new Qn(e,void 0)}function or(e,t,n,r){var i=new Qn(null,void 0);return e&&Xn(i,e),t&&(i.a=t),n&&er(i,n),r&&(i.f=r),i}function ar(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function sr(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,ur),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function ur(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(15&e).toString(16)}Qn.prototype.toString=function(){var e=[],t=this.c;t&&e.push(sr(t,cr,!0),":");var n=this.a;return(n||"file"==t)&&(e.push("//"),(t=this.l)&&e.push(sr(t,cr,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.g,null!=n&&e.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&e.push("/"),e.push(sr(n,"/"==n.charAt(0)?hr:lr,!0))),(n=this.b.toString())&&e.push("?",n),(n=this.h)&&e.push("#",sr(n,dr)),e.join("")},Qn.prototype.resolve=function(e){var t=new Qn(this),n=!!e.c;n?Xn(t,e.c):n=!!e.l,n?t.l=e.l:n=!!e.a,n?t.a=e.a:n=null!=e.g;var r=e.f;if(n)er(t,e.g);else if(n=!!e.f){if("/"!=r.charAt(0))if(this.a&&!this.f)r="/"+r;else{var i=t.f.lastIndexOf("/");-1!=i&&(r=t.f.substr(0,i+1)+r)}if(i=r,".."==i||"."==i)r="";else if(de(i,"./")||de(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?t.f=r:n=""!==e.b.toString(),n?tr(t,wr(e.b)):n=!!e.h,n&&(t.h=e.h),t};var cr=/[#\/\?@]/g,lr=/[#\?:]/g,hr=/[#\?]/g,fr=/[#\?@]/g,dr=/#/g;function pr(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function vr(e){e.a||(e.a=new $n,e.b=0,e.c&&Yn(e.c,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function gr(e){var t=zn(e);if("undefined"==typeof t)throw Error("Keys are undefined");var n=new pr(null,void 0);e=Gn(e);for(var r=0;r<t.length;r++){var i=t[r],o=e[r];Array.isArray(o)?br(n,i,o):n.add(i,o)}return n}function mr(e,t){vr(e),t=_r(e,t),Jn(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,e=e.a,Jn(e.b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&Wn(e)))}function yr(e,t){return vr(e),t=_r(e,t),Jn(e.a.b,t)}function br(e,t,n){mr(e,t),0<n.length&&(e.c=null,e.a.set(_r(e,t),re(n)),e.b+=n.length)}function wr(e){var t=new pr;return t.c=e.c,e.a&&(t.a=new $n(e.a),t.b=e.b),t}function _r(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}function Tr(e,t){t&&!e.f&&(vr(e),e.c=null,e.a.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(mr(this,t),br(this,n,e))}),e)),e.f=t}function Sr(e){var t=[];return Ir(new Er,e,t),t.join("")}function Er(){}function Ir(e,t,n){if(null==t)n.push("null");else{if("object"==typeof t){if(Array.isArray(t)){var r=t;t=r.length,n.push("[");for(var i="",o=0;o<t;o++)n.push(i),Ir(e,r[o],n),i=",";return void n.push("]")}if(!(t instanceof String||t instanceof Number||t instanceof Boolean)){for(r in n.push("{"),i="",t)Object.prototype.hasOwnProperty.call(t,r)&&(o=t[r],"function"!=typeof o&&(n.push(i),xr(r,n),n.push(":"),Ir(e,o,n),i=","));return void n.push("}")}t=t.valueOf()}switch(typeof t){case"string":xr(t,n);break;case"number":n.push(isFinite(t)&&!isNaN(t)?String(t):"null");break;case"boolean":n.push(String(t));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof t)}}}e=pr.prototype,e.add=function(e,t){vr(this),this.c=null,e=_r(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},e.clear=function(){this.a=this.c=null,this.b=0},e.forEach=function(e,t){vr(this),this.a.forEach((function(n,r){$(n,(function(n){e.call(t,n,r,this)}),this)}),this)},e.Y=function(){vr(this);for(var e=this.a.X(),t=this.a.Y(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},e.X=function(e){vr(this);var t=[];if("string"===typeof e)yr(this,e)&&(t=ne(t,this.a.get(_r(this,e))));else{e=this.a.X();for(var n=0;n<e.length;n++)t=ne(t,e[n])}return t},e.set=function(e,t){return vr(this),this.c=null,e=_r(this,e),yr(this,e)&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},e.get=function(e,t){return e?(e=this.X(e),0<e.length?String(e[0]):t):t},e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.Y(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.X(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.c=e.join("&")};var kr={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},Cr=/\uffff/.test("")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function xr(e,t){t.push('"',e.replace(Cr,(function(e){var t=kr[e];return t||(t="\\u"+(65536|e.charCodeAt(0)).toString(16).substr(1),kr[e]=t),t})),'"')}function Ar(){var e=Xr();return rt&&!!gt&&11==gt||/Edge\/\d+/.test(e)}function Rr(){return l.window&&l.window.location.href||self&&self.location&&self.location.href||""}function Nr(e,t){t=t||l.window;var n="about:blank";e&&(n=qe(Ve(e)||ze)),t.location.href=n}function Pr(e,t){var n,r=[];for(n in e)n in t?typeof e[n]!=typeof t[n]?r.push(n):"object"==typeof e[n]&&null!=e[n]&&null!=t[n]?0<Pr(e[n],t[n]).length&&r.push(n):e[n]!==t[n]&&r.push(n):r.push(n);for(n in t)n in e||r.push(n);return r}function Or(){var e=Xr();return e=Zr(e)!=Jr?null:(e=e.match(/\sChrome\/(\d+)/i))&&2==e.length?parseInt(e[1],10):null,!(e&&30>e)&&(!rt||!gt||9<gt)}function Dr(e){return e=(e||Xr()).toLowerCase(),!!(e.match(/android/)||e.match(/webos/)||e.match(/iphone|ipad|ipod/)||e.match(/blackberry/)||e.match(/windows phone/)||e.match(/iemobile/))}function Lr(e){e=e||l.window;try{e.close()}catch(t){}}function Mr(e,t,n){var r=Math.floor(1e9*Math.random()).toString();t=t||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-t)/2;for(a in t={width:t,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Xr().toLowerCase(),r&&(t.target=r,de(n,"crios/")&&(t.target="_blank")),Zr(Xr())==Wr&&(e=e||"http://localhost",t.scrollbars=!0),n=e||"",(e=t)||(e={}),r=window,t=n instanceof Fe?n:Ve("undefined"!=typeof n.href?n.href:String(n))||ze,n=e.target||n.target,i=[],e)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+e[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(e[a]?1:0))}var a=i.join(",");if((me("iPhone")&&!me("iPod")&&!me("iPad")||me("iPad")||me("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(a=It(document,"A"),Se(a,"HTMLAnchorElement"),t=t instanceof Fe?t:He(t),a.href=qe(t),a.setAttribute("target",n),e.noreferrer&&a.setAttribute("rel","noreferrer"),e=document.createEvent("MouseEvent"),e.initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(e),a={}):e.noreferrer?(a=Ze("",r,n,a),e=qe(t),a&&(ot&&de(e,";")&&(e="'"+e.replace(/'/g,"%27")+"'"),a.opener=null,e='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Qe(e)+'">',e=(r=Ae())?r.createHTML(e):e,e=new Ke(e,null,We),r=a.document)&&(r.write($e(e)),r.close())):(a=Ze(t,r,n,a))&&e.noopener&&(a.opener=null),a)try{a.focus()}catch(s){}return a}function Fr(e){return new Ot((function(t){function n(){Hn(2e3).then((function(){if(e&&!e.closed)return n();t()}))}return n()}))}var qr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,jr=/^[^@]+@[^@]+$/;function Ur(){var e=null;return new Ot((function(t){"complete"==l.document.readyState?t():(e=function(){t()},xn(window,"load",e))})).o((function(t){throw An(window,"load",e),t}))}function Br(){return Vr(void 0)?Ur().then((function(){return new Ot((function(e,t){var n=l.document,r=setTimeout((function(){t(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),e()}),!1)}))})):Bt(Error("Cordova must run in an Android or iOS file scheme."))}function Vr(e){return e=e||Xr(),!("file:"!==ii()&&"ionic:"!==ii()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Hr(){var e=l.window;try{return!(!e||e==e.top)}catch(t){return!1}}function Gr(){return"undefined"!==typeof l.WorkerGlobalScope&&"function"===typeof l.importScripts}function zr(){return r.Z.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":r.Z.INTERNAL.hasOwnProperty("node")?"Node":Gr()?"Worker":"Browser"}function Kr(){var e=zr();return"ReactNative"===e||"Node"===e}function $r(){for(var e=50,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}var Wr="Firefox",Jr="Chrome";function Zr(e){var t=e.toLowerCase();return de(t,"opera/")||de(t,"opr/")||de(t,"opios/")?"Opera":de(t,"iemobile")?"IEMobile":de(t,"msie")||de(t,"trident/")?"IE":de(t,"edge/")?"Edge":de(t,"firefox/")?Wr:de(t,"silk/")?"Silk":de(t,"blackberry")?"Blackberry":de(t,"webos")?"Webos":!de(t,"safari/")||de(t,"chrome/")||de(t,"crios/")||de(t,"android")?!de(t,"chrome/")&&!de(t,"crios/")||de(t,"edge/")?de(t,"android")?"Android":(e=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==e.length?e[1]:"Other":Jr:"Safari"}var Yr={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Qr(e,t){t=t||[];var n,r=[],i={};for(n in Yr)i[Yr[n]]=!0;for(n=0;n<t.length;n++)"undefined"!==typeof i[t[n]]&&(delete i[t[n]],r.push(t[n]));return r.sort(),t=r,t.length||(t=["FirebaseCore-web"]),r=zr(),"Browser"===r?(i=Xr(),r=Zr(i)):"Worker"===r&&(i=Xr(),r=Zr(i)+"-"+r),r+"/JsCore/"+e+"/"+t.join(",")}function Xr(){return l.navigator&&l.navigator.userAgent||""}function ei(e,t){e=e.split("."),t=t||l;for(var n=0;n<e.length&&"object"==typeof t&&null!=t;n++)t=t[e[n]];return n!=e.length&&(t=void 0),t}function ti(){try{var e=l.localStorage,t=ci();if(e)return e.setItem(t,"1"),e.removeItem(t),!Ar()||!!l.indexedDB}catch(n){return Gr()&&!!l.indexedDB}return!1}function ni(){return(ri()||"chrome-extension:"===ii()||Vr())&&!Kr()&&ti()&&!Gr()}function ri(){return"http:"===ii()||"https:"===ii()}function ii(){return l.location&&l.location.protocol||null}function oi(e){return e=e||Xr(),!Dr(e)&&Zr(e)!=Wr}function ai(e){return"undefined"===typeof e?null:Sr(e)}function si(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&null!==e[t]&&void 0!==e[t]&&(n[t]=e[t]);return n}function ui(e){if(null!==e)return JSON.parse(e)}function ci(e){return e||Math.floor(1e9*Math.random()).toString()}function li(e){return e=e||Xr(),"Safari"!=Zr(e)&&!e.toLowerCase().match(/iphone|ipad|ipod/)}function hi(){var e=l.___jsl;if(e&&e.H)for(var t in e.H)if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=e.H[t].L.concat(),e.CP)for(var n=0;n<e.CP.length;n++)e.CP[n]=null}function fi(e,t){if(e>t)throw Error("Short delay should be less than long delay!");this.a=e,this.c=t,e=Xr(),t=zr(),this.b=Dr(e)||"ReactNative"===t}function di(){var e=l.document;return!e||"undefined"===typeof e.visibilityState||"visible"==e.visibilityState}function pi(){var e=l.document,t=null;return di()||!e?Ut():new Ot((function(n){t=function(){di()&&(e.removeEventListener("visibilitychange",t,!1),n())},e.addEventListener("visibilitychange",t,!1)})).o((function(n){throw e.removeEventListener("visibilitychange",t,!1),n}))}function vi(e){try{var t=new Date(parseInt(e,10));if(!isNaN(t.getTime())&&!/[^0-9]/.test(e))return t.toUTCString()}catch(n){}return null}function gi(){return!(!ei("fireauth.oauthhelper",l)&&!ei("fireauth.iframe",l))}function mi(){var e=l.navigator;return e&&e.serviceWorker&&e.serviceWorker.controller||null}function yi(){var e=l.navigator;return e&&e.serviceWorker?Ut().then((function(){return e.serviceWorker.ready})).then((function(e){return e.active||null})).o((function(){return null})):Ut(null)}fi.prototype.get=function(){var e=l.navigator;return!e||"boolean"!==typeof e.onLine||!ri()&&"chrome-extension:"!==ii()&&"undefined"===typeof e.connection||e.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var bi,wi={};function _i(e){wi[e]||(wi[e]=!0,"undefined"!==typeof console&&"function"===typeof console.warn&&console.warn(e))}try{var Ti={};Object.defineProperty(Ti,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Ti,"abcd",{configurable:!0,enumerable:!0,value:2}),bi=2==Ti.abcd}catch(ep){bi=!1}function Si(e,t,n){bi?Object.defineProperty(e,t,{configurable:!0,enumerable:!0,value:n}):e[t]=n}function Ei(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&Si(e,n,t[n])}function Ii(e){var t={};return Ei(t,e),t}function ki(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function Ci(e,t){if(!t||!t.length)return!0;if(!e)return!1;for(var n=0;n<t.length;n++){var r=e[t[n]];if(void 0===r||null===r||""===r)return!1}return!0}function xi(e){var t=e;if("object"==typeof e&&null!=e)for(var n in t="length"in e?[]:{},e)Si(t,n,xi(e[n]));return t}function Ai(e){var t=e&&(e[Di]?"phone":null);if(!(t&&e&&e[Oi]))throw new A("internal-error","Internal assert: invalid MultiFactorInfo object");Si(this,"uid",e[Oi]),Si(this,"displayName",e[Ni]||null);var n=null;e[Pi]&&(n=new Date(e[Pi]).toUTCString()),Si(this,"enrollmentTime",n),Si(this,"factorId",t)}function Ri(e){try{var t=new Li(e)}catch(n){t=null}return t}Ai.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var Ni="displayName",Pi="enrolledAt",Oi="mfaEnrollmentId",Di="phoneInfo";function Li(e){Ai.call(this,e),Si(this,"phoneNumber",e[Di])}function Mi(e){var t={},n=e[Ui],r=e[Vi],i=e[Hi];if(e=Ri(e[Bi]),!i||i!=qi&&i!=ji&&!n||i==ji&&!r||i==Fi&&!e)throw Error("Invalid checkActionCode response!");i==ji?(t[zi]=n||null,t[$i]=n||null,t[Gi]=r):(t[zi]=r||null,t[$i]=r||null,t[Gi]=n||null),t[Ki]=e||null,Si(this,Ji,i),Si(this,Wi,xi(t))}C(Li,Ai),Li.prototype.w=function(){var e=Li.bb.w.call(this);return e.phoneNumber=this.phoneNumber,e};var Fi="REVERT_SECOND_FACTOR_ADDITION",qi="EMAIL_SIGNIN",ji="VERIFY_AND_CHANGE_EMAIL",Ui="email",Bi="mfaInfo",Vi="newEmail",Hi="requestType",Gi="email",zi="fromEmail",Ki="multiFactorInfo",$i="previousEmail",Wi="data",Ji="operation";function Zi(e){e=ir(e);var t=rr(e,Yi)||null,n=rr(e,Qi)||null,r=rr(e,to)||null;if(r=r&&ro[r]||null,!t||!n||!r)throw new A("argument-error",Yi+", "+Qi+"and "+to+" are required in a valid action code URL.");Ei(this,{apiKey:t,operation:r,code:n,continueUrl:rr(e,Xi)||null,languageCode:rr(e,eo)||null,tenantId:rr(e,no)||null})}var Yi="apiKey",Qi="oobCode",Xi="continueUrl",eo="languageCode",to="mode",no="tenantId",ro={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:Fi,signIn:qi,verifyAndChangeEmail:ji,verifyEmail:"VERIFY_EMAIL"};function io(e){try{return new Zi(e)}catch(t){return null}}function oo(e){var t=e[lo];if("undefined"===typeof t)throw new A("missing-continue-uri");if("string"!==typeof t||"string"===typeof t&&!t.length)throw new A("invalid-continue-uri");this.h=t,this.b=this.a=null,this.g=!1;var n=e[ao];if(n&&"object"===typeof n){t=n[po];var r=n[ho];if(n=n[fo],"string"===typeof t&&t.length){if(this.a=t,"undefined"!==typeof r&&"boolean"!==typeof r)throw new A("argument-error",ho+" property must be a boolean when specified.");if(this.g=!!r,"undefined"!==typeof n&&("string"!==typeof n||"string"===typeof n&&!n.length))throw new A("argument-error",fo+" property must be a non empty string when specified.");this.b=n||null}else{if("undefined"!==typeof t)throw new A("argument-error",po+" property must be a non empty string when specified.");if("undefined"!==typeof r||"undefined"!==typeof n)throw new A("missing-android-pkg-name")}}else if("undefined"!==typeof n)throw new A("argument-error",ao+" property must be a non null object when specified.");if(this.f=null,(t=e[co])&&"object"===typeof t){if(t=t[vo],"string"===typeof t&&t.length)this.f=t;else if("undefined"!==typeof t)throw new A("argument-error",vo+" property must be a non empty string when specified.")}else if("undefined"!==typeof t)throw new A("argument-error",co+" property must be a non null object when specified.");if(t=e[uo],"undefined"!==typeof t&&"boolean"!==typeof t)throw new A("argument-error",uo+" property must be a boolean when specified.");if(this.c=!!t,e=e[so],"undefined"!==typeof e&&("string"!==typeof e||"string"===typeof e&&!e.length))throw new A("argument-error",so+" property must be a non empty string when specified.");this.i=e||null}var ao="android",so="dynamicLinkDomain",uo="handleCodeInApp",co="iOS",lo="url",ho="installApp",fo="minimumVersion",po="packageName",vo="bundleId";function go(e){var t={};for(var n in t.continueUrl=e.h,t.canHandleCodeInApp=e.c,(t.androidPackageName=e.a)&&(t.androidMinimumVersion=e.b,t.androidInstallApp=e.g),t.iOSBundleId=e.f,t.dynamicLinkDomain=e.i,t)null===t[n]&&delete t[n];return t}function mo(e){return Z(e,(function(e){return e=e.toString(16),1<e.length?e:"0"+e})).join("")}var yo=null;function bo(e){var t=[];return wo(e,(function(e){t.push(e)})),t}function wo(e,t){function n(t){for(;r<e.length;){var n=e.charAt(r++),i=yo[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return t}_o();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;t(i<<2|o>>4),64!=a&&(t(o<<4&240|a>>2),64!=s&&t(a<<6&192|s))}}function _o(){if(!yo){yo={};for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),t=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=e.concat(t[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===yo[o]&&(yo[o]=i)}}}function To(e){var t=Eo(e);if(!(t&&t.sub&&t.iss&&t.aud&&t.exp))throw Error("Invalid JWT");this.h=e,this.a=t.exp,this.i=t.sub,e=Date.now()/1e3,this.g=t.iat||(e>this.a?this.a:e),this.b=t.provider_id||t.firebase&&t.firebase.sign_in_provider||null,this.f=t.firebase&&t.firebase.tenant||null,this.c=!!t.is_anonymous||"anonymous"==this.b}function So(e){try{return new To(e)}catch(t){return null}}function Eo(e){if(!e)return null;if(e=e.split("."),3!=e.length)return null;e=e[1];for(var t=(4-e.length%4)%4,n=0;n<t;n++)e+=".";try{var r=bo(e);for(e=[],n=t=0;t<r.length;){var i=r[t++];if(128>i)e[n++]=String.fromCharCode(i);else if(191<i&&224>i){var o=r[t++];e[n++]=String.fromCharCode((31&i)<<6|63&o)}else if(239<i&&365>i){o=r[t++];var a=r[t++],s=r[t++],u=((7&i)<<18|(63&o)<<12|(63&a)<<6|63&s)-65536;e[n++]=String.fromCharCode(55296+(u>>10)),e[n++]=String.fromCharCode(56320+(1023&u))}else o=r[t++],a=r[t++],e[n++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}return JSON.parse(e.join(""))}catch(c){}return null}To.prototype.T=function(){return this.f},To.prototype.l=function(){return this.c},To.prototype.toString=function(){return this.h};var Io="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),ko=["client_id","response_type","scope","redirect_uri","state"],Co={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:ko},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:ko},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:ko},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:Io},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function xo(e){for(var t in Co)if(Co[t].fa==e)return Co[t];return null}function Ao(e){var t={};t["facebook.com"]=Do,t["google.com"]=Mo,t["github.com"]=Lo,t["twitter.com"]=Fo;var n=e&&e[No];try{if(n)return t[n]?new t[n](e):new Oo(e);if("undefined"!==typeof e[Ro])return new Po(e)}catch(r){}return null}var Ro="idToken",No="providerId";function Po(e){var t=e[No];if(!t&&e[Ro]){var n=So(e[Ro]);n&&n.b&&(t=n.b)}if(!t)throw Error("Invalid additional user info!");"anonymous"!=t&&"custom"!=t||(t=null),n=!1,"undefined"!==typeof e.isNewUser?n=!!e.isNewUser:"identitytoolkit#SignupNewUserResponse"===e.kind&&(n=!0),Si(this,"providerId",t),Si(this,"isNewUser",n)}function Oo(e){Po.call(this,e),e=ui(e.rawUserInfo||"{}"),Si(this,"profile",xi(e||{}))}function Do(e){if(Oo.call(this,e),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function Lo(e){if(Oo.call(this,e),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Si(this,"username",this.profile&&this.profile.login||null)}function Mo(e){if(Oo.call(this,e),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function Fo(e){if(Oo.call(this,e),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Si(this,"username",e.screenName||null)}function qo(e){var t=ir(e),n=rr(t,"link"),r=rr(ir(n),"link");return t=rr(t,"deep_link_id"),rr(ir(t),"link")||t||r||n||e}function jo(e,t){if(!e&&!t)throw new A("internal-error","Internal assert: no raw session string available");if(e&&t)throw new A("internal-error","Internal assert: unable to determine the session type");this.a=e||null,this.b=t||null,this.type=this.a?Uo:Bo}C(Oo,Po),C(Do,Oo),C(Lo,Oo),C(Mo,Oo),C(Fo,Oo);var Uo="enroll",Bo="signin";function Vo(){}function Ho(e,t){return e.then((function(e){if(e[Ms]){var n=So(e[Ms]);if(!n||t!=n.i)throw new A("user-mismatch");return e}throw new A("user-mismatch")})).o((function(e){throw e&&e.code&&e.code==P+"user-not-found"?new A("user-mismatch"):e}))}function Go(e,t){if(!t)throw new A("internal-error","failed to construct a credential");this.a=t,Si(this,"providerId",e),Si(this,"signInMethod",e)}function zo(e){return{pendingToken:e.a,requestUri:"http://localhost"}}function Ko(e){if(e&&e.providerId&&e.signInMethod&&0==e.providerId.indexOf("saml.")&&e.pendingToken)try{return new Go(e.providerId,e.pendingToken)}catch(t){}return null}function $o(e,t,n){if(this.a=null,t.idToken||t.accessToken)t.idToken&&Si(this,"idToken",t.idToken),t.accessToken&&Si(this,"accessToken",t.accessToken),t.nonce&&!t.pendingToken&&Si(this,"nonce",t.nonce),t.pendingToken&&(this.a=t.pendingToken);else{if(!t.oauthToken||!t.oauthTokenSecret)throw new A("internal-error","failed to construct a credential");Si(this,"accessToken",t.oauthToken),Si(this,"secret",t.oauthTokenSecret)}Si(this,"providerId",e),Si(this,"signInMethod",n)}function Wo(e){var t={};return e.idToken&&(t.id_token=e.idToken),e.accessToken&&(t.access_token=e.accessToken),e.secret&&(t.oauth_token_secret=e.secret),t.providerId=e.providerId,e.nonce&&!e.a&&(t.nonce=e.nonce),t={postBody:gr(t).toString(),requestUri:"http://localhost"},e.a&&(delete t.postBody,t.pendingToken=e.a),t}function Jo(e){if(e&&e.providerId&&e.signInMethod){var t={idToken:e.oauthIdToken,accessToken:e.oauthTokenSecret?null:e.oauthAccessToken,oauthTokenSecret:e.oauthTokenSecret,oauthToken:e.oauthTokenSecret&&e.oauthAccessToken,nonce:e.nonce,pendingToken:e.pendingToken};try{return new $o(e.providerId,t,e.signInMethod)}catch(n){}}return null}function Zo(e,t){this.Qc=t||[],Ei(this,{providerId:e,isOAuthProvider:!0}),this.Jb={},this.qb=(xo(e)||{}).Ja||null,this.pb=null}function Yo(e){if("string"!==typeof e||0!=e.indexOf("saml."))throw new A("argument-error",'SAML provider IDs must be prefixed with "saml."');Zo.call(this,e,[])}function Qo(e){Zo.call(this,e,ko),this.a=[]}function Xo(){Qo.call(this,"facebook.com")}function ea(e){if(!e)throw new A("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return y(e)&&(t=e.accessToken),(new Xo).credential({accessToken:t})}function ta(){Qo.call(this,"github.com")}function na(e){if(!e)throw new A("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return y(e)&&(t=e.accessToken),(new ta).credential({accessToken:t})}function ra(){Qo.call(this,"google.com"),this.Ca("profile")}function ia(e,t){var n=e;return y(e)&&(n=e.idToken,t=e.accessToken),(new ra).credential({idToken:n,accessToken:t})}function oa(){Zo.call(this,"twitter.com",Io)}function aa(e,t){var n=e;if(y(n)||(n={oauthToken:e,oauthTokenSecret:t}),!n.oauthToken||!n.oauthTokenSecret)throw new A("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new $o("twitter.com",n,"twitter.com")}function sa(e,t,n){this.a=e,this.f=t,Si(this,"providerId","password"),Si(this,"signInMethod",n===ca.EMAIL_LINK_SIGN_IN_METHOD?ca.EMAIL_LINK_SIGN_IN_METHOD:ca.EMAIL_PASSWORD_SIGN_IN_METHOD)}function ua(e){return e&&e.email&&e.password?new sa(e.email,e.password,e.signInMethod):null}function ca(){Ei(this,{providerId:"password",isOAuthProvider:!1})}function la(e,t){if(t=ha(t),!t)throw new A("argument-error","Invalid email link!");return new sa(e,t.code,ca.EMAIL_LINK_SIGN_IN_METHOD)}function ha(e){return e=qo(e),(e=io(e))&&e.operation===qi?e:null}function fa(e){if(!(e.fb&&e.eb||e.La&&e.ea))throw new A("internal-error");this.a=e,Si(this,"providerId","phone"),this.fa="phone",Si(this,"signInMethod","phone")}function da(e){if(e&&"phone"===e.providerId&&(e.verificationId&&e.verificationCode||e.temporaryProof&&e.phoneNumber)){var t={};return $(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){e[n]&&(t[n]=e[n])})),new fa(t)}return null}function pa(e){return e.a.La&&e.a.ea?{temporaryProof:e.a.La,phoneNumber:e.a.ea}:{sessionInfo:e.a.fb,code:e.a.eb}}function va(e){try{this.a=e||r.Z.auth()}catch(t){throw new A("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Ei(this,{providerId:"phone",isOAuthProvider:!1})}function ga(e,t){if(!e)throw new A("missing-verification-id");if(!t)throw new A("missing-verification-code");return new fa({fb:e,eb:t})}function ma(e){if(e.temporaryProof&&e.phoneNumber)return new fa({La:e.temporaryProof,ea:e.phoneNumber});var t=e&&e.providerId;if(!t||"password"===t)return null;var n=e&&e.oauthAccessToken,r=e&&e.oauthTokenSecret,i=e&&e.nonce,o=e&&e.oauthIdToken,a=e&&e.pendingToken;try{switch(t){case"google.com":return ia(o,n);case"facebook.com":return ea(n);case"github.com":return na(n);case"twitter.com":return aa(n,r);default:return n||r||o||a?a?0==t.indexOf("saml.")?new Go(t,a):new $o(t,{pendingToken:a,idToken:e.oauthIdToken,accessToken:e.oauthAccessToken},t):new Qo(t).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(s){return null}}function ya(e){if(!e.isOAuthProvider)throw new A("invalid-oauth-provider")}function ba(e,t,n,r,i,o,a){if(this.c=e,this.b=t||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=a||null,this.a=i||null,!this.g&&!this.a)throw new A("invalid-auth-event");if(this.g&&this.a)throw new A("invalid-auth-event");if(this.g&&!this.f)throw new A("invalid-auth-event")}function wa(e){return e=e||{},e.type?new ba(e.type,e.eventId,e.urlResponse,e.sessionId,e.error&&R(e.error),e.postBody,e.tenantId):null}function _a(){this.b=null,this.a=[]}jo.prototype.Ha=function(){return this.a?Ut(this.a):Ut(this.b)},jo.prototype.w=function(){return this.type==Uo?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},Vo.prototype.ka=function(){},Vo.prototype.b=function(){},Vo.prototype.c=function(){},Vo.prototype.w=function(){},Go.prototype.ka=function(e){return fu(e,zo(this))},Go.prototype.b=function(e,t){var n=zo(this);return n.idToken=t,du(e,n)},Go.prototype.c=function(e,t){return Ho(pu(e,zo(this)),t)},Go.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},$o.prototype.ka=function(e){return fu(e,Wo(this))},$o.prototype.b=function(e,t){var n=Wo(this);return n.idToken=t,du(e,n)},$o.prototype.c=function(e,t){var n=Wo(this);return Ho(pu(e,n),t)},$o.prototype.w=function(){var e={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(e.oauthIdToken=this.idToken),this.accessToken&&(e.oauthAccessToken=this.accessToken),this.secret&&(e.oauthTokenSecret=this.secret),this.nonce&&(e.nonce=this.nonce),this.a&&(e.pendingToken=this.a),e},Zo.prototype.Ka=function(e){return this.Jb=we(e),this},C(Yo,Zo),C(Qo,Zo),Qo.prototype.Ca=function(e){return X(this.a,e)||this.a.push(e),this},Qo.prototype.Rb=function(){return re(this.a)},Qo.prototype.credential=function(e,t){var n;if(n=y(e)?{idToken:e.idToken||null,accessToken:e.accessToken||null,nonce:e.rawNonce||null}:{idToken:e||null,accessToken:t||null},!n.idToken&&!n.accessToken)throw new A("argument-error","credential failed: must provide the ID token and/or the access token.");return new $o(this.providerId,n,this.providerId)},C(Xo,Qo),Si(Xo,"PROVIDER_ID","facebook.com"),Si(Xo,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),C(ta,Qo),Si(ta,"PROVIDER_ID","github.com"),Si(ta,"GITHUB_SIGN_IN_METHOD","github.com"),C(ra,Qo),Si(ra,"PROVIDER_ID","google.com"),Si(ra,"GOOGLE_SIGN_IN_METHOD","google.com"),C(oa,Zo),Si(oa,"PROVIDER_ID","twitter.com"),Si(oa,"TWITTER_SIGN_IN_METHOD","twitter.com"),sa.prototype.ka=function(e){return this.signInMethod==ca.EMAIL_LINK_SIGN_IN_METHOD?Ju(e,Tu,{email:this.a,oobCode:this.f}):Ju(e,Gu,{email:this.a,password:this.f})},sa.prototype.b=function(e,t){return this.signInMethod==ca.EMAIL_LINK_SIGN_IN_METHOD?Ju(e,Su,{idToken:t,email:this.a,oobCode:this.f}):Ju(e,Mu,{idToken:t,email:this.a,password:this.f})},sa.prototype.c=function(e,t){return Ho(this.ka(e),t)},sa.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Ei(ca,{PROVIDER_ID:"password"}),Ei(ca,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Ei(ca,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),fa.prototype.ka=function(e){return e.gb(pa(this))},fa.prototype.b=function(e,t){var n=pa(this);return n.idToken=t,Ju(e,Ku,n)},fa.prototype.c=function(e,t){var n=pa(this);return n.operation="REAUTH",e=Ju(e,$u,n),Ho(e,t)},fa.prototype.w=function(){var e={providerId:"phone"};return this.a.fb&&(e.verificationId=this.a.fb),this.a.eb&&(e.verificationCode=this.a.eb),this.a.La&&(e.temporaryProof=this.a.La),this.a.ea&&(e.phoneNumber=this.a.ea),e},va.prototype.gb=function(e,t){var n=this.a.a;return Ut(t.verify()).then((function(r){if("string"!==typeof r)throw new A("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(t.type){case"recaptcha":var i,o=y(e)?e.session:null,a=y(e)?e.phoneNumber:e;return i=o&&o.type==Uo?o.Ha().then((function(e){return ou(n,{idToken:e,phoneEnrollmentInfo:{phoneNumber:a,recaptchaToken:r}})})):o&&o.type==Bo?o.Ha().then((function(t){return su(n,{mfaPendingCredential:t,mfaEnrollmentId:e.multiFactorHint&&e.multiFactorHint.uid||e.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):iu(n,{phoneNumber:a,recaptchaToken:r}),i.then((function(e){return"function"===typeof t.reset&&t.reset(),e}),(function(e){throw"function"===typeof t.reset&&t.reset(),e}));default:throw new A("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},Ei(va,{PROVIDER_ID:"phone"}),Ei(va,{PHONE_SIGN_IN_METHOD:"phone"}),ba.prototype.getUid=function(){var e=[];return e.push(this.c),this.b&&e.push(this.b),this.f&&e.push(this.f),this.h&&e.push(this.h),e.join("-")},ba.prototype.T=function(){return this.h},ba.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var Ta,Sa=null;function Ea(e){var t=Sa;t.a.push(e),t.b||(t.b=function(e){for(var n=0;n<t.a.length;n++)t.a[n](e)},e=ei("universalLinks.subscribe",l),"function"===typeof e&&e(null,t.b))}function Ia(e){var t="unauthorized-domain",n=void 0,r=ir(e);e=r.a,r=r.c,"chrome-extension"==r?n=Ye("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):"http"==r||"https"==r?n=Ye("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):t="operation-not-supported-in-this-environment",A.call(this,t,n)}function ka(e,t,n){A.call(this,e,n),e=t||{},e.Kb&&Si(this,"email",e.Kb),e.ea&&Si(this,"phoneNumber",e.ea),e.credential&&Si(this,"credential",e.credential),e.$b&&Si(this,"tenantId",e.$b)}function Ca(e){if(e.code){var t=e.code||"";0==t.indexOf(P)&&(t=t.substring(P.length));var n={credential:ma(e),$b:e.tenantId};if(e.email)n.Kb=e.email;else if(e.phoneNumber)n.ea=e.phoneNumber;else if(!n.credential)return new A(t,e.message||void 0);return new ka(t,n,e.message)}return null}function xa(){}function Aa(e){return e.c||(e.c=e.b())}function Ra(){}function Na(e){if(!e.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var t=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<t.length;n++){var r=t[n];try{return new ActiveXObject(r),e.f=r}catch(i){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return e.f}function Pa(){}function Oa(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=E(this.qc,this),this.a.onerror=E(this.Tb,this),this.a.onprogress=E(this.rc,this),this.a.ontimeout=E(this.vc,this)}function Da(e,t){e.readyState=t,e.onreadystatechange&&e.onreadystatechange()}function La(e,t,n){this.reset(e,t,n,void 0,void 0)}C(Ia,A),C(ka,A),ka.prototype.w=function(){var e={code:this.code,message:this.message};this.email&&(e.email=this.email),this.phoneNumber&&(e.phoneNumber=this.phoneNumber),this.tenantId&&(e.tenantId=this.tenantId);var t=this.credential&&this.credential.w();return t&&Te(e,t),e},ka.prototype.toJSON=function(){return this.w()},xa.prototype.c=null,C(Ra,xa),Ra.prototype.a=function(){var e=Na(this);return e?new ActiveXObject(e):new XMLHttpRequest},Ra.prototype.b=function(){var e={};return Na(this)&&(e[0]=!0,e[1]=!0),e},Ta=new Ra,C(Pa,xa),Pa.prototype.a=function(){var e=new XMLHttpRequest;if("withCredentials"in e)return e;if("undefined"!=typeof XDomainRequest)return new Oa;throw Error("Unsupported browser")},Pa.prototype.b=function(){return{}},e=Oa.prototype,e.open=function(e,t,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(e,t)},e.send=function(e){if(e){if("string"!=typeof e)throw Error("Only string data is supported");this.a.send(e)}else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(e){return"content-type"==e.toLowerCase()?this.a.contentType:""},e.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Da(this,4)},e.Tb=function(){this.status=500,this.response=this.responseText="",Da(this,4)},e.vc=function(){this.Tb()},e.rc=function(){this.status=200,Da(this,1)},e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},La.prototype.a=null;function Ma(e){this.f=e,this.b=this.c=this.a=null}function Fa(e,t){this.name=e,this.value=t}La.prototype.reset=function(e,t,n,r,i){"number"==typeof i||0,r||k(),delete this.a},Fa.prototype.toString=function(){return this.name};var qa=new Fa("SEVERE",1e3),ja=new Fa("WARNING",900),Ua=new Fa("CONFIG",700),Ba=new Fa("FINE",500);function Va(e){return e.c?e.c:e.a?Va(e.a):(j("Root logger has no level set."),null)}Ma.prototype.log=function(e,t,n){if(e.value>=Va(this).value)for(m(t)&&(t=t()),e=new La(e,String(t),this.f),n&&(e.a=n),n=this;n;)n=n.a};var Ha={},Ga=null;function za(e){var t;if(Ga||(Ga=new Ma(""),Ha[""]=Ga,Ga.c=Ua),!(t=Ha[e])){t=new Ma(e);var n=e.lastIndexOf("."),r=e.substr(n+1);n=za(e.substr(0,n)),n.b||(n.b={}),n.b[r]=t,t.a=n,Ha[e]=t}return t}function Ka(e,t){e&&e.log(Ba,t,void 0)}function $a(e){this.f=e}function Wa(e){qn.call(this),this.u=e,this.h=void 0,this.readyState=Ja,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=za("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}C($a,xa),$a.prototype.a=function(){return new Wa(this.f)},$a.prototype.b=function(e){return function(){return e}}({}),C(Wa,qn);var Ja=0;function Za(e){e.c.read().then(e.pc.bind(e)).catch(e.Va.bind(e))}function Ya(e){e.readyState=4,e.g=null,e.c=null,e.m=null,Qa(e)}function Qa(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Xa(e){qn.call(this),this.headers=new $n,this.D=e||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=es,this.u=this.S=!1}e=Wa.prototype,e.open=function(e,t){if(this.readyState!=Ja)throw this.abort(),Error("Error reopening a connection");this.s=e,this.f=t,this.readyState=1,Qa(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var t={headers:this.l,method:this.s,credentials:this.h,cache:void 0};e&&(t.body=e),this.u.fetch(new Request(this.f,t)).then(this.uc.bind(this),this.Va.bind(this))},e.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,Ya(this)),this.readyState=Ja},e.uc=function(e){this.a&&(this.g=e,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=e.headers,this.readyState=2,Qa(this)),this.a&&(this.readyState=3,Qa(this),this.a&&("arraybuffer"===this.responseType?e.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):"undefined"!==typeof l.ReadableStream&&"body"in e?(this.response=this.responseText="",this.c=e.body.getReader(),this.m=new TextDecoder,Za(this)):e.text().then(this.tc.bind(this),this.Va.bind(this)))))},e.pc=function(e){if(this.a){var t=this.m.decode(e.value?e.value:new Uint8Array(0),{stream:!e.done});t&&(this.response=this.responseText+=t),e.done?Ya(this):Qa(this),3==this.readyState&&Za(this)}},e.tc=function(e){this.a&&(this.response=this.responseText=e,Ya(this))},e.sc=function(e){this.a&&(this.response=e,Ya(this))},e.Va=function(e){var t=this.i;t&&t.log(ja,"Failed to fetch url "+this.f,e instanceof Error?e:Error(e)),this.a&&Ya(this)},e.setRequestHeader=function(e,t){this.l.append(e,t)},e.getResponseHeader=function(e){return this.b?this.b.get(e.toLowerCase())||"":((e=this.i)&&e.log(ja,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var e=this.i;return e&&e.log(ja,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}e=[];for(var t=this.b.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Wa.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(e){this.h=e?"include":"same-origin"}}),C(Xa,qn);var es="";Xa.prototype.b=za("goog.net.XhrIo");var ts=/^https?$/i,ns=["POST","PUT"];function rs(e,t,n,r,i){if(e.a)throw Error("[goog.net.XhrIo] Object is active with another request="+e.l+"; newUri="+t);n=n?n.toUpperCase():"GET",e.l=t,e.h="",e.P=n,e.J=!1,e.c=!0,e.a=e.D?e.D.a():Ta.a(),e.C=e.D?Aa(e.D):Aa(Ta),e.a.onreadystatechange=E(e.Wb,e);try{Ka(e.b,ps(e,"Opening Xhr")),e.N=!0,e.a.open(n,String(t),!0),e.N=!1}catch(a){return Ka(e.b,ps(e,"Error opening Xhr: "+a.message)),void as(e,a)}t=r||"";var o=new $n(e.headers);i&&Kn(i,(function(e,t){o.set(t,e)})),i=Q(o.Y()),r=l.FormData&&t instanceof l.FormData,!X(ns,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(e,t){this.a.setRequestHeader(t,e)}),e),e.m&&(e.a.responseType=e.m),"withCredentials"in e.a&&e.a.withCredentials!==e.S&&(e.a.withCredentials=e.S);try{ls(e),0<e.g&&(e.u=is(e.a),Ka(e.b,ps(e,"Will abort after "+e.g+"ms if incomplete, xhr2 "+e.u)),e.u?(e.a.timeout=e.g,e.a.ontimeout=E(e.Ma,e)):e.s=Vn(e.Ma,e.g,e)),Ka(e.b,ps(e,"Sending request")),e.i=!0,e.a.send(t),e.i=!1}catch(a){Ka(e.b,ps(e,"Send error: "+a.message)),as(e,a)}}function is(e){return rt&&pt(9)&&"number"===typeof e.timeout&&void 0!==e.ontimeout}function os(e){return"content-type"==e.toLowerCase()}function as(e,t){e.c=!1,e.a&&(e.f=!0,e.a.abort(),e.f=!1),e.h=t,ss(e),cs(e)}function ss(e){e.J||(e.J=!0,e.dispatchEvent("complete"),e.dispatchEvent("error"))}function us(e){if(e.c&&"undefined"!=typeof c)if(e.C[1]&&4==hs(e)&&2==fs(e))Ka(e.b,ps(e,"Local request error detected and ignored"));else if(e.i&&4==hs(e))Vn(e.Wb,0,e);else if(e.dispatchEvent("readystatechange"),4==hs(e)){Ka(e.b,ps(e,"Request complete")),e.c=!1;try{var t,n=fs(e);e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.l).match(Zn)[1]||null;if(!o&&l.self&&l.self.location){var a=l.self.location.protocol;o=a.substr(0,a.length-1)}i=!ts.test(o?o.toLowerCase():"")}t=i}if(t)e.dispatchEvent("complete"),e.dispatchEvent("success");else{try{var s=2<hs(e)?e.a.statusText:""}catch(u){Ka(e.b,"Can not get status: "+u.message),s=""}e.h=s+" ["+fs(e)+"]",ss(e)}}finally{cs(e)}}}function cs(e,t){if(e.a){ls(e);var n=e.a,r=e.C[0]?p:null;e.a=null,e.C=null,t||e.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){(e=e.b)&&e.log(qa,"Problem encountered resetting onreadystatechange: "+i.message,void 0)}}}function ls(e){e.a&&e.u&&(e.a.ontimeout=null),e.s&&(l.clearTimeout(e.s),e.s=null)}function hs(e){return e.a?e.a.readyState:0}function fs(e){try{return 2<hs(e)?e.a.status:-1}catch(t){return-1}}function ds(e){try{return e.a?e.a.responseText:""}catch(t){return Ka(e.b,"Can not get responseText: "+t.message),""}}function ps(e,t){return t+" ["+e.P+" "+e.l+" "+fs(e)+"]"}function vs(e){var t=xs;this.g=[],this.u=t,this.s=e||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function gs(e,t,n){e.a=!0,e.c=n,e.f=!t,_s(e)}function ms(e){if(e.a){if(!e.v)throw new Ts(e);e.v=!1}}function ys(e,t){bs(e,null,t,void 0)}function bs(e,t,n,r){e.g.push([t,n,r]),e.a&&_s(e)}function ws(e){return Y(e.g,(function(e){return m(e[1])}))}function _s(e){if(e.h&&e.a&&ws(e)){var t=e.h,n=Is[t];n&&(l.clearTimeout(n.a),delete Is[t]),e.h=0}e.b&&(e.b.l--,delete e.b),t=e.c;for(var r=n=!1;e.g.length&&!e.i;){var i=e.g.shift(),o=i[0],a=i[1];if(i=i[2],o=e.f?a:o)try{var s=o.call(i||e.s,t);void 0!==s&&(e.f=e.f&&(s==t||s instanceof Error),e.c=t=s),(M(t)||"function"===typeof l.Promise&&t instanceof l.Promise)&&(r=!0,e.i=!0)}catch(u){t=u,e.f=!0,ws(e)||(n=!0)}}e.c=t,r&&(s=E(e.m,e,!0),r=E(e.m,e,!1),t instanceof vs?(bs(t,s,r),t.C=!0):t.then(s,r)),n&&(t=new Es(t),Is[t.a]=t,e.h=t.a)}function Ts(){F.call(this)}function Ss(){F.call(this)}function Es(e){this.a=l.setTimeout(E(this.c,this),0),this.b=e}e=Xa.prototype,e.Ma=function(){"undefined"!=typeof c&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",Ka(this.b,ps(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},e.abort=function(){this.a&&this.c&&(Ka(this.b,ps(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),cs(this))},e.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),cs(this,!0)),Xa.bb.Da.call(this)},e.Wb=function(){this.ya||(this.N||this.i||this.f?us(this):this.Jc())},e.Jc=function(){us(this)},e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case es:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var e=this.b;return e&&e.log(qa,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(t){return Ka(this.b,"Can not get response: "+t.message),null}},vs.prototype.cancel=function(e){if(this.a)this.c instanceof vs&&this.c.cancel();else{if(this.b){var t=this.b;delete this.b,e?t.cancel(e):(t.l--,0>=t.l&&t.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(e=new Ss(this),ms(this),gs(this,!1,e))}},vs.prototype.m=function(e,t){this.i=!1,gs(this,e,t)},vs.prototype.then=function(e,t,n){var r,i,o=new Ot((function(e,t){r=e,i=t}));return bs(this,r,(function(e){e instanceof Ss?o.cancel():i(e)})),o.then(e,t,n)},vs.prototype.$goog_Thenable=!0,C(Ts,F),Ts.prototype.message="Deferred has already fired",Ts.prototype.name="AlreadyCalledError",C(Ss,F),Ss.prototype.message="Deferred was canceled",Ss.prototype.name="CanceledError",Es.prototype.c=function(){throw delete Is[this.a],this.b};var Is={};function ks(e){var t={},n=t.document||document,r=Ne(e).toString(),i=It(document,"SCRIPT"),o={Xb:i,Ma:void 0},a=new vs(o),s=null,u=null!=t.timeout?t.timeout:5e3;return 0<u&&(s=window.setTimeout((function(){As(i,!0);var e=new Ps(Ns,"Timeout reached for loading script "+r);ms(a),gs(a,!1,e)}),u),o.Ma=s),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(As(i,t.xd||!1,s),ms(a),gs(a,!0,null))},i.onerror=function(){As(i,!0,s);var e=new Ps(Rs,"Error while loading script "+r);ms(a),gs(a,!1,e)},o=t.attributes||{},Te(o,{type:"text/javascript",charset:"UTF-8"}),bt(i,o),Je(i,e),Cs(n).appendChild(i),a}function Cs(e){var t;return(t=(e||document).getElementsByTagName("HEAD"))&&0!=t.length?t[0]:e.documentElement}function xs(){if(this&&this.Xb){var e=this.Xb;e&&"SCRIPT"==e.tagName&&As(e,!0,this.Ma)}}function As(e,t,n){null!=n&&l.clearTimeout(n),e.onload=p,e.onerror=p,e.onreadystatechange=p,t&&window.setTimeout((function(){e&&e.parentNode&&e.parentNode.removeChild(e)}),0)}var Rs=0,Ns=1;function Ps(e,t){var n="Jsloader error (code #"+e+")";t&&(n+=": "+t),F.call(this,n),this.code=e}function Os(e){this.f=e}function Ds(e,t,n){if(this.c=e,e=t||{},this.l=e.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=e.secureTokenTimeout||Fs,this.g=we(e.secureTokenHeaders||qs),this.h=e.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=e.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=e.firebaseTimeout||js,this.a=we(e.firebaseHeaders||Us),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==zr(),n=l.XMLHttpRequest||n&&r.Z.INTERNAL.node&&r.Z.INTERNAL.node.XMLHttpRequest,!n&&!Gr())throw new A("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,Gr()?this.f=new $a(self):Kr()?this.f=new Os(n):this.f=new Pa,this.b=null}C(Ps,F),C(Os,xa),Os.prototype.a=function(){return new this.f},Os.prototype.b=function(){return{}};var Ls,Ms="idToken",Fs=new fi(3e4,6e4),qs={"Content-Type":"application/x-www-form-urlencoded"},js=new fi(3e4,6e4),Us={"Content-Type":"application/json"};function Bs(e,t){t?e.a["X-Firebase-Locale"]=t:delete e.a["X-Firebase-Locale"]}function Vs(e,t){t&&(e.l=Hs("https://securetoken.googleapis.com/v1/token",t),e.h=Hs("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",t),e.i=Hs("https://identitytoolkit.googleapis.com/v2/",t))}function Hs(e,t){return e=ir(e),t=ir(t.url),e.f=e.a+e.f,Xn(e,t.c),e.a=t.a,er(e,t.g),e.toString()}function Gs(e,t){t?(e.a["X-Client-Version"]=t,e.g["X-Client-Version"]=t):(delete e.a["X-Client-Version"],delete e.g["X-Client-Version"])}function zs(e,t,n,r,i,o,a){Or()||Gr()?e=E(e.u,e):(Ls||(Ls=new Ot((function(e,t){Ws(e,t)}))),e=E(e.s,e)),e(t,n,r,i,o,a)}Ds.prototype.T=function(){return this.b},Ds.prototype.u=function(e,t,n,r,i,o){if(Gr()&&("undefined"===typeof l.fetch||"undefined"===typeof l.Headers||"undefined"===typeof l.Request))throw new A("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new Xa(this.f);if(o){a.g=Math.max(0,o);var s=setTimeout((function(){a.dispatchEvent("timeout")}),o)}jn(a,"complete",(function(){s&&clearTimeout(s);var e=null;try{e=JSON.parse(ds(this))||null}catch(n){e=null}t&&t(e)})),Un(a,"ready",(function(){s&&clearTimeout(s),un(this)})),Un(a,"timeout",(function(){s&&clearTimeout(s),un(this),t&&t(null)})),rs(a,e,n,r,i)};var Ks=new Ee(xe,"https://apis.google.com/js/client.js?onload=%{onload}"),$s="__fcb"+Math.floor(1e6*Math.random()).toString();function Ws(e,t){if(((window.gapi||{}).client||{}).request)e();else{l[$s]=function(){((window.gapi||{}).client||{}).request?e():t(Error("CORS_UNSUPPORTED"))};var n=Pe(Ks,{onload:$s});ys(ks(n),(function(){t(Error("CORS_UNSUPPORTED"))}))}}function Js(e,t){return new Ot((function(n,r){"refresh_token"==t.grant_type&&t.refresh_token||"authorization_code"==t.grant_type&&t.code?zs(e,e.l+"?key="+encodeURIComponent(e.c),(function(e){e?e.error?r(Yu(e)):e.access_token&&e.refresh_token?n(e):r(new A("internal-error")):r(new A("network-request-failed"))}),"POST",gr(t).toString(),e.g,e.m.get()):r(new A("internal-error"))}))}function Zs(e,t,n,r,i,o,a){var s=ir(t+n);nr(s,"key",e.c),a&&nr(s,"cb",Date.now().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&nr(s,c,i[c]);return new Ot((function(t,n){zs(e,s.toString(),(function(e){e?e.error?n(Yu(e,o||{})):t(e):n(new A("network-request-failed"))}),r,u?void 0:Sr(si(i)),e.a,e.v.get())}))}function Ys(e){if(e=e.email,"string"!==typeof e||!jr.test(e))throw new A("invalid-email")}function Qs(e){"email"in e&&Ys(e)}function Xs(e,t){return Ju(e,bu,{identifier:t,continueUri:ri()?Rr():"http://localhost"}).then((function(e){return e.signinMethods||[]}))}function eu(e){return Ju(e,Nu,{}).then((function(e){return e.authorizedDomains||[]}))}function tu(e){if(!e[Ms]){if(e.mfaPendingCredential)throw new A("multi-factor-auth-required",null,we(e));throw new A("internal-error")}}function nu(e){if(e.phoneNumber||e.temporaryProof){if(!e.phoneNumber||!e.temporaryProof)throw new A("internal-error")}else{if(!e.sessionInfo)throw new A("missing-verification-id");if(!e.code)throw new A("missing-verification-code")}}Ds.prototype.s=function(e,t,n,r,i){var o=this;Ls.then((function(){window.gapi.client.setApiKey(o.c);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:e,method:n,body:r,headers:i,authType:"none",callback:function(e){window.gapi.auth.setToken(a),t&&t(e)}})})).o((function(e){t&&t({error:{message:e&&e.message||"CORS_UNSUPPORTED"}})}))},Ds.prototype.Ab=function(){return Ju(this,Fu,{})},Ds.prototype.Cb=function(e,t){return Ju(this,Lu,{idToken:e,email:t})},Ds.prototype.Db=function(e,t){return Ju(this,Mu,{idToken:e,password:t})};var ru={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function iu(e,t){return Ju(e,Du,t)}function ou(e,t){return Ju(e,qu,t).then((function(e){return e.phoneSessionInfo.sessionInfo}))}function au(e){if(!e.phoneVerificationInfo)throw new A("internal-error");if(!e.phoneVerificationInfo.sessionInfo)throw new A("missing-verification-id");if(!e.phoneVerificationInfo.code)throw new A("missing-verification-code")}function su(e,t){return Ju(e,ju,t).then((function(e){return e.phoneResponseInfo.sessionInfo}))}function uu(e,t,n){return Ju(e,_u,{idToken:t,deleteProvider:n})}function cu(e){if(!e.requestUri||!e.sessionId&&!e.postBody&&!e.pendingToken)throw new A("internal-error")}function lu(e,t){return t.oauthIdToken&&t.providerId&&0==t.providerId.indexOf("oidc.")&&!t.pendingToken&&(e.sessionId?t.nonce=e.sessionId:e.postBody&&(e=new pr(e.postBody),yr(e,"nonce")&&(t.nonce=e.get("nonce")))),t}function hu(e){var t=null;if(e.needConfirmation?(e.code="account-exists-with-different-credential",t=Ca(e)):"FEDERATED_USER_ID_ALREADY_LINKED"==e.errorMessage?(e.code="credential-already-in-use",t=Ca(e)):"EMAIL_EXISTS"==e.errorMessage?(e.code="email-already-in-use",t=Ca(e)):e.errorMessage&&(t=Zu(e.errorMessage)),t)throw t;tu(e)}function fu(e,t){return t.returnIdpCredential=!0,Ju(e,Uu,t)}function du(e,t){return t.returnIdpCredential=!0,Ju(e,Vu,t)}function pu(e,t){return t.returnIdpCredential=!0,t.autoCreate=!1,Ju(e,Bu,t)}function vu(e){if(!e.oobCode)throw new A("invalid-action-code")}e=Ds.prototype,e.Eb=function(e,t){var n={idToken:e},r=[];return ye(ru,(function(e,i){var o=t[i];null===o?r.push(e):i in t&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),Ju(this,Lu,n)},e.wb=function(e,t){return e={requestType:"PASSWORD_RESET",email:e},Te(e,t),Ju(this,Ru,e)},e.xb=function(e,t){return e={requestType:"EMAIL_SIGNIN",email:e},Te(e,t),Ju(this,Cu,e)},e.vb=function(e,t){return e={requestType:"VERIFY_EMAIL",idToken:e},Te(e,t),Ju(this,xu,e)},e.Fb=function(e,t,n){return e={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:e,newEmail:t},Te(e,n),Ju(this,Au,e)},e.gb=function(e){return Ju(this,zu,e)},e.ob=function(e,t){return Ju(this,Ou,{oobCode:e,newPassword:t})},e.Sa=function(e){return Ju(this,mu,{oobCode:e})},e.kb=function(e){return Ju(this,gu,{oobCode:e})};var gu={endpoint:"setAccountInfo",A:vu,Z:"email",B:!0},mu={endpoint:"resetPassword",A:vu,G:function(e){var t=e.requestType;if(!t||!e.email&&"EMAIL_SIGNIN"!=t&&"VERIFY_AND_CHANGE_EMAIL"!=t)throw new A("internal-error")},B:!0},yu={endpoint:"signupNewUser",A:function(e){if(Ys(e),!e.password)throw new A("weak-password")},G:tu,V:!0,B:!0},bu={endpoint:"createAuthUri",B:!0},wu={endpoint:"deleteAccount",O:["idToken"]},_u={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(e){if(!Array.isArray(e.deleteProvider))throw new A("internal-error")}},Tu={endpoint:"emailLinkSignin",O:["email","oobCode"],A:Ys,G:tu,V:!0,B:!0},Su={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:Ys,G:tu,V:!0},Eu={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:au,G:tu,B:!0,Na:!0},Iu={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:au,G:tu,B:!0,Na:!0},ku={endpoint:"getAccountInfo"},Cu={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(e){if("EMAIL_SIGNIN"!=e.requestType)throw new A("internal-error");Ys(e)},Z:"email",B:!0},xu={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(e){if("VERIFY_EMAIL"!=e.requestType)throw new A("internal-error")},Z:"email",B:!0},Au={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(e){if("VERIFY_AND_CHANGE_EMAIL"!=e.requestType)throw new A("internal-error")},Z:"email",B:!0},Ru={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(e){if("PASSWORD_RESET"!=e.requestType)throw new A("internal-error");Ys(e)},Z:"email",B:!0},Nu={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},Pu={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(e){if(!e.recaptchaSiteKey)throw new A("internal-error")}},Ou={endpoint:"resetPassword",A:vu,Z:"email",B:!0},Du={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},Lu={endpoint:"setAccountInfo",O:["idToken"],A:Qs,V:!0},Mu={endpoint:"setAccountInfo",O:["idToken"],A:function(e){if(Qs(e),!e.password)throw new A("weak-password")},G:tu,V:!0},Fu={endpoint:"signupNewUser",G:tu,V:!0,B:!0},qu={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(e){if(!e.phoneEnrollmentInfo)throw new A("internal-error");if(!e.phoneEnrollmentInfo.phoneNumber)throw new A("missing-phone-number");if(!e.phoneEnrollmentInfo.recaptchaToken)throw new A("missing-app-credential")},G:function(e){if(!e.phoneSessionInfo||!e.phoneSessionInfo.sessionInfo)throw new A("internal-error")},B:!0,Na:!0},ju={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(e){if(!e.phoneSignInInfo||!e.phoneSignInInfo.recaptchaToken)throw new A("missing-app-credential")},G:function(e){if(!e.phoneResponseInfo||!e.phoneResponseInfo.sessionInfo)throw new A("internal-error")},B:!0,Na:!0},Uu={endpoint:"verifyAssertion",A:cu,Za:lu,G:hu,V:!0,B:!0},Bu={endpoint:"verifyAssertion",A:cu,Za:lu,G:function(e){if(e.errorMessage&&"USER_NOT_FOUND"==e.errorMessage)throw new A("user-not-found");if(e.errorMessage)throw Zu(e.errorMessage);tu(e)},V:!0,B:!0},Vu={endpoint:"verifyAssertion",A:function(e){if(cu(e),!e.idToken)throw new A("internal-error")},Za:lu,G:hu,V:!0},Hu={endpoint:"verifyCustomToken",A:function(e){if(!e.token)throw new A("invalid-custom-token")},G:tu,V:!0,B:!0},Gu={endpoint:"verifyPassword",A:function(e){if(Ys(e),!e.password)throw new A("wrong-password")},G:tu,V:!0,B:!0},zu={endpoint:"verifyPhoneNumber",A:nu,G:tu,B:!0},Ku={endpoint:"verifyPhoneNumber",A:function(e){if(!e.idToken)throw new A("internal-error");nu(e)},G:function(e){if(e.temporaryProof)throw e.code="credential-already-in-use",Ca(e);tu(e)}},$u={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:nu,G:tu,B:!0},Wu={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(e){if(!!e[Ms]^!!e.refreshToken)throw new A("internal-error")},B:!0,Na:!0};function Ju(e,t,n){if(!Ci(n,t.O))return Bt(new A("internal-error"));var r,i=!!t.Na,o=t.Vb||"POST";return Ut(n).then(t.A).then((function(){return t.V&&(n.returnSecureToken=!0),t.B&&e.b&&"undefined"===typeof n.tenantId&&(n.tenantId=e.b),Zs(e,i?e.i:e.h,t.endpoint,o,n,t.Ib,t.mb||!1)})).then((function(e){return r=e,t.Za?t.Za(n,r):r})).then(t.G).then((function(){if(!t.Z)return r;if(!(t.Z in r))throw new A("internal-error");return r[t.Z]}))}function Zu(e){return Yu({error:{errors:[{message:e}],code:400,message:e}})}function Yu(e,t){var n=(e.error&&e.error.errors&&e.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new A(r[n]):null)return n;for(var i in n=e.error&&e.error.message||"",r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},Te(r,t||{}),t=(t=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<t.length?t[1]:void 0,r)if(0===n.indexOf(i))return new A(r[i],t);return!t&&e&&(t=ai(e)),new A("internal-error",t)}function Qu(e){this.b=e,this.a=null,this.sb=Xu(this)}function Xu(e){return ac().then((function(){return new Ot((function(t,n){ei("gapi.iframes.getContext")().open({where:document.body,url:e.b,messageHandlersFilter:ei("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),t()}e.a=r,e.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),ic.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}function ec(e,t){return e.sb.then((function(){return new Ot((function(n){e.a.send(t.type,t,n,ei("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}function tc(e,t){e.sb.then((function(){e.a.register("authEvent",t,ei("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}var nc=new Ee(xe,"https://apis.google.com/js/api.js?onload=%{onload}"),rc=new fi(3e4,6e4),ic=new fi(5e3,15e3),oc=null;function ac(){return oc||(oc=new Ot((function(e,t){function n(){hi(),ei("gapi.load")("gapi.iframes",{callback:e,ontimeout:function(){hi(),t(Error("Network Error"))},timeout:rc.get()})}if(ei("gapi.iframes.Iframe"))e();else if(ei("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();l[r]=function(){ei("gapi.load")?n():t(Error("Network Error"))},r=Pe(nc,{onload:r}),Ut(ks(r)).o((function(){t(Error("Network Error"))}))}})).o((function(e){throw oc=null,e})))}function sc(e,t,n,r){this.l=e,this.h=t,this.i=n,this.g=r,this.f=null,this.g?(e=ir(this.g.url),e=or(e.c,e.a,e.g,"/emulator/auth/iframe")):e=or("https",this.l,null,"/__/auth/iframe"),this.a=e,nr(this.a,"apiKey",this.h),nr(this.a,"appName",this.i),this.b=null,this.c=[]}function uc(e,t,n,r,i,o){this.u=e,this.s=t,this.c=n,this.m=r,this.v=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function cc(e){try{return r.Z.app(e).auth().Ga()}catch(t){return[]}}function lc(e,t,n,r,i,o){this.s=e,this.g=t,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function hc(e){var t=Rr();return eu(e).then((function(e){e:{var n=ir(t),r=n.c;n=n.a;for(var i=0;i<e.length;i++){var o=e[i],a=n,s=r;if(0==o.indexOf("chrome-extension://")?a=ir(o).a==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:qr.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){e=!0;break e}}e=!1}if(!e)throw new Ia(Rr())}))}function fc(e){return e.m||(e.m=Ur().then((function(){if(!e.u){var t=e.c,n=e.i,r=cc(e.b),i=new sc(e.s,e.g,e.b,e.f);i.f=t,i.b=n,i.c=re(r||[]),e.u=i.toString()}e.v=new Qu(e.u),vc(e)}))),e.m}function dc(e){return e.l||(e.C=e.c?Qr(e.c,cc(e.b)):null,e.l=new Ds(e.g,L(e.i),e.C),e.f&&Vs(e.l,e.f)),e.l}function pc(e,t,n,r,i,o,a,s,u,c,l,h){return e=new uc(e,t,n,r,i,h),e.l=o,e.g=a,e.i=s,e.b=we(u||null),e.f=c,e.zb(l).toString()}function vc(e){if(!e.v)throw Error("IfcHandler must be initialized!");tc(e.v,(function(t){var n={};if(t&&t.authEvent){var r=!1;for(t=wa(t.authEvent),n=0;n<e.h.length;n++)r=e.h[n](t)||r;return n={},n.status=r?"ACK":"ERROR",Ut(n)}return n.status="ERROR",Ut(n)}))}function gc(e){var t={type:"webStorageSupport"};return fc(e).then((function(){return ec(e.v,t)})).then((function(e){if(e&&e.length&&"undefined"!==typeof e[0].webStorageSupport)return e[0].webStorageSupport;throw Error()}))}function mc(e){if(this.a=e||r.Z.INTERNAL.reactNative&&r.Z.INTERNAL.reactNative.AsyncStorage,!this.a)throw new A("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function yc(e){this.b=e,this.a={},this.f=E(this.c,this)}sc.prototype.toString=function(){return this.f?nr(this.a,"v",this.f):mr(this.a.b,"v"),this.b?nr(this.a,"eid",this.b):mr(this.a.b,"eid"),this.c.length?nr(this.a,"fw",this.c.join(",")):mr(this.a.b,"fw"),this.a.toString()},uc.prototype.zb=function(e){return this.h=e,this},uc.prototype.toString=function(){if(this.v){var e=ir(this.v.url);e=or(e.c,e.a,e.g,"/emulator/auth/handler")}else e=or("https",this.u,null,"/__/auth/handler");if(nr(e,"apiKey",this.s),nr(e,"appName",this.c),nr(e,"authType",this.m),this.a.isOAuthProvider){var t=this.a;try{var n=r.Z.app(this.c).auth().la()}catch(u){n=null}for(var i in t.pb=n,nr(e,"providerId",this.a.providerId),n=this.a,t=si(n.Jb),t)t[i]=t[i].toString();i=n.Qc,t=we(t);for(var o=0;o<i.length;o++){var a=i[o];a in t&&delete t[a]}n.qb&&n.pb&&!t[n.qb]&&(t[n.qb]=n.pb),be(t)||nr(e,"customParameters",ai(t))}if("function"===typeof this.a.Rb&&(n=this.a.Rb(),n.length&&nr(e,"scopes",n.join(","))),this.l?nr(e,"redirectUrl",this.l):mr(e.b,"redirectUrl"),this.g?nr(e,"eventId",this.g):mr(e.b,"eventId"),this.i?nr(e,"v",this.i):mr(e.b,"v"),this.b)for(var s in this.b)this.b.hasOwnProperty(s)&&!rr(e,s)&&nr(e,s,this.b[s]);return this.h?nr(e,"tid",this.h):mr(e.b,"tid"),this.f?nr(e,"eid",this.f):mr(e.b,"eid"),s=cc(this.c),s.length&&nr(e,"fw",s.join(",")),e.toString()},e=lc.prototype,e.Pb=function(e,t,n){var r=new A("popup-closed-by-user"),i=new A("web-storage-unsupported"),o=this,a=!1;return this.ma().then((function(){gc(o).then((function(n){n||(e&&Lr(e),t(i),a=!0)}))})).o((function(){})).then((function(){if(!a)return Fr(e)})).then((function(){if(!a)return Hn(n).then((function(){t(r)}))}))},e.Yb=function(){var e=Xr();return!oi(e)&&!li(e)},e.Ub=function(){return!1},e.Nb=function(e,t,n,r,i,o,a,s){if(!e)return Bt(new A("popup-blocked"));if(a&&!oi())return this.ma().o((function(t){Lr(e),i(t)})),r(),Ut();this.a||(this.a=hc(dc(this)));var u=this;return this.a.then((function(){var t=u.ma().o((function(t){throw Lr(e),i(t),t}));return r(),t})).then((function(){if(ya(n),!a){var r=pc(u.s,u.g,u.b,t,n,null,o,u.c,void 0,u.i,s,u.f);Nr(r,e)}})).o((function(e){throw"auth/network-request-failed"==e.code&&(u.a=null),e}))},e.Ob=function(e,t,n,r){this.a||(this.a=hc(dc(this)));var i=this;return this.a.then((function(){ya(t);var o=pc(i.s,i.g,i.b,e,t,Rr(),n,i.c,void 0,i.i,r,i.f);Nr(o)})).o((function(e){throw"auth/network-request-failed"==e.code&&(i.a=null),e}))},e.ma=function(){var e=this;return fc(this).then((function(){return e.v.sb})).o((function(){throw e.a=null,new A("network-request-failed")}))},e.ac=function(){return!0},e.Ea=function(e){this.h.push(e)},e.Ta=function(e){te(this.h,(function(t){return t==e}))},e=mc.prototype,e.get=function(e){return Ut(this.a.getItem(e)).then((function(e){return e&&ui(e)}))},e.set=function(e,t){return Ut(this.a.setItem(e,ai(t)))},e.U=function(e){return Ut(this.a.removeItem(e))},e.ca=function(){},e.ia=function(){};var bc,wc=[];function _c(){var e=Gr()?self:null;if($(wc,(function(n){n.b==e&&(t=n)})),!t){var t=new yc(e);wc.push(t)}return t}function Tc(e,t,n){be(e.a)&&e.b.addEventListener("message",e.f),"undefined"===typeof e.a[t]&&(e.a[t]=[]),e.a[t].push(n)}function Sc(e){this.a=e}function Ec(e){this.c=e,this.b=!1,this.a=[]}function Ic(e,t,n,r){var i,o,a,s,u=n||{},c=null;if(e.b)return Bt(Error("connection_unavailable"));var l=r?800:50,h="undefined"!==typeof MessageChannel?new MessageChannel:null;return new Ot((function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),a=setTimeout((function(){r(Error("unsupported_event"))}),l),o=function(e){e.data.eventId===i&&("ack"===e.data.status?(clearTimeout(a),s=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===e.data.status?(clearTimeout(s),"undefined"!==typeof e.data.response?n(e.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),r(Error("invalid_response"))))},c={messageChannel:h,onMessage:o},e.a.push(c),h.port1.addEventListener("message",o),e.c.postMessage({eventType:t,eventId:i,data:u},[h.port2])):r(Error("connection_unavailable"))})).then((function(t){return kc(e,c),t})).o((function(t){throw kc(e,c),t}))}function kc(e,t){if(t){var n=t.messageChannel,r=t.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),te(e.a,(function(e){return e==t}))}}function Cc(){if(!Pc())throw new A("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=l.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var e=this;Gr()&&self?(this.v=_c(),Tc(this.v,"keyChanged",(function(t,n){return Fc(e).then((function(t){return 0<t.length&&$(e.a,(function(e){e(t)})),{keyProcessed:X(t,n.key)}}))})),Tc(this.v,"ping",(function(){return Ut(["keyChanged"])}))):yi().then((function(t){(e.h=t)&&(e.g=new Ec(new Sc(t)),Ic(e.g,"ping",null,!0).then((function(t){t[0].fulfilled&&X(t[0].value,"keyChanged")&&(e.s=!0)})).o((function(){})))}))}function xc(e){return new Ot((function(t,n){var r=e.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){t()},r.onerror=function(e){n(Error(e.target.error))}}))}function Ac(e){return new Ot((function(t,n){var r=e.m.open("firebaseLocalStorageDb",1);r.onerror=function(e){try{e.preventDefault()}catch(t){}n(Error(e.target.error))},r.onupgradeneeded=function(e){e=e.target.result;try{e.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(t){n(t)}},r.onsuccess=function(r){r=r.target.result,r.objectStoreNames.contains("firebaseLocalStorage")?t(r):xc(e).then((function(){return Ac(e)})).then((function(e){t(e)})).o((function(e){n(e)}))}}))}function Rc(e){return e.i||(e.i=Ac(e)),e.i}function Nc(e,t){function n(i,o){Rc(e).then(t).then(i).o((function(t){if(!(3<++r))return Rc(e).then((function(t){return t.close(),e.i=void 0,n(i,o)})).o((function(e){o(e)}));o(t)}))}var r=0;return new Ot(n)}function Pc(){try{return!!l.indexedDB}catch(ep){return!1}}function Oc(e){return e.objectStore("firebaseLocalStorage")}function Dc(e,t){return e.transaction(["firebaseLocalStorage"],t?"readwrite":"readonly")}function Lc(e){return new Ot((function(t,n){e.onsuccess=function(e){e&&e.target?t(e.target.result):t()},e.onerror=function(e){n(e.target.error)}}))}function Mc(e,t){return e.g&&e.h&&mi()===e.h?Ic(e.g,"keyChanged",{key:t},e.s).then((function(){})).o((function(){})):Ut()}function Fc(e){return Rc(e).then((function(e){var t=Oc(Dc(e,!1));return t.getAll?Lc(t.getAll()):new Ot((function(e,n){var r=[],i=t.openCursor();i.onsuccess=function(t){(t=t.target.result)?(r.push(t.value),t["continue"]()):e(r)},i.onerror=function(e){n(e.target.error)}}))})).then((function(t){var n={},r=[];if(0==e.b){for(r=0;r<t.length;r++)n[t[r].fbase_key]=t[r].value;r=Pr(e.c,n),e.c=n}return r}))}function qc(e){function t(){e.f=setTimeout((function(){e.l=Fc(e).then((function(t){0<t.length&&$(e.a,(function(e){e(t)}))})).then((function(){t()})).o((function(e){"STOP_EVENT"!=e.message&&t()}))}),800)}jc(e),t()}function jc(e){e.l&&e.l.cancel("STOP_EVENT"),e.f&&(clearTimeout(e.f),e.f=null)}function Uc(e){var t=this,n=null;this.a=[],this.type="indexedDB",this.c=e,this.b=Ut().then((function(){if(Pc()){var e=ci(),r="__sak"+e;return bc||(bc=new Cc),n=bc,n.set(r,e).then((function(){return n.get(r)})).then((function(t){if(t!==e)throw Error("indexedDB not supported!");return n.U(r)})).then((function(){return n})).o((function(){return t.c}))}return t.c})).then((function(e){return t.type=e.type,e.ca((function(e){$(t.a,(function(t){t(e)}))})),e}))}function Bc(){this.a={},this.type="inMemory"}function Vc(){if(!Gc()){if("Node"==zr())throw new A("internal-error","The LocalStorage compatibility library was not found.");throw new A("web-storage-unsupported")}this.a=Hc()||r.Z.INTERNAL.node.localStorage,this.type="localStorage"}function Hc(){try{var e=l.localStorage,t=ci();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(n){return null}}function Gc(){var e="Node"==zr();if(e=Hc()||e&&r.Z.INTERNAL.node&&r.Z.INTERNAL.node.localStorage,!e)return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(t){return!1}}function zc(){this.type="nullStorage"}function Kc(){if(!Wc()){if("Node"==zr())throw new A("internal-error","The SessionStorage compatibility library was not found.");throw new A("web-storage-unsupported")}this.a=$c()||r.Z.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function $c(){try{var e=l.sessionStorage,t=ci();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(n){return null}}function Wc(){var e="Node"==zr();if(e=$c()||e&&r.Z.INTERNAL.node&&r.Z.INTERNAL.node.sessionStorage,!e)return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(t){return!1}}function Jc(){var e={};e.Browser=Qc,e.Node=Xc,e.ReactNative=el,e.Worker=tl,this.a=e[zr()]}yc.prototype.c=function(e){var t=e.data.eventType,n=e.data.eventId,r=this.a[t];if(r&&0<r.length){e.ports[0].postMessage({status:"ack",eventId:n,eventType:t,response:null});var i=[];$(r,(function(t){i.push(Ut().then((function(){return t(e.origin,e.data.data)})))})),Gt(i).then((function(r){var i=[];$(r,(function(e){i.push({fulfilled:e.Qb,value:e.value,reason:e.reason?e.reason.message:void 0})})),$(i,(function(e){for(var t in e)"undefined"===typeof e[t]&&delete e[t]})),e.ports[0].postMessage({status:"done",eventId:n,eventType:t,response:i})}))}},Sc.prototype.postMessage=function(e,t){this.a.postMessage(e,t)},Ec.prototype.close=function(){for(;0<this.a.length;)kc(this,this.a[0]);this.b=!0},e=Cc.prototype,e.set=function(e,t){var n=this,r=!1;return Nc(this,(function(t){return t=Oc(Dc(t,!0)),Lc(t.get(e))})).then((function(i){return Nc(n,(function(o){if(o=Oc(Dc(o,!0)),i)return i.value=t,Lc(o.put(i));n.b++,r=!0;var a={};return a.fbase_key=e,a.value=t,Lc(o.add(a))}))})).then((function(){return n.c[e]=t,Mc(n,e)})).oa((function(){r&&n.b--}))},e.get=function(e){return Nc(this,(function(t){return Lc(Oc(Dc(t,!1)).get(e))})).then((function(e){return e&&e.value}))},e.U=function(e){var t=this,n=!1;return Nc(this,(function(r){return n=!0,t.b++,Lc(Oc(Dc(r,!0))["delete"](e))})).then((function(){return delete t.c[e],Mc(t,e)})).oa((function(){n&&t.b--}))},e.ca=function(e){0==this.a.length&&qc(this),this.a.push(e)},e.ia=function(e){te(this.a,(function(t){return t==e})),0==this.a.length&&jc(this)},e=Uc.prototype,e.get=function(e){return this.b.then((function(t){return t.get(e)}))},e.set=function(e,t){return this.b.then((function(n){return n.set(e,t)}))},e.U=function(e){return this.b.then((function(t){return t.U(e)}))},e.ca=function(e){this.a.push(e)},e.ia=function(e){te(this.a,(function(t){return t==e}))},e=Bc.prototype,e.get=function(e){return Ut(this.a[e])},e.set=function(e,t){return this.a[e]=t,Ut()},e.U=function(e){return delete this.a[e],Ut()},e.ca=function(){},e.ia=function(){},e=Vc.prototype,e.get=function(e){var t=this;return Ut().then((function(){var n=t.a.getItem(e);return ui(n)}))},e.set=function(e,t){var n=this;return Ut().then((function(){var r=ai(t);null===r?n.U(e):n.a.setItem(e,r)}))},e.U=function(e){var t=this;return Ut().then((function(){t.a.removeItem(e)}))},e.ca=function(e){l.window&&In(l.window,"storage",e)},e.ia=function(e){l.window&&An(l.window,"storage",e)},e=zc.prototype,e.get=function(){return Ut(null)},e.set=function(){return Ut()},e.U=function(){return Ut()},e.ca=function(){},e.ia=function(){},e=Kc.prototype,e.get=function(e){var t=this;return Ut().then((function(){var n=t.a.getItem(e);return ui(n)}))},e.set=function(e,t){var n=this;return Ut().then((function(){var r=ai(t);null===r?n.U(e):n.a.setItem(e,r)}))},e.U=function(e){var t=this;return Ut().then((function(){t.a.removeItem(e)}))},e.ca=function(){},e.ia=function(){};var Zc,Yc,Qc={F:Vc,cb:Kc},Xc={F:Vc,cb:Kc},el={F:mc,cb:zc},tl={F:Vc,cb:zc},nl={rd:"local",NONE:"none",td:"session"};function rl(e){var t=new A("invalid-persistence-type"),n=new A("unsupported-persistence-type");e:{for(r in nl)if(nl[r]==e){var r=!0;break e}r=!1}if(!r||"string"!==typeof e)throw t;switch(zr()){case"ReactNative":if("session"===e)throw n;break;case"Node":if("none"!==e)throw n;break;case"Worker":if("session"===e||!Pc()&&"none"!==e)throw n;break;default:if(!ti()&&"none"!==e)throw n}}function il(){var e=!(li(Xr())||!Hr()),t=oi(),n=ti();this.m=e,this.h=t,this.l=n,this.a={},Zc||(Zc=new Jc),e=Zc;try{this.g=!Ar()&&gi()||!l.indexedDB?new e.a.F:new Uc(Gr()?new Bc:new e.a.F)}catch(r){this.g=new Bc,this.h=!0}try{this.i=new e.a.cb}catch(r){this.i=new Bc}this.v=new Bc,this.f=E(this.Zb,this),this.b={}}function ol(){return Yc||(Yc=new il),Yc}function al(e,t){switch(t){case"session":return e.i;case"none":return e.v;default:return e.g}}function sl(e,t){return"firebase:"+e.name+(t?":"+t:"")}function ul(e,t,n){var r=sl(t,n),i=al(e,t.F);return e.get(t,n).then((function(o){var a=null;try{a=ui(l.localStorage.getItem(r))}catch(s){}if(a&&!o)return l.localStorage.removeItem(r),e.set(t,a,n);a&&o&&"localStorage"!=i.type&&l.localStorage.removeItem(r)}))}function cl(e,t,n){return n=sl(t,n),"local"==t.F&&(e.b[n]=null),al(e,t.F).U(n)}function ll(e){hl(e),e.c=setInterval((function(){for(var t in e.a){var n=l.localStorage.getItem(t),r=e.b[t];n!=r&&(e.b[t]=n,n=new pn({type:"storage",key:t,target:window,oldValue:r,newValue:n,a:!0}),e.Zb(n))}}),1e3)}function hl(e){e.c&&(clearInterval(e.c),e.c=null)}function fl(e){this.a=e,this.b=ol()}e=il.prototype,e.get=function(e,t){return al(this,e.F).get(sl(e,t))},e.set=function(e,t,n){var r=sl(e,n),i=this,o=al(this,e.F);return o.set(r,t).then((function(){return o.get(r)})).then((function(t){"local"==e.F&&(i.b[r]=t)}))},e.addListener=function(e,t,n){e=sl(e,t),this.l&&(this.b[e]=l.localStorage.getItem(e)),be(this.a)&&(al(this,"local").ca(this.f),this.h||(Ar()||!gi())&&l.indexedDB||!this.l||ll(this)),this.a[e]||(this.a[e]=[]),this.a[e].push(n)},e.removeListener=function(e,t,n){e=sl(e,t),this.a[e]&&(te(this.a[e],(function(e){return e==n})),0==this.a[e].length&&delete this.a[e]),be(this.a)&&(al(this,"local").ia(this.f),hl(this))},e.Zb=function(e){if(e&&e.g){var t=e.a.key;if(null==t)for(var n in this.a){var r=this.b[n];"undefined"===typeof r&&(r=null);var i=l.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.nb(n))}else if(0==t.indexOf("firebase:")&&this.a[t]){if("undefined"!==typeof e.a.a?al(this,"local").ia(this.f):hl(this),this.m)if(n=l.localStorage.getItem(t),r=e.a.newValue,r!==n)null!==r?l.localStorage.setItem(t,r):l.localStorage.removeItem(t);else if(this.b[t]===r&&"undefined"===typeof e.a.a)return;var o=this;n=function(){"undefined"===typeof e.a.a&&o.b[t]===l.localStorage.getItem(t)||(o.b[t]=l.localStorage.getItem(t),o.nb(t))},rt&&gt&&10==gt&&l.localStorage.getItem(t)!==e.a.newValue&&e.a.newValue!==e.a.oldValue?setTimeout(n,10):n()}}else $(e,E(this.nb,this))},e.nb=function(e){this.a[e]&&$(this.a[e],(function(e){e()}))};var dl,pl={name:"authEvent",F:"local"};function vl(e){return e.b.get(pl,e.a).then((function(e){return wa(e)}))}function gl(){this.a=ol()}function ml(){this.b=-1}function yl(e,t){this.b=bl,this.f=l.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=e,this.h=t,this.l=l.Int32Array?new Int32Array(64):Array(64),void 0===dl&&(dl=l.Int32Array?new Int32Array(kl):kl),this.reset()}C(yl,ml);for(var bl=64,wl=bl-1,_l=[],Tl=0;Tl<wl;Tl++)_l[Tl]=0;var Sl=ne(128,_l);function El(e){for(var t=e.f,n=e.l,r=0,i=0;i<t.length;)n[r++]=t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3],i=4*r;for(t=16;64>t;t++){i=0|n[t-15],r=0|n[t-2];var o=(0|n[t-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[t-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[t]=o+a|0}r=0|e.a[0],i=0|e.a[1];var s=0|e.a[2],u=0|e.a[3],c=0|e.a[4],l=0|e.a[5],h=0|e.a[6];for(o=0|e.a[7],t=0;64>t;t++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=c&l^~c&h,o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0,a=a+(0|dl[t])|0,a=o+(a+(0|n[t])|0)|0,o=h,h=l,l=c,c=u+a|0,u=s,s=i,i=r,r=a+f|0}e.a[0]=e.a[0]+r|0,e.a[1]=e.a[1]+i|0,e.a[2]=e.a[2]+s|0,e.a[3]=e.a[3]+u|0,e.a[4]=e.a[4]+c|0,e.a[5]=e.a[5]+l|0,e.a[6]=e.a[6]+h|0,e.a[7]=e.a[7]+o|0}function Il(e,t,n){void 0===n&&(n=t.length);var r=0,i=e.c;if("string"===typeof t)for(;r<n;)e.f[i++]=t.charCodeAt(r++),i==e.b&&(El(e),i=0);else{if(!g(t))throw Error("message must be string or array");for(;r<n;){var o=t[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");e.f[i++]=o,i==e.b&&(El(e),i=0)}}e.c=i,e.g+=n}yl.prototype.reset=function(){this.g=this.c=0,this.a=l.Int32Array?new Int32Array(this.h):re(this.h)};var kl=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Cl(){yl.call(this,8,xl)}C(Cl,yl);var xl=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Al(e,t,n,r,i,o){this.v=e,this.i=t,this.l=n,this.m=r||null,this.u=i||null,this.s=o,this.h=t+":"+n,this.C=new gl,this.g=new fl(this.h),this.f=null,this.b=[],this.a=this.c=null}function Rl(e){return new A("invalid-cordova-configuration",e)}function Nl(){for(var e=20,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}function Pl(e){var t=new Cl;Il(t,e),e=[];var n=8*t.g;56>t.c?Il(t,Sl,56-t.c):Il(t,Sl,t.b-(t.c-56));for(var r=63;56<=r;r--)t.f[r]=255&n,n/=256;for(El(t),r=n=0;r<t.i;r++)for(var i=24;0<=i;i-=8)e[n++]=t.a[r]>>i&255;return mo(e)}function Ol(e,t,n,r,i){var o=Nl(),a=new ba(t,r,null,o,new A("no-auth-event"),null,i),s=ei("BuildInfo.packageName",l);if("string"!==typeof s)throw new A("invalid-cordova-configuration");var u=ei("BuildInfo.displayName",l),c={};if(Xr().toLowerCase().match(/iphone|ipad|ipod/))c.ibi=s;else{if(!Xr().toLowerCase().match(/android/))return Bt(new A("operation-not-supported-in-this-environment"));c.apn=s}u&&(c.appDisplayName=u),o=Pl(o),c.sessionId=o;var h=pc(e.v,e.i,e.l,t,n,null,r,e.m,c,e.u,i,e.s);return e.ma().then((function(){var t=e.h;return e.C.a.set(pl,a.w(),t)})).then((function(){var t=ei("cordova.plugins.browsertab.isAvailable",l);if("function"!==typeof t)throw new A("invalid-cordova-configuration");var n=null;t((function(t){if(t){if(n=ei("cordova.plugins.browsertab.openUrl",l),"function"!==typeof n)throw new A("invalid-cordova-configuration");n(h)}else{if(n=ei("cordova.InAppBrowser.open",l),"function"!==typeof n)throw new A("invalid-cordova-configuration");t=Xr(),e.a=n(h,t.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||t.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}function Dl(e,t){for(var n=0;n<e.b.length;n++)try{e.b[n](t)}catch(r){}}function Ll(e){return e.f||(e.f=e.ma().then((function(){return new Ot((function(t){function n(r){return t(r),e.Ta(n),!1}e.Ea(n),Fl(e)}))}))),e.f}function Ml(e){var t=null;return vl(e.g).then((function(n){return t=n,n=e.g,cl(n.b,pl,n.a)})).then((function(){return t}))}function Fl(e){function t(t){r=!0,i&&i.cancel(),Ml(e).then((function(r){var i=n;if(r&&t&&t.url){var o=null;i=qo(t.url),-1!=i.indexOf("/__/auth/callback")&&(o=ir(i),o=ui(rr(o,"firebaseError")||null),o=(o="object"===typeof o?R(o):null)?new ba(r.c,r.b,null,null,o,null,r.T()):new ba(r.c,r.b,i,r.f,null,null,r.T())),i=o||n}Dl(e,i)}))}var n=new ba("unknown",null,null,null,new A("no-auth-event")),r=!1,i=Hn(500).then((function(){return Ml(e).then((function(){r||Dl(e,n)}))})),o=l.handleOpenURL;l.handleOpenURL=function(e){if(0==e.toLowerCase().indexOf(ei("BuildInfo.packageName",l).toLowerCase()+"://")&&t({url:e}),"function"===typeof o)try{o(e)}catch(n){console.error(n)}},Sa||(Sa=new _a),Ea(t)}function ql(e){this.a=e,this.b=ol()}e=Al.prototype,e.ma=function(){return this.Ia?this.Ia:this.Ia=Br().then((function(){if("function"!==typeof ei("universalLinks.subscribe",l))throw Rl("cordova-universal-links-plugin-fix is not installed");if("undefined"===typeof ei("BuildInfo.packageName",l))throw Rl("cordova-plugin-buildinfo is not installed");if("function"!==typeof ei("cordova.plugins.browsertab.openUrl",l))throw Rl("cordova-plugin-browsertab is not installed");if("function"!==typeof ei("cordova.InAppBrowser.open",l))throw Rl("cordova-plugin-inappbrowser is not installed")}),(function(){throw new A("cordova-not-ready")}))},e.Pb=function(e,t){return t(new A("operation-not-supported-in-this-environment")),Ut()},e.Nb=function(){return Bt(new A("operation-not-supported-in-this-environment"))},e.ac=function(){return!1},e.Yb=function(){return!0},e.Ub=function(){return!0},e.Ob=function(e,t,n,r){if(this.c)return Bt(new A("redirect-operation-pending"));var i=this,o=l.document,a=null,s=null,u=null,c=null;return this.c=Ut().then((function(){return ya(t),Ll(i)})).then((function(){return Ol(i,e,t,n,r)})).then((function(){return new Ot((function(e,t){s=function(){var t=ei("cordova.plugins.browsertab.close",l);return e(),"function"===typeof t&&t(),i.a&&"function"===typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(s),u=function(){a||(a=Hn(2e3).then((function(){t(new A("redirect-cancelled-by-user"))})))},c=function(){di()&&u()},o.addEventListener("resume",u,!1),Xr().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",c,!1)})).o((function(e){return Ml(i).then((function(){throw e}))}))})).oa((function(){u&&o.removeEventListener("resume",u,!1),c&&o.removeEventListener("visibilitychange",c,!1),a&&a.cancel(),s&&i.Ta(s),i.c=null}))},e.Ea=function(e){this.b.push(e),Ll(this).o((function(t){"auth/invalid-cordova-configuration"===t.code&&(t=new ba("unknown",null,null,null,new A("no-auth-event")),e(t))}))},e.Ta=function(e){te(this.b,(function(t){return t==e}))};var jl={name:"pendingRedirect",F:"session"};function Ul(e){return e.b.set(jl,"pending",e.a)}function Bl(e){return cl(e.b,jl,e.a)}function Vl(e){return e.b.get(jl,e.a).then((function(e){return"pending"==e}))}function Hl(e,t,n,r){this.i={},this.u=0,this.D=e,this.v=t,this.m=n,this.J=r,this.h=[],this.f=!1,this.l=E(this.s,this),this.b=new ih,this.C=new fh,this.g=new ql(nh(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=Gl(this.D,this.v,this.m,N,this.J)}function Gl(e,t,n,i,o){var a=r.Z.SDK_VERSION||null;return Vr()?new Al(e,t,n,a,i,o):new lc(e,t,n,a,i,o)}function zl(e){e.f||(e.f=!0,e.a.Ea(e.l));var t=e.a;return e.a.ma().o((function(n){throw e.a==t&&e.reset(),n}))}function Kl(e){e.a.Yb()&&zl(e).o((function(t){var n=new ba("unknown",null,null,null,new A("operation-not-supported-in-this-environment"));Ql(t)&&e.s(n)})),e.a.Ub()||oh(e.b)}function $l(e,t){X(e.h,t)||e.h.push(t),e.f||Vl(e.g).then((function(t){t?Bl(e.g).then((function(){zl(e).o((function(t){var n=new ba("unknown",null,null,null,new A("operation-not-supported-in-this-environment"));Ql(t)&&e.s(n)}))})):Kl(e)})).o((function(){Kl(e)}))}function Wl(e,t){te(e.h,(function(e){return e==t}))}Hl.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=Gl(this.D,this.v,this.m,null,this.J),this.i={}},Hl.prototype.s=function(e){if(!e)throw new A("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),e&&e.getUid()&&this.i.hasOwnProperty(e.getUid()))return!1;for(var t=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Gb(e.c,e.b)){(t=this.c[e.c])&&(t.h(e,r),e&&(e.f||e.b)&&(this.i[e.getUid()]=!0,this.u=Date.now())),t=!0;break}}return oh(this.b),t};var Jl=new fi(2e3,1e4),Zl=new fi(3e4,6e4);function Yl(e,t,n,r,i,o,a){return e.a.Nb(t,n,r,(function(){e.f||(e.f=!0,e.a.Ea(e.l))}),(function(){e.reset()}),i,o,a)}function Ql(e){return!(!e||"auth/cordova-not-ready"!=e.code)}function Xl(e,t,n,r,i){var o;return Ul(e.g).then((function(){return e.a.Ob(t,n,r,i).o((function(t){if(Ql(t))throw new A("operation-not-supported-in-this-environment");return o=t,Bl(e.g).then((function(){throw o}))})).then((function(){return e.a.ac()?new Ot((function(){})):Bl(e.g).then((function(){return e.ra()})).then((function(){})).o((function(){}))}))}))}function eh(e,t,n,r,i){return e.a.Pb(r,(function(e){t.na(n,null,e,i)}),Jl.get())}Hl.prototype.ra=function(){return this.b.ra()};var th={};function nh(e,t,n){return e=e+":"+t,n&&(e=e+":"+n.url),e}function rh(e,t,n,r){var i=nh(t,n,r);return th[i]||(th[i]=new Hl(e,t,n,r)),th[i]}function ih(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function oh(e){e.g||(e.g=!0,lh(e,!1,null,null))}function ah(e){e.g&&!e.i&&lh(e,!1,null,null)}function sh(e,t,n){n=n.Fa(t.c,t.b);var r=t.g,i=t.f,o=t.i,a=t.T(),s=!!t.c.match(/Redirect$/);n(r,i,a,o).then((function(t){lh(e,s,t,null)})).o((function(t){lh(e,s,null,t)}))}function uh(e,t){if(e.b=function(){return Bt(t)},e.c.length)for(var n=0;n<e.c.length;n++)e.c[n](t)}function ch(e,t){if(e.b=function(){return Ut(t)},e.f.length)for(var n=0;n<e.f.length;n++)e.f[n](t)}function lh(e,t,n,r){t?r?uh(e,r):ch(e,n):ch(e,{user:null}),e.f=[],e.c=[]}function hh(e){var t=new A("timeout");e.a&&e.a.cancel(),e.a=Hn(Zl.get()).then((function(){e.b||(e.g=!0,lh(e,!0,null,t))}))}function fh(){}function dh(e,t){var n=e.b,r=e.c;t.Fa(r,n)(e.g,e.f,e.T(),e.i).then((function(e){t.na(r,e,null,n)})).o((function(e){t.na(r,null,e,n)}))}function ph(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(e){this.jb=e},enumerable:!1})}function vh(e,t){this.a=t,Si(this,"verificationId",e)}function gh(e,t,n,r){return new va(e).gb(t,n).then((function(e){return new vh(e,r)}))}function mh(e){var t=Eo(e);if(!(t&&t.exp&&t.auth_time&&t.iat))throw new A("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Ei(this,{token:e,expirationTime:vi(1e3*t.exp),authTime:vi(1e3*t.auth_time),issuedAtTime:vi(1e3*t.iat),signInProvider:t.firebase&&t.firebase.sign_in_provider?t.firebase.sign_in_provider:null,signInSecondFactor:t.firebase&&t.firebase.sign_in_second_factor?t.firebase.sign_in_second_factor:null,claims:t})}function yh(e,t,n){var r=t&&t[wh];if(!r)throw new A("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=e,this.f=we(t),this.g=n,this.c=new jo(null,r),this.b=[];var i=this;$(t[bh]||[],(function(e){(e=Ri(e))&&i.b.push(e)})),Si(this,"auth",this.a),Si(this,"session",this.c),Si(this,"hints",this.b)}ih.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},ih.prototype.h=function(e,t){if(e){this.reset(),this.g=!0;var n=e.c,r=e.b,i=e.a&&"auth/web-storage-unsupported"==e.a.code,o=e.a&&"auth/operation-not-supported-in-this-environment"==e.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?e.a?(lh(this,!0,null,e.a),Ut()):t.Fa(n,r)?sh(this,e,t):Bt(new A("invalid-auth-event")):(lh(this,!1,null,null),Ut())}else Bt(new A("invalid-auth-event"))},ih.prototype.ra=function(){var e=this;return new Ot((function(t,n){e.b?e.b().then(t,n):(e.f.push(t),e.c.push(n),hh(e))}))},fh.prototype.h=function(e,t){if(e){var n=e.c,r=e.b;e.a?(t.na(e.c,null,e.a,e.b),Ut()):t.Fa(n,r)?dh(e,t):Bt(new A("invalid-auth-event"))}else Bt(new A("invalid-auth-event"))},vh.prototype.confirm=function(e){return e=ga(this.verificationId,e),this.a(e)};var bh="mfaInfo",wh="mfaPendingCredential";function _h(e,t,n,r){A.call(this,"multi-factor-auth-required",r,t),this.b=new yh(e,t,n),Si(this,"resolver",this.b)}function Th(e,t,n){if(e&&y(e.serverResponse)&&"auth/multi-factor-auth-required"===e.code)try{return new _h(t,e.serverResponse,n,e.message)}catch(r){}return null}function Sh(){}function Eh(e,t,n,r){return n.Ha().then((function(n){return n={idToken:n},"undefined"!==typeof r&&(n.displayName=r),Te(n,{phoneVerificationInfo:pa(e.a)}),Ju(t,Eu,n)}))}function Ih(e,t,n){return n.Ha().then((function(n){return n={mfaPendingCredential:n},Te(n,{phoneVerificationInfo:pa(e.a)}),Ju(t,Iu,n)}))}function kh(e){Si(this,"factorId",e.fa),this.a=e}function Ch(e){if(kh.call(this,e),this.a.fa!=va.PROVIDER_ID)throw new A("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function xh(e,t){for(var n in dn.call(this,e),t)this[n]=t[n]}function Ah(e,t){this.a=e,this.b=[],this.c=E(this.yc,this),In(this.a,"userReloaded",this.c);var n=[];t&&t.multiFactor&&t.multiFactor.enrolledFactors&&$(t.multiFactor.enrolledFactors,(function(e){var t=null,r={};if(e){e.uid&&(r[Oi]=e.uid),e.displayName&&(r[Ni]=e.displayName),e.enrollmentTime&&(r[Pi]=new Date(e.enrollmentTime).toISOString()),e.phoneNumber&&(r[Di]=e.phoneNumber);try{t=new Li(r)}catch(i){}e=t}else e=null;e&&n.push(e)})),Nh(this,n)}function Rh(e){var t=[];return $(e.mfaInfo||[],(function(e){(e=Ri(e))&&t.push(e)})),t}function Nh(e,t){e.b=t,Si(e,"enrolledFactors",t)}function Ph(e,t,n){if(this.h=e,this.i=t,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function Oh(e,t){return t?(e.a=e.c,e.g()):(t=e.a,e.a*=2,e.a>e.f&&(e.a=e.f),t)}function Dh(e,t){e.stop(),e.b=Hn(Oh(e,t)).then((function(){return pi()})).then((function(){return e.h()})).then((function(){Dh(e,!0)})).o((function(t){e.i(t)&&Dh(e,!1)}))}function Lh(e){this.f=e,this.b=this.a=null,this.c=Date.now()}function Mh(e,t){"undefined"===typeof t&&(e.b?(t=e.b,t=t.a-t.g):t=0),e.c=Date.now()+1e3*t}function Fh(e,t){e.b=So(t[Ms]||""),e.a=t.refreshToken,t=t.expiresIn,Mh(e,"undefined"!==typeof t?Number(t):void 0)}function qh(e,t){e.b=t.b,e.a=t.a,e.c=t.c}function jh(e,t){return Js(e.f,t).then((function(t){return e.b=So(t.access_token),e.a=t.refresh_token,Mh(e,t.expires_in),{accessToken:e.b.toString(),refreshToken:e.a}})).o((function(t){throw"auth/user-token-expired"==t.code&&(e.a=null),t}))}function Uh(e,t){this.a=e||null,this.b=t||null,Ei(this,{lastSignInTime:vi(t||null),creationTime:vi(e||null)})}function Bh(e){return new Uh(e.a,e.b)}function Vh(e,t,n,r,i,o){Ei(this,{uid:e,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:t})}function Hh(e,t,n){this.N=[],this.l=e.apiKey,this.m=e.appName,this.s=e.authDomain||null;var i=r.Z.SDK_VERSION?Qr(r.Z.SDK_VERSION):null;this.a=new Ds(this.l,L(N),i),(this.u=e.emulatorConfig||null)&&Vs(this.a,this.u),this.h=new Lh(this.a),Xh(this,t[Ms]),Fh(this.h,t),Si(this,"refreshToken",this.h.a),rf(this,n||{}),qn.call(this),this.P=!1,this.s&&ni()&&(this.b=rh(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=Zh(this),this.ba=E(this.ib,this);var o=this;this.za=null,this.Pa=function(e){o.xa(e.h)},this.qa=null,this.Ba=function(e){Gh(o,e.c)},this.$=null,this.aa=[],this.Oa=function(e){$h(o,e.f)},this.ja=null,this.S=new Ah(this,n),Si(this,"multiFactor",this.S)}function Gh(e,t){e.u=t,Vs(e.a,t),e.b&&(t=e.b,e.b=rh(e.s,e.l,e.m,e.u),e.P&&(Wl(t,e),$l(e.b,e)))}function zh(e,t){e.qa&&An(e.qa,"languageCodeChanged",e.Pa),(e.qa=t)&&In(t,"languageCodeChanged",e.Pa)}function Kh(e,t){e.$&&An(e.$,"emulatorConfigChanged",e.Ba),(e.$=t)&&In(t,"emulatorConfigChanged",e.Ba)}function $h(e,t){e.aa=t,Gs(e.a,r.Z.SDK_VERSION?Qr(r.Z.SDK_VERSION,e.aa):null)}function Wh(e,t){e.ja&&An(e.ja,"frameworkChanged",e.Oa),(e.ja=t)&&In(t,"frameworkChanged",e.Oa)}function Jh(e){try{return r.Z.app(e.m).auth()}catch(t){throw new A("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+e.m+"'!")}}function Zh(e){return new Ph((function(){return e.I(!0)}),(function(e){return!(!e||"auth/network-request-failed"!=e.code)}),(function(){var t=e.h.c-Date.now()-3e5;return 0<t?t:0}))}function Yh(e){e.J||e.D.b||(e.D.start(),An(e,"tokenChanged",e.ba),In(e,"tokenChanged",e.ba))}function Qh(e){An(e,"tokenChanged",e.ba),e.D.stop()}function Xh(e,t){e.Aa=t,Si(e,"_lat",t)}function ef(e,t){te(e.W,(function(e){return e==t}))}function tf(e){for(var t=[],n=0;n<e.W.length;n++)t.push(e.W[n](e));return Gt(t).then((function(){return e}))}function nf(e){e.b&&!e.P&&(e.P=!0,$l(e.b,e))}function rf(e,t){Ei(e,{uid:t.uid,displayName:t.displayName||null,photoURL:t.photoURL||null,email:t.email||null,emailVerified:t.emailVerified||!1,phoneNumber:t.phoneNumber||null,isAnonymous:t.isAnonymous||!1,tenantId:t.tenantId||null,metadata:new Uh(t.createdAt,t.lastLoginAt),providerData:[]}),e.a.b=e.tenantId}function of(){}function af(e){return Ut().then((function(){if(e.J)throw new A("app-deleted")}))}function sf(e){return Z(e.providerData,(function(e){return e.providerId}))}function uf(e,t){t&&(cf(e,t.providerId),e.providerData.push(t))}function cf(e,t){te(e.providerData,(function(e){return e.providerId==t}))}function lf(e,t,n){("uid"!=t||n)&&e.hasOwnProperty(t)&&Si(e,t,n)}function hf(e,t){e!=t&&(Ei(e,{uid:t.uid,displayName:t.displayName,photoURL:t.photoURL,email:t.email,emailVerified:t.emailVerified,phoneNumber:t.phoneNumber,isAnonymous:t.isAnonymous,tenantId:t.tenantId,providerData:[]}),t.metadata?Si(e,"metadata",Bh(t.metadata)):Si(e,"metadata",new Uh),$(t.providerData,(function(t){uf(e,t)})),qh(e.h,t.h),Si(e,"refreshToken",e.h.a),Nh(e.S,t.S.b))}function ff(e){return e.I().then((function(t){var n=e.isAnonymous;return pf(e,t).then((function(){return n||lf(e,"isAnonymous",!1),t}))}))}function df(e,t){t[Ms]&&e.Aa!=t[Ms]&&(Fh(e.h,t),e.dispatchEvent(new xh("tokenChanged")),Xh(e,t[Ms]),lf(e,"refreshToken",e.h.a))}function pf(e,t){return Ju(e.a,ku,{idToken:t}).then(E(e.Kc,e))}function vf(e){return(e=e.providerUserInfo)&&e.length?Z(e,(function(e){return new Vh(e.rawId,e.providerId,e.email,e.displayName,e.photoUrl,e.phoneNumber)})):[]}function gf(e,t){return ff(e).then((function(){if(X(sf(e),t))return tf(e).then((function(){throw new A("provider-already-linked")}))}))}function mf(e,t,n){var r=ma(t);return t=Ao(t),Ii({user:e,credential:r,additionalUserInfo:t,operationType:n})}function yf(e,t){return df(e,t),e.reload().then((function(){return e}))}function bf(e,t,n,i,o){if(!ni())return Bt(new A("operation-not-supported-in-this-environment"));if(e.i&&!o)return Bt(e.i);var a=xo(n.providerId),s=ci(e.uid+":::"),u=null;(!oi()||Hr())&&e.s&&n.isOAuthProvider&&(u=pc(e.s,e.l,e.m,t,n,null,s,r.Z.SDK_VERSION||null,null,null,e.tenantId,e.u));var c=Mr(u,a&&a.va,a&&a.ua);return i=i().then((function(){if(_f(e),!o)return e.I().then((function(){}))})).then((function(){return Yl(e.b,c,t,n,s,!!u,e.tenantId)})).then((function(){return new Ot((function(n,r){e.na(t,null,new A("cancelled-popup-request"),e.g||null),e.f=n,e.C=r,e.g=s,e.c=eh(e.b,e,t,c,s)}))})).then((function(e){return c&&Lr(c),e?Ii(e):null})).o((function(e){throw c&&Lr(c),e})),Tf(e,i,o)}function wf(e,t,n,r,i){if(!ni())return Bt(new A("operation-not-supported-in-this-environment"));if(e.i&&!i)return Bt(e.i);var o=null,a=ci(e.uid+":::");return r=r().then((function(){if(_f(e),!i)return e.I().then((function(){}))})).then((function(){return e.ga=a,tf(e)})).then((function(t){return e.ha&&(t=e.ha,t=t.b.set(xf,e.w(),t.a)),t})).then((function(){return Xl(e.b,t,n,a,e.tenantId)})).o((function(t){if(o=t,e.ha)return Af(e.ha);throw o})).then((function(){if(o)throw o})),Tf(e,r,i)}function _f(e){if(!e.b||!e.P){if(e.b&&!e.P)throw new A("internal-error");throw new A("auth-domain-config-required")}}function Tf(e,t,n){var r=Sf(e,t,n);return e.N.push(r),r.oa((function(){ee(e.N,r)})),r.o((function(t){var n=null;throw t&&"auth/multi-factor-auth-required"===t.code&&(n=Th(t.w(),Jh(e),E(e.jc,e))),n||t}))}function Sf(e,t,n){return e.i&&!n?(t.cancel(),Bt(e.i)):t.o((function(t){throw!t||"auth/user-disabled"!=t.code&&"auth/user-token-expired"!=t.code||(e.i||e.dispatchEvent(new xh("userInvalidated")),e.i=t),t}))}function Ef(e){if(!e.apiKey)return null;var t={apiKey:e.apiKey,authDomain:e.authDomain,appName:e.appName,emulatorConfig:e.emulatorConfig},n={};if(!e.stsTokenManager||!e.stsTokenManager.accessToken)return null;n[Ms]=e.stsTokenManager.accessToken,n.refreshToken=e.stsTokenManager.refreshToken||null;var r=e.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var i=new Hh(t,n,e);return e.providerData&&$(e.providerData,(function(e){e&&uf(i,Ii(e))})),e.redirectEventId&&(i.ga=e.redirectEventId),i}function If(e,t,n,r){var i=new Hh(e,t);return n&&(i.ha=n),r&&$h(i,r),i.reload().then((function(){return i}))}function kf(e,t,n,r){var i=e.h,o={};return o[Ms]=i.b&&i.b.toString(),o.refreshToken=i.a,t=new Hh(t||{apiKey:e.l,authDomain:e.s,appName:e.m},o),n&&(t.ha=n),r&&$h(t,r),hf(t,e),t}function Cf(e){this.a=e,this.b=ol()}yh.prototype.Rc=function(e){var t=this;return e.tb(this.a.a,this.c).then((function(e){var n=we(t.f);return delete n[bh],delete n[wh],Te(n,e),t.g(n)}))},C(_h,A),Sh.prototype.tb=function(e,t,n){return t.type==Uo?Eh(this,e,t,n):Ih(this,e,t)},C(kh,Sh),C(Ch,kh),C(xh,dn),e=Ah.prototype,e.yc=function(e){Nh(this,Rh(e.hd))},e.Sb=function(){return this.a.I().then((function(e){return new jo(e,null)}))},e.fc=function(e,t){var n=this,r=this.a.a;return this.Sb().then((function(n){return e.tb(r,n,t)})).then((function(e){return df(n.a,e),n.a.reload()}))},e.bd=function(e){var t=this,n="string"===typeof e?e:e.uid,r=this.a.a;return this.a.I().then((function(e){return Ju(r,Wu,{idToken:e,mfaEnrollmentId:n})})).then((function(e){var r=J(t.b,(function(e){return e.uid!=n}));return Nh(t,r),df(t.a,e),t.a.reload().o((function(e){if("auth/user-token-expired"!=e.code)throw e}))}))},e.w=function(){return{multiFactor:{enrolledFactors:Z(this.b,(function(e){return e.w()}))}}},Ph.prototype.start=function(){this.a=this.c,Dh(this,!0)},Ph.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},Lh.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},Lh.prototype.getToken=function(e){return e=!!e,this.b&&!this.a?Bt(new A("user-token-expired")):e||!this.b||Date.now()>this.c-3e4?this.a?jh(this,{grant_type:"refresh_token",refresh_token:this.a}):Ut(null):Ut({accessToken:this.b.toString(),refreshToken:this.a})},Uh.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},C(Hh,qn),Hh.prototype.xa=function(e){this.za=e,Bs(this.a,e)},Hh.prototype.la=function(){return this.za},Hh.prototype.Ga=function(){return re(this.aa)},Hh.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())},Si(Hh.prototype,"providerId","firebase"),e=Hh.prototype,e.reload=function(){var e=this;return Tf(this,af(this).then((function(){return ff(e).then((function(){return tf(e)})).then(of)})))},e.oc=function(e){return this.I(e).then((function(e){return new mh(e)}))},e.I=function(e){var t=this;return Tf(this,af(this).then((function(){return t.h.getToken(e)})).then((function(e){if(!e)throw new A("internal-error");return e.accessToken!=t.Aa&&(Xh(t,e.accessToken),t.dispatchEvent(new xh("tokenChanged"))),lf(t,"refreshToken",e.refreshToken),e.accessToken})))},e.Kc=function(e){if(e=e.users,!e||!e.length)throw new A("internal-error");e=e[0],rf(this,{uid:e.localId,displayName:e.displayName,photoURL:e.photoUrl,email:e.email,emailVerified:!!e.emailVerified,phoneNumber:e.phoneNumber,lastLoginAt:e.lastLoginAt,createdAt:e.createdAt,tenantId:e.tenantId});for(var t=vf(e),n=0;n<t.length;n++)uf(this,t[n]);lf(this,"isAnonymous",!(this.email&&e.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new xh("userReloaded",{hd:e}))},e.Lc=function(e){return _i("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(e)},e.ub=function(e){var t=this,n=null;return Tf(this,e.c(this.a,this.uid).then((function(e){return df(t,e),n=mf(t,e,"reauthenticate"),t.i=null,t.reload()})).then((function(){return n})),!0)},e.Cc=function(e){return _i("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(e)},e.rb=function(e){var t=this,n=null;return Tf(this,gf(this,e.providerId).then((function(){return t.I()})).then((function(n){return e.b(t.a,n)})).then((function(e){return n=mf(t,e,"link"),yf(t,e)})).then((function(){return n})))},e.Dc=function(e,t){var n=this;return Tf(this,gf(this,"phone").then((function(){return gh(Jh(n),e,t,E(n.rb,n))})))},e.Mc=function(e,t){var n=this;return Tf(this,Ut().then((function(){return gh(Jh(n),e,t,E(n.ub,n))})),!0)},e.Cb=function(e){var t=this;return Tf(this,this.I().then((function(n){return t.a.Cb(n,e)})).then((function(e){return df(t,e),t.reload()})))},e.ed=function(e){var t=this;return Tf(this,this.I().then((function(n){return e.b(t.a,n)})).then((function(e){return df(t,e),t.reload()})))},e.Db=function(e){var t=this;return Tf(this,this.I().then((function(n){return t.a.Db(n,e)})).then((function(e){return df(t,e),t.reload()})))},e.Eb=function(e){if(void 0===e.displayName&&void 0===e.photoURL)return af(this);var t=this;return Tf(this,this.I().then((function(n){return t.a.Eb(n,{displayName:e.displayName,photoUrl:e.photoURL})})).then((function(e){return df(t,e),lf(t,"displayName",e.displayName||null),lf(t,"photoURL",e.photoUrl||null),$(t.providerData,(function(e){"password"===e.providerId&&(Si(e,"displayName",t.displayName),Si(e,"photoURL",t.photoURL))})),tf(t)})).then(of))},e.cd=function(e){var t=this;return Tf(this,ff(this).then((function(n){return X(sf(t),e)?uu(t.a,n,[e]).then((function(e){var n={};return $(e.providerUserInfo||[],(function(e){n[e.providerId]=!0})),$(sf(t),(function(e){n[e]||cf(t,e)})),n[va.PROVIDER_ID]||Si(t,"phoneNumber",null),tf(t)})):tf(t).then((function(){throw new A("no-such-provider")}))})))},e.delete=function(){var e=this;return Tf(this,this.I().then((function(t){return Ju(e.a,wu,{idToken:t})})).then((function(){e.dispatchEvent(new xh("userDeleted"))}))).then((function(){for(var t=0;t<e.N.length;t++)e.N[t].cancel("app-deleted");zh(e,null),Kh(e,null),Wh(e,null),e.N=[],e.J=!0,Qh(e),Si(e,"refreshToken",null),e.b&&Wl(e.b,e)}))},e.Gb=function(e,t){return!!("linkViaPopup"==e&&(this.g||null)==t&&this.f||"reauthViaPopup"==e&&(this.g||null)==t&&this.f||"linkViaRedirect"==e&&(this.ga||null)==t||"reauthViaRedirect"==e&&(this.ga||null)==t)},e.na=function(e,t,n,r){"linkViaPopup"!=e&&"reauthViaPopup"!=e||r!=(this.g||null)||(n&&this.C?this.C(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(e,t){return"linkViaPopup"==e&&t==(this.g||null)?E(this.Lb,this):"reauthViaPopup"==e&&t==(this.g||null)?E(this.Mb,this):"linkViaRedirect"==e&&(this.ga||null)==t?E(this.Lb,this):"reauthViaRedirect"==e&&(this.ga||null)==t?E(this.Mb,this):null},e.Ec=function(e){var t=this;return bf(this,"linkViaPopup",e,(function(){return gf(t,e.providerId).then((function(){return tf(t)}))}),!1)},e.Nc=function(e){return bf(this,"reauthViaPopup",e,(function(){return Ut()}),!0)},e.Fc=function(e){var t=this;return wf(this,"linkViaRedirect",e,(function(){return gf(t,e.providerId)}),!1)},e.Oc=function(e){return wf(this,"reauthViaRedirect",e,(function(){return Ut()}),!0)},e.Lb=function(e,t,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return n=this.I().then((function(n){return du(i.a,{requestUri:e,postBody:r,sessionId:t,idToken:n})})).then((function(e){return o=mf(i,e,"link"),yf(i,e)})).then((function(){return o})),Tf(this,n)},e.Mb=function(e,t,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null,a=Ut().then((function(){return Ho(pu(i.a,{requestUri:e,sessionId:t,postBody:r,tenantId:n}),i.uid)})).then((function(e){return o=mf(i,e,"reauthenticate"),df(i,e),i.i=null,i.reload()})).then((function(){return o}));return Tf(this,a,!0)},e.vb=function(e){var t=this,n=null;return Tf(this,this.I().then((function(t){return n=t,"undefined"===typeof e||be(e)?{}:go(new oo(e))})).then((function(e){return t.a.vb(n,e)})).then((function(e){if(t.email!=e)return t.reload()})).then((function(){})))},e.Fb=function(e,t){var n=this,r=null;return Tf(this,this.I().then((function(e){return r=e,"undefined"===typeof t||be(t)?{}:go(new oo(t))})).then((function(t){return n.a.Fb(r,e,t)})).then((function(e){if(n.email!=e)return n.reload()})).then((function(){})))},e.jc=function(e){var t=null,n=this;return e=Ho(Ut(e),n.uid).then((function(e){return t=mf(n,e,"reauthenticate"),df(n,e),n.i=null,n.reload()})).then((function(){return t})),Tf(this,e,!0)},e.toJSON=function(){return this.w()},e.w=function(){var e={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&Te(e,this.metadata.w()),$(this.providerData,(function(t){e.providerData.push(ki(t))})),Te(e,this.S.w()),e};var xf={name:"redirectUser",F:"session"};function Af(e){return cl(e.b,xf,e.a)}function Rf(e,t){return e.b.get(xf,e.a).then((function(e){return e&&t&&(e.authDomain=t),Ef(e||{})}))}function Nf(e){this.a=e,this.b=ol(),this.c=null,this.f=Of(this),this.b.addListener(Lf("local"),this.a,E(this.g,this))}function Pf(e,t){var n,r=[];for(n in nl)nl[n]!==t&&r.push(cl(e.b,Lf(nl[n]),e.a));return r.push(cl(e.b,Df,e.a)),Ht(r)}function Of(e){var t=Lf("local"),n=Lf("session"),r=Lf("none");return ul(e.b,t,e.a).then((function(){return e.b.get(n,e.a)})).then((function(i){return i?n:e.b.get(r,e.a).then((function(n){return n?r:e.b.get(t,e.a).then((function(n){return n?t:e.b.get(Df,e.a).then((function(e){return e?Lf(e):t}))}))}))})).then((function(t){return e.c=t,Pf(e,t.F)})).o((function(){e.c||(e.c=t)}))}Nf.prototype.g=function(){var e=this,t=Lf("local");Uf(this,(function(){return Ut().then((function(){return e.c&&"local"!=e.c.F?e.b.get(t,e.a):null})).then((function(n){if(n)return Pf(e,"local").then((function(){e.c=t}))}))}))};var Df={name:"persistence",F:"session"};function Lf(e){return{name:"authUser",F:e}}function Mf(e){return Uf(e,(function(){return e.b.set(Df,e.c.F,e.a)}))}function Ff(e,t){return Uf(e,(function(){return e.b.set(e.c,t.w(),e.a)}))}function qf(e){return Uf(e,(function(){return cl(e.b,e.c,e.a)}))}function jf(e,t,n){return Uf(e,(function(){return e.b.get(e.c,e.a).then((function(e){return e&&t&&(e.authDomain=t),e&&n&&(e.emulatorConfig=n),Ef(e||{})}))}))}function Uf(e,t){return e.f=e.f.then(t,t),e.f}function Bf(e){if(this.l=!1,Si(this,"settings",new ph),Si(this,"app",e),!nd(this).options||!nd(this).options.apiKey)throw new A("invalid-api-key");e=r.Z.SDK_VERSION?Qr(r.Z.SDK_VERSION):null,this.a=new Ds(nd(this).options&&nd(this).options.apiKey,L(N),e),this.P=[],this.s=[],this.N=[],this.Pa=r.Z.INTERNAL.createSubscribe(E(this.zc,this)),this.W=void 0,this.ib=r.Z.INTERNAL.createSubscribe(E(this.Ac,this)),Yf(this,null),this.i=new Nf(nd(this).options.apiKey+":"+nd(this).name),this.D=new Cf(nd(this).options.apiKey+":"+nd(this).name),this.$=sd(this,Xf(this)),this.h=sd(this,ed(this)),this.ba=!1,this.ja=E(this.Zc,this),this.Ba=E(this.da,this),this.qa=E(this.mc,this),this.za=E(this.wc,this),this.Aa=E(this.xc,this),this.b=null,Wf(this),this.INTERNAL={},this.INTERNAL["delete"]=E(this.delete,this),this.INTERNAL.logFramework=E(this.Gc,this),this.u=0,qn.call(this),Kf(this),this.J=[],this.R=null}function Vf(e){dn.call(this,"languageCodeChanged"),this.h=e}function Hf(e){dn.call(this,"emulatorConfigChanged"),this.c=e}function Gf(e){dn.call(this,"frameworkChanged"),this.f=e}function zf(e){"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),l.document&&!e&&Ur().then((function(){var e=l.document.createElement("div");e.innerText="Running in emulator mode. Do not use with production credentials.",e.style.position="fixed",e.style.width="100%",e.style.backgroundColor="#ffffff",e.style.border=".1em solid #000000",e.style.color="#b50000",e.style.bottom="0px",e.style.left="0px",e.style.margin="0px",e.style.zIndex=1e4,e.style.textAlign="center",e.classList.add("firebase-emulator-warning"),l.document.body.appendChild(e)}))}function Kf(e){Object.defineProperty(e,"lc",{get:function(){return this.la()},set:function(e){this.xa(e)},enumerable:!1}),e.aa=null,Object.defineProperty(e,"ti",{get:function(){return this.T()},set:function(e){this.zb(e)},enumerable:!1}),e.S=null,Object.defineProperty(e,"emulatorConfig",{get:function(){if(this.R){var e=ir(this.R.url);e=Ii({protocol:e.c,host:e.a,port:e.g,options:Ii({disableWarnings:this.R.ec})})}else e=null;return e},enumerable:!1})}function $f(e){return e.Oa||Bt(new A("auth-domain-config-required"))}function Wf(e){var t=nd(e).options.authDomain,n=nd(e).options.apiKey;t&&ni()&&(e.Oa=e.$.then((function(){if(!e.l){if(e.b=rh(t,n,nd(e).name,e.R),$l(e.b,e),rd(e)&&nf(rd(e)),e.m){nf(e.m);var r=e.m;r.xa(e.la()),zh(r,e),r=e.m,$h(r,e.J),Wh(r,e),r=e.m,Gh(r,e.R),Kh(r,e),e.m=null}return e.b}})))}function Jf(e){if(!ni())return Bt(new A("operation-not-supported-in-this-environment"));var t=$f(e).then((function(){return e.b.ra()})).then((function(e){return e?Ii(e):null}));return sd(e,t)}function Zf(e,t){var n={};return n.apiKey=nd(e).options.apiKey,n.authDomain=nd(e).options.authDomain,n.appName=nd(e).name,e.R&&(n.emulatorConfig=e.R),e.$.then((function(){return If(n,t,e.D,e.Ga())})).then((function(t){return rd(e)&&t.uid==rd(e).uid?(hf(rd(e),t),e.da(t)):(Yf(e,t),nf(t),e.da(t))})).then((function(){od(e)}))}function Yf(e,t){rd(e)&&(ef(rd(e),e.Ba),An(rd(e),"tokenChanged",e.qa),An(rd(e),"userDeleted",e.za),An(rd(e),"userInvalidated",e.Aa),Qh(rd(e))),t&&(t.W.push(e.Ba),In(t,"tokenChanged",e.qa),In(t,"userDeleted",e.za),In(t,"userInvalidated",e.Aa),0<e.u&&Yh(t)),Si(e,"currentUser",t),t&&(t.xa(e.la()),zh(t,e),$h(t,e.J),Wh(t,e),Gh(t,e.R),Kh(t,e))}function Qf(e){var t=Rf(e.D,nd(e).options.authDomain).then((function(t){return(e.m=t)&&(t.ha=e.D),Af(e.D)}));return sd(e,t)}function Xf(e){var t=nd(e).options.authDomain,n=Qf(e).then((function(){return jf(e.i,t,e.R)})).then((function(t){return t?(t.ha=e.D,e.m&&(e.m.ga||null)==(t.ga||null)?t:t.reload().then((function(){return Ff(e.i,t).then((function(){return t}))})).o((function(n){return"auth/network-request-failed"==n.code?t:qf(e.i)}))):null})).then((function(t){Yf(e,t||null)}));return sd(e,n)}function ed(e){return e.$.then((function(){return Jf(e)})).o((function(){})).then((function(){if(!e.l)return e.ja()})).o((function(){})).then((function(){if(!e.l){e.ba=!0;var t=e.i;t.b.addListener(Lf("local"),t.a,e.ja)}}))}function td(e,t){var n=null,r=null;return sd(e,t.then((function(t){return n=ma(t),r=Ao(t),Zf(e,t)}),(function(t){var n=null;throw t&&"auth/multi-factor-auth-required"===t.code&&(n=Th(t.w(),e,E(e.kc,e))),n||t})).then((function(){return Ii({user:rd(e),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function nd(e){return e.app}function rd(e){return e.currentUser}function id(e){return rd(e)&&rd(e)._lat||null}function od(e){if(e.ba){for(var t=0;t<e.s.length;t++)e.s[t]&&e.s[t](id(e));if(e.W!==e.getUid()&&e.N.length)for(e.W=e.getUid(),t=0;t<e.N.length;t++)e.N[t]&&e.N[t](id(e))}}function ad(e,t){e.N.push(t),sd(e,e.h.then((function(){!e.l&&X(e.N,t)&&e.W!==e.getUid()&&(e.W=e.getUid(),t(id(e)))})))}function sd(e,t){return e.P.push(t),t.oa((function(){ee(e.P,t)})),t}function ud(){}function cd(){this.a={},this.b=1e12}Nf.prototype.yb=function(e){var t=null,n=this;return rl(e),Uf(this,(function(){return e!=n.c.F?n.b.get(n.c,n.a).then((function(r){return t=r,Pf(n,e)})).then((function(){if(n.c=Lf(e),t)return n.b.set(n.c,t,n.a)})):Ut()}))},C(Bf,qn),C(Vf,dn),C(Hf,dn),C(Gf,dn),e=Bf.prototype,e.yb=function(e){return e=this.i.yb(e),sd(this,e)},e.xa=function(e){this.aa===e||this.l||(this.aa=e,Bs(this.a,this.aa),this.dispatchEvent(new Vf(this.la())))},e.la=function(){return this.aa},e.fd=function(){var e=l.navigator;this.xa(e&&(e.languages&&e.languages[0]||e.language||e.userLanguage)||null)},e.gd=function(e,t){if(!this.R){if(!/^https?:\/\//.test(e))throw new A("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");t=!!t&&!!t.disableWarnings,zf(t),this.R={url:e,ec:t},this.settings.jb=!0,Vs(this.a,this.R),this.dispatchEvent(new Hf(this.R))}},e.Gc=function(e){this.J.push(e),Gs(this.a,r.Z.SDK_VERSION?Qr(r.Z.SDK_VERSION,this.J):null),this.dispatchEvent(new Gf(this.J))},e.Ga=function(){return re(this.J)},e.zb=function(e){this.S===e||this.l||(this.S=e,this.a.b=this.S)},e.T=function(){return this.S},e.toJSON=function(){return{apiKey:nd(this).options.apiKey,authDomain:nd(this).options.authDomain,appName:nd(this).name,currentUser:rd(this)&&rd(this).w()}},e.Gb=function(e,t){switch(e){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==t&&!!this.f;default:return!1}},e.na=function(e,t,n,r){"signInViaPopup"==e&&this.g==r&&(n&&this.C?this.C(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(e,t){return"signInViaRedirect"==e||"signInViaPopup"==e&&this.g==t&&this.f?E(this.ic,this):null},e.ic=function(e,t,n,r){var i=this,o={requestUri:e,postBody:r,sessionId:t,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then((function(){return td(i,fu(i.a,o))}))},e.Xc=function(e){if(!ni())return Bt(new A("operation-not-supported-in-this-environment"));var t=this,n=xo(e.providerId),i=ci(),o=null;(!oi()||Hr())&&nd(this).options.authDomain&&e.isOAuthProvider&&(o=pc(nd(this).options.authDomain,nd(this).options.apiKey,nd(this).name,"signInViaPopup",e,null,i,r.Z.SDK_VERSION||null,null,null,this.T(),this.R));var a=Mr(o,n&&n.va,n&&n.ua);return n=$f(this).then((function(n){return Yl(n,a,"signInViaPopup",e,i,!!o,t.T())})).then((function(){return new Ot((function(e,n){t.na("signInViaPopup",null,new A("cancelled-popup-request"),t.g),t.f=e,t.C=n,t.g=i,t.c=eh(t.b,t,"signInViaPopup",a,i)}))})).then((function(e){return a&&Lr(a),e?Ii(e):null})).o((function(e){throw a&&Lr(a),e})),sd(this,n)},e.Yc=function(e){if(!ni())return Bt(new A("operation-not-supported-in-this-environment"));var t=this,n=$f(this).then((function(){return Mf(t.i)})).then((function(){return Xl(t.b,"signInViaRedirect",e,void 0,t.T())}));return sd(this,n)},e.ra=function(){var e=this;return Jf(this).then((function(t){return e.b&&ah(e.b.b),t})).o((function(t){throw e.b&&ah(e.b.b),t}))},e.dd=function(e){if(!e)return Bt(new A("null-user"));if(this.S!=e.tenantId)return Bt(new A("tenant-id-mismatch"));var t=this,n={};n.apiKey=nd(this).options.apiKey,n.authDomain=nd(this).options.authDomain,n.appName=nd(this).name;var r=kf(e,n,t.D,t.Ga());return sd(this,this.h.then((function(){if(nd(t).options.apiKey!=e.l)return r.reload()})).then((function(){return rd(t)&&e.uid==rd(t).uid?(hf(rd(t),e),t.da(e)):(Yf(t,r),nf(r),t.da(r))})).then((function(){od(t)})))},e.Bb=function(){var e=this,t=this.h.then((function(){return e.b&&ah(e.b.b),rd(e)?(Yf(e,null),qf(e.i).then((function(){od(e)}))):Ut()}));return sd(this,t)},e.Zc=function(){var e=this;return jf(this.i,nd(this).options.authDomain).then((function(t){if(!e.l){var n;if(n=rd(e)&&t){n=rd(e).uid;var r=t.uid;n=void 0!==n&&null!==n&&""!==n&&void 0!==r&&null!==r&&""!==r&&n==r}if(n)return hf(rd(e),t),rd(e).I();(rd(e)||t)&&(Yf(e,t),t&&(nf(t),t.ha=e.D),e.b&&$l(e.b,e),od(e))}}))},e.da=function(e){return Ff(this.i,e)},e.mc=function(){od(this),this.da(rd(this))},e.wc=function(){this.Bb()},e.xc=function(){this.Bb()},e.kc=function(e){var t=this;return this.h.then((function(){return td(t,Ut(e))}))},e.zc=function(e){var t=this;this.addAuthTokenListener((function(){e.next(rd(t))}))},e.Ac=function(e){var t=this;ad(this,(function(){e.next(rd(t))}))},e.Ic=function(e,t,n){var r=this;return this.ba&&Promise.resolve().then((function(){"function"===typeof e?e(rd(r)):"function"===typeof e.next&&e.next(rd(r))})),this.Pa(e,t,n)},e.Hc=function(e,t,n){var r=this;return this.ba&&Promise.resolve().then((function(){r.W=r.getUid(),"function"===typeof e?e(rd(r)):"function"===typeof e.next&&e.next(rd(r))})),this.ib(e,t,n)},e.nc=function(e){var t=this,n=this.h.then((function(){return rd(t)?rd(t).I(e).then((function(e){return{accessToken:e}})):null}));return sd(this,n)},e.Tc=function(e){var t=this;return this.h.then((function(){return td(t,Ju(t.a,Hu,{token:e}))})).then((function(e){var n=e.user;return lf(n,"isAnonymous",!1),t.da(n),e}))},e.Uc=function(e,t){var n=this;return this.h.then((function(){return td(n,Ju(n.a,Gu,{email:e,password:t}))}))},e.dc=function(e,t){var n=this;return this.h.then((function(){return td(n,Ju(n.a,yu,{email:e,password:t}))}))},e.ab=function(e){var t=this;return this.h.then((function(){return td(t,e.ka(t.a))}))},e.Sc=function(e){return _i("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(e)},e.Ab=function(){var e=this;return this.h.then((function(){var t=rd(e);if(t&&t.isAnonymous){var n=Ii({providerId:null,isNewUser:!1});return Ii({user:t,credential:null,additionalUserInfo:n,operationType:"signIn"})}return td(e,e.a.Ab()).then((function(t){var n=t.user;return lf(n,"isAnonymous",!0),e.da(n),t}))}))},e.getUid=function(){return rd(this)&&rd(this).uid||null},e.cc=function(e){this.addAuthTokenListener(e),this.u++,0<this.u&&rd(this)&&Yh(rd(this))},e.Pc=function(e){var t=this;$(this.s,(function(n){n==e&&t.u--})),0>this.u&&(this.u=0),0==this.u&&rd(this)&&Qh(rd(this)),this.removeAuthTokenListener(e)},e.addAuthTokenListener=function(e){var t=this;this.s.push(e),sd(this,this.h.then((function(){t.l||X(t.s,e)&&e(id(t))})))},e.removeAuthTokenListener=function(e){te(this.s,(function(t){return t==e}))},e.delete=function(){this.l=!0;for(var e=0;e<this.P.length;e++)this.P[e].cancel("app-deleted");return this.P=[],this.i&&(e=this.i,e.b.removeListener(Lf("local"),e.a,this.ja)),this.b&&(Wl(this.b,this),ah(this.b.b)),Promise.resolve()},e.hc=function(e){return sd(this,Xs(this.a,e))},e.Bc=function(e){return!!ha(e)},e.xb=function(e,t){var n=this;return sd(this,Ut().then((function(){var e=new oo(t);if(!e.c)throw new A("argument-error",uo+" must be true when sending sign in link to email");return go(e)})).then((function(t){return n.a.xb(e,t)})).then((function(){})))},e.jd=function(e){return this.Sa(e).then((function(e){return e.data.email}))},e.ob=function(e,t){return sd(this,this.a.ob(e,t).then((function(){})))},e.Sa=function(e){return sd(this,this.a.Sa(e).then((function(e){return new Mi(e)})))},e.kb=function(e){return sd(this,this.a.kb(e).then((function(){})))},e.wb=function(e,t){var n=this;return sd(this,Ut().then((function(){return"undefined"===typeof t||be(t)?{}:go(new oo(t))})).then((function(t){return n.a.wb(e,t)})).then((function(){})))},e.Wc=function(e,t){return sd(this,gh(this,e,t,E(this.ab,this)))},e.Vc=function(e,t){var n=this;return sd(this,Ut().then((function(){var r=t||Rr(),i=la(e,r);if(r=ha(r),!r)throw new A("argument-error","Invalid email link!");if(r.tenantId!==n.T())throw new A("tenant-id-mismatch");return n.ab(i)})))},ud.prototype.render=function(){},ud.prototype.reset=function(){},ud.prototype.getResponse=function(){},ud.prototype.execute=function(){};var ld=null;function hd(e,t){return(t=fd(t))&&e.a[t]||null}function fd(e){return(e="undefined"===typeof e?1e12:e)?e.toString():null}function dd(e,t){this.g=!1,this.c=t,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=yt(e);var n=this;this.i=function(){n.execute()},this.h?this.execute():In(this.f,"click",this.i)}function pd(e){if(e.g)throw Error("reCAPTCHA mock was already deleted!")}function vd(){}function gd(){}cd.prototype.render=function(e,t){return this.a[this.b.toString()]=new dd(e,t),this.b++},cd.prototype.reset=function(e){var t=hd(this,e);e=fd(e),t&&e&&(t.delete(),delete this.a[e])},cd.prototype.getResponse=function(e){return(e=hd(this,e))?e.getResponse():null},cd.prototype.execute=function(e){(e=hd(this,e))&&e.execute()},dd.prototype.getResponse=function(){return pd(this),this.b},dd.prototype.execute=function(){pd(this);var e=this;this.a||(this.a=setTimeout((function(){e.b=$r();var t=e.c.callback,n=e.c["expired-callback"];if(t)try{t(e.b)}catch(r){}e.a=setTimeout((function(){if(e.a=null,e.b=null,n)try{n()}catch(r){}e.h&&e.execute()}),6e4)}),500))},dd.prototype.delete=function(){pd(this),this.g=!0,clearTimeout(this.a),this.a=null,An(this.f,"click",this.i)},Si(vd,"FACTOR_ID","phone"),gd.prototype.g=function(){return ld||(ld=new cd),Ut(ld)},gd.prototype.c=function(){};var md=null;function yd(){this.b=l.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var bd=new Ee(xe,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),wd=new fi(3e4,6e4);yd.prototype.g=function(e){var t=this;return new Ot((function(n,r){var i=setTimeout((function(){r(new A("network-request-failed"))}),wd.get());if(!l.grecaptcha||e!==t.f&&!t.b){l[t.a]=function(){if(l.grecaptcha){t.f=e;var o=l.grecaptcha.render;l.grecaptcha.render=function(e,n){return e=o(e,n),t.b++,e},clearTimeout(i),n(l.grecaptcha)}else clearTimeout(i),r(new A("internal-error"));delete l[t.a]};var o=Pe(bd,{onload:t.a,hl:e||""});Ut(ks(o)).o((function(){clearTimeout(i),r(new A("internal-error","Unable to load external reCAPTCHA dependencies!"))}))}else clearTimeout(i),n(l.grecaptcha)}))},yd.prototype.c=function(){this.b--};var _d=null;function Td(e,t,n,r,i,o,a){if(Si(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=t,this.g=null,a?(md||(md=new gd),a=md):(_d||(_d=new yd),a=_d),this.m=a,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Id])throw new A("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[kd],!l.document)throw new A("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!yt(t)||!this.i&&yt(t).hasChildNodes())throw new A("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Ds(e,o||null,i||null),this.u=r||function(){return null};var s=this;this.l=[];var u=this.a[Sd];this.a[Sd]=function(e){if(Cd(s,e),"function"===typeof u)u(e);else if("string"===typeof u){var t=ei(u,l);"function"===typeof t&&t(e)}};var c=this.a[Ed];this.a[Ed]=function(){if(Cd(s,null),"function"===typeof c)c();else if("string"===typeof c){var e=ei(c,l);"function"===typeof e&&e()}}}var Sd="callback",Ed="expired-callback",Id="sitekey",kd="size";function Cd(e,t){for(var n=0;n<e.l.length;n++)try{e.l[n](t)}catch(r){}}function xd(e,t){te(e.l,(function(e){return e==t}))}function Ad(e,t){return e.h.push(t),t.oa((function(){ee(e.h,t)})),t}function Rd(e){if(e.J)throw new A("internal-error","RecaptchaVerifier instance has been destroyed.")}function Nd(e,t,n){var i=!1;try{this.b=n||r.Z.app()}catch(s){throw new A("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new A("invalid-api-key");n=this.b.options.apiKey;var o=this,a=null;try{a=this.b.auth().Ga()}catch(s){}try{i=this.b.auth().settings.appVerificationDisabledForTesting}catch(s){}a=r.Z.SDK_VERSION?Qr(r.Z.SDK_VERSION,a):null,Td.call(this,n,e,t,(function(){try{var e=o.b.auth().la()}catch(t){e=null}return e}),a,L(N),i)}function Pd(e,t,n,r){e:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<t.length;a++)if(t[a].optional)o=!0;else{if(o)throw new A("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=t.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=t[i].optional&&void 0===n[i],!t[i].M(n[i])&&!o){if(t=t[i],0>i||i>=Od.length)throw new A("internal-error","Argument validator received an unsupported number of arguments.");n=Od[i],r=(r?"":n+" argument ")+(t.name?'"'+t.name+'" ':"")+"must be "+t.K+".";break e}r=null}}if(r)throw new A("argument-error",e+" failed: "+r)}e=Td.prototype,e.Ia=function(){var e=this;return this.f?this.f:this.f=Ad(this,Ut().then((function(){if(ri()&&!Gr())return Ur();throw new A("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return e.m.g(e.u())})).then((function(t){return e.g=t,Ju(e.s,Pu,{})})).then((function(t){e.a[Id]=t.recaptchaSiteKey})).o((function(t){throw e.f=null,t})))},e.render=function(){Rd(this);var e=this;return Ad(this,this.Ia().then((function(){if(null===e.c){var t=e.v;if(!e.i){var n=yt(t);t=St("DIV"),n.appendChild(t)}e.c=e.g.render(t,e.a)}return e.c})))},e.verify=function(){Rd(this);var e=this;return Ad(this,this.render().then((function(t){return new Ot((function(n){var r=e.g.getResponse(t);if(r)n(r);else{var i=function(t){t&&(xd(e,i),n(t))};e.l.push(i),e.i&&e.g.execute(e.c)}}))})))},e.reset=function(){Rd(this),null!==this.c&&this.g.reset(this.c)},e.clear=function(){Rd(this),this.J=!0,this.m.c();for(var e=0;e<this.h.length;e++)this.h[e].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){e=yt(this.v);for(var t;t=e.firstChild;)e.removeChild(t)}},C(Nd,Td);var Od="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Dd(e,t){return{name:e||"",K:"a valid string",optional:!!t,M:function(e){return"string"===typeof e}}}function Ld(e,t){return{name:e||"",K:"a boolean",optional:!!t,M:function(e){return"boolean"===typeof e}}}function Md(e,t){return{name:e||"",K:"a valid object",optional:!!t,M:y}}function Fd(e,t){return{name:e||"",K:"a function",optional:!!t,M:function(e){return"function"===typeof e}}}function qd(e,t){return{name:e||"",K:"null",optional:!!t,M:function(e){return null===e}}}function jd(){return{name:"",K:"an HTML element",optional:!1,M:function(e){return!!(e&&e instanceof Element)}}}function Ud(){return{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(e){return!!(e&&e instanceof Bf)}}}function Bd(){return{name:"app",K:"an instance of Firebase App",optional:!0,M:function(e){return!!(e&&e instanceof r.Z.app.App)}}}function Vd(e){return{name:e?e+"Credential":"credential",K:e?"a valid "+e+" credential":"a valid credential",optional:!1,M:function(t){if(!t)return!1;var n=!e||t.providerId===e;return!(!t.ka||!n)}}}function Hd(){return{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(e){return!!e&&!!e.tb}}}function Gd(){return{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}}function zd(e,t){return y(e)&&"string"===typeof e.type&&e.type===t&&"function"===typeof e.Ha}function Kd(e){return y(e)&&"string"===typeof e.uid}function $d(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!==typeof e.type||"function"!==typeof e.verify)}}}function Wd(e,t,n,r){return{name:n||"",K:e.K+" or "+t.K,optional:!!r,M:function(n){return e.M(n)||t.M(n)}}}function Jd(e,t){for(var n in t){var r=t[n].name;e[r]=Qd(r,e[n],t[n].j)}}function Zd(e,t){for(var n in t){var r=t[n].name;r!==n&&Object.defineProperty(e,r,{get:I((function(e){return this[e]}),n),set:I((function(e,t,n,r){Pd(e,[n],[r],!0),this[t]=r}),r,n,t[n].lb),enumerable:!0})}}function Yd(e,t,n,r){e[t]=Qd(t,n,r)}function Qd(e,t,n){function r(){var e=Array.prototype.slice.call(arguments);return Pd(o,n,e),t.apply(this,e)}if(!n)return t;var i,o=Xd(e);for(i in t)r[i]=t[i];for(i in t.prototype)r.prototype[i]=t.prototype[i];return r}function Xd(e){return e=e.split("."),e[e.length-1]}Jd(Bf.prototype,{kb:{name:"applyActionCode",j:[Dd("code")]},Sa:{name:"checkActionCode",j:[Dd("code")]},ob:{name:"confirmPasswordReset",j:[Dd("code"),Dd("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Dd("email"),Dd("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[Dd("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[Dd("emailLink")]},Hc:{name:"onAuthStateChanged",j:[Wd(Md(),Fd(),"nextOrObserver"),Fd("opt_error",!0),Fd("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[Wd(Md(),Fd(),"nextOrObserver"),Fd("opt_error",!0),Fd("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[Dd("email"),Wd(Md("opt_actionCodeSettings",!0),qd(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[Dd("email"),Md("actionCodeSettings")]},yb:{name:"setPersistence",j:[Dd("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Vd()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[Vd()]},Tc:{name:"signInWithCustomToken",j:[Dd("token")]},Uc:{name:"signInWithEmailAndPassword",j:[Dd("email"),Dd("password")]},Vc:{name:"signInWithEmailLink",j:[Dd("email"),Dd("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[Dd("phoneNumber"),$d()]},Xc:{name:"signInWithPopup",j:[Gd()]},Yc:{name:"signInWithRedirect",j:[Gd()]},dd:{name:"updateCurrentUser",j:[Wd(function(e){return{name:"user",K:"an instance of Firebase User",optional:!!e,M:function(e){return!!(e&&e instanceof Hh)}}}(),qd(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Dd(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[Dd("url"),Md("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[Dd("code")]}}),Zd(Bf.prototype,{lc:{name:"languageCode",lb:Wd(Dd(),qd(),"languageCode")},ti:{name:"tenantId",lb:Wd(Dd(),qd(),"tenantId")}}),Bf.Persistence=nl,Bf.Persistence.LOCAL="local",Bf.Persistence.SESSION="session",Bf.Persistence.NONE="none",Jd(Hh.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Ld("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Ld("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Vd()]},rb:{name:"linkWithCredential",j:[Vd()]},Dc:{name:"linkWithPhoneNumber",j:[Dd("phoneNumber"),$d()]},Ec:{name:"linkWithPopup",j:[Gd()]},Fc:{name:"linkWithRedirect",j:[Gd()]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Vd()]},ub:{name:"reauthenticateWithCredential",j:[Vd()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[Dd("phoneNumber"),$d()]},Nc:{name:"reauthenticateWithPopup",j:[Gd()]},Oc:{name:"reauthenticateWithRedirect",j:[Gd()]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[Wd(Md("opt_actionCodeSettings",!0),qd(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Dd(null,!0)]},cd:{name:"unlink",j:[Dd("provider")]},Cb:{name:"updateEmail",j:[Dd("email")]},Db:{name:"updatePassword",j:[Dd("password")]},ed:{name:"updatePhoneNumber",j:[Vd("phone")]},Eb:{name:"updateProfile",j:[Md("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[Dd("email"),Wd(Md("opt_actionCodeSettings",!0),qd(null,!0),"opt_actionCodeSettings",!0)]}}),Jd(cd.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Jd(ud.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Jd(Ot.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),Zd(ph.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:Ld("appVerificationDisabledForTesting")}}),Jd(vh.prototype,{confirm:{name:"confirm",j:[Dd("verificationCode")]}}),Yd(Vo,"fromJSON",(function(e){e="string"===typeof e?JSON.parse(e):e;for(var t,n=[Jo,ua,da,Ko],r=0;r<n.length;r++)if(t=n[r](e))return t;return null}),[Wd(Dd(),Md(),"json")]),Yd(ca,"credential",(function(e,t){return new sa(e,t)}),[Dd("email"),Dd("password")]),Jd(sa.prototype,{w:{name:"toJSON",j:[Dd(null,!0)]}}),Jd(Xo.prototype,{Ca:{name:"addScope",j:[Dd("scope")]},Ka:{name:"setCustomParameters",j:[Md("customOAuthParameters")]}}),Yd(Xo,"credential",ea,[Wd(Dd(),Md(),"token")]),Yd(ca,"credentialWithLink",la,[Dd("email"),Dd("emailLink")]),Jd(ta.prototype,{Ca:{name:"addScope",j:[Dd("scope")]},Ka:{name:"setCustomParameters",j:[Md("customOAuthParameters")]}}),Yd(ta,"credential",na,[Wd(Dd(),Md(),"token")]),Jd(ra.prototype,{Ca:{name:"addScope",j:[Dd("scope")]},Ka:{name:"setCustomParameters",j:[Md("customOAuthParameters")]}}),Yd(ra,"credential",ia,[Wd(Dd(),Wd(Md(),qd()),"idToken"),Wd(Dd(),qd(),"accessToken",!0)]),Jd(oa.prototype,{Ka:{name:"setCustomParameters",j:[Md("customOAuthParameters")]}}),Yd(oa,"credential",aa,[Wd(Dd(),Md(),"token"),Dd("secret",!0)]),Jd(Qo.prototype,{Ca:{name:"addScope",j:[Dd("scope")]},credential:{name:"credential",j:[Wd(Dd(),Wd(Md(),qd()),"optionsOrIdToken"),Wd(Dd(),qd(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Md("customOAuthParameters")]}}),Jd($o.prototype,{w:{name:"toJSON",j:[Dd(null,!0)]}}),Jd(Go.prototype,{w:{name:"toJSON",j:[Dd(null,!0)]}}),Yd(va,"credential",ga,[Dd("verificationId"),Dd("verificationCode")]),Jd(va.prototype,{gb:{name:"verifyPhoneNumber",j:[Wd(Dd(),function(e,t){return{name:e||"phoneInfoOptions",K:"valid phone info options",optional:!!t,M:function(e){return!!e&&(e.session&&e.phoneNumber?zd(e.session,Uo)&&"string"===typeof e.phoneNumber:e.session&&e.multiFactorHint?zd(e.session,Bo)&&Kd(e.multiFactorHint):e.session&&e.multiFactorUid?zd(e.session,Bo)&&"string"===typeof e.multiFactorUid:!!e.phoneNumber&&"string"===typeof e.phoneNumber)}}}(),"phoneInfoOptions"),$d()]}}),Jd(fa.prototype,{w:{name:"toJSON",j:[Dd(null,!0)]}}),Jd(A.prototype,{toJSON:{name:"toJSON",j:[Dd(null,!0)]}}),Jd(ka.prototype,{toJSON:{name:"toJSON",j:[Dd(null,!0)]}}),Jd(Ia.prototype,{toJSON:{name:"toJSON",j:[Dd(null,!0)]}}),Jd(_h.prototype,{toJSON:{name:"toJSON",j:[Dd(null,!0)]}}),Jd(yh.prototype,{Rc:{name:"resolveSignIn",j:[Hd()]}}),Jd(Ah.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[Hd(),Dd("displayName",!0)]},bd:{name:"unenroll",j:[Wd({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:Kd},Dd(),"multiFactorInfoIdentifier")]}}),Jd(Nd.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Yd(Zi,"parseLink",io,[Dd("link")]),Yd(vd,"assertion",(function(e){return new Ch(e)}),[Vd("phone")]),function(){if("undefined"===typeof r.Z||!r.Z.INTERNAL||!r.Z.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var e={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:qi,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:Fi,VERIFY_AND_CHANGE_EMAIL:ji,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:Bf,AuthCredential:Vo,Error:A};Yd(e,"EmailAuthProvider",ca,[]),Yd(e,"FacebookAuthProvider",Xo,[]),Yd(e,"GithubAuthProvider",ta,[]),Yd(e,"GoogleAuthProvider",ra,[]),Yd(e,"TwitterAuthProvider",oa,[]),Yd(e,"OAuthProvider",Qo,[Dd("providerId")]),Yd(e,"SAMLAuthProvider",Yo,[Dd("providerId")]),Yd(e,"PhoneAuthProvider",va,[Ud()]),Yd(e,"RecaptchaVerifier",Nd,[Wd(Dd(),jd(),"recaptchaContainer"),Md("recaptchaParameters",!0),Bd()]),Yd(e,"ActionCodeURL",Zi,[]),Yd(e,"PhoneMultiFactorGenerator",vd,[]),r.Z.INTERNAL.registerComponent({name:"auth",instanceFactory:function(e){return e=e.getProvider("app").getImmediate(),new Bf(e)},multipleInstances:!1,serviceProps:e,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(e){e.getProvider("auth-internal").initialize()}}),r.Z.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(e){return e=e.getProvider("auth").getImmediate(),{getUid:E(e.getUid,e),getToken:E(e.nc,e),addAuthTokenListener:E(e.cc,e),removeAuthTokenListener:E(e.Pc,e)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),r.Z.registerVersion("@firebase/auth","0.16.8"),r.Z.INTERNAL.extendNamespace({User:Hh})}()}).apply("undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},7758:(e,t,n)=>{"use strict";n(1037)},3602:(e,t,n)=>{"use strict";var r=n(8785),i=n(8430),o=n(2849),a=n(2920),s=function(e,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},s(e,t)};function u(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function c(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var l,h="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},f=f||{},d=h||self;function p(){}function v(e){var t=typeof e;return t="object"!=t?t:e?Array.isArray(e)?"array":t:"null","array"==t||"object"==t&&"number"==typeof e.length}function g(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function m(e){return Object.prototype.hasOwnProperty.call(e,y)&&e[y]||(e[y]=++b)}var y="closure_uid_"+(1e9*Math.random()>>>0),b=0;function w(e,t,n){return e.call.apply(e.bind,arguments)}function _(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function T(e,t,n){return T=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?w:_,T.apply(null,arguments)}function S(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function E(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function I(){this.s=this.s,this.o=this.o}var k=0,C={};I.prototype.s=!1,I.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0!=k)){var e=m(this);delete C[e]}},I.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var x=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},A=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};function R(e){e:{for(var t=Wn,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}function N(e){return Array.prototype.concat.apply([],arguments)}function P(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function O(e){return/^[\s\xa0]*$/.test(e)}var D,L=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function M(e,t){return-1!=e.indexOf(t)}function F(e,t){return e<t?-1:e>t?1:0}e:{var q=d.navigator;if(q){var j=q.userAgent;if(j){D=j;break e}}D=""}function U(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function B(e){var t={};for(var n in e)t[n]=e[n];return t}var V="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function H(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(var o=0;o<V.length;o++)n=V[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function G(e){return G[" "](e),e}function z(e){var t=ie;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}G[" "]=p;var K,$=M(D,"Opera"),W=M(D,"Trident")||M(D,"MSIE"),J=M(D,"Edge"),Z=J||W,Y=M(D,"Gecko")&&!(M(D.toLowerCase(),"webkit")&&!M(D,"Edge"))&&!(M(D,"Trident")||M(D,"MSIE"))&&!M(D,"Edge"),Q=M(D.toLowerCase(),"webkit")&&!M(D,"Edge");function X(){var e=d.document;return e?e.documentMode:void 0}e:{var ee="",te=function(){var e=D;return Y?/rv:([^\);]+)(\)|;)/.exec(e):J?/Edge\/([\d\.]+)/.exec(e):W?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Q?/WebKit\/(\S+)/.exec(e):$?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(te&&(ee=te?te[1]:""),W){var ne=X();if(null!=ne&&ne>parseFloat(ee)){K=String(ne);break e}}K=ee}var re,ie={};function oe(){return z((function(){for(var e=0,t=L(String(K)).split("."),n=L("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var o=t[i]||"",a=n[i]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;e=F(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||F(0==o[2].length,0==a[2].length)||F(o[2],a[2]),o=o[3],a=a[3]}while(0==e)}return 0<=e}))}if(d.document&&W){var ae=X();re=ae||(parseInt(K,10)||void 0)}else re=void 0;var se=re,ue=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{d.addEventListener("test",p,t),d.removeEventListener("test",p,t)}catch(n){}return e}();function ce(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function le(e,t){if(ce.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Y){e:{try{G(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:he[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&le.Z.h.call(this)}}ce.prototype.h=function(){this.defaultPrevented=!0},E(le,ce);var he={2:"touch",3:"pen",4:"mouse"};le.prototype.h=function(){le.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var fe="closure_listenable_"+(1e6*Math.random()|0),de=0;function pe(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++de,this.ca=this.fa=!1}function ve(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function ge(e){this.src=e,this.g={},this.h=0}function me(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=x(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(ve(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function ye(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.ca&&o.listener==t&&o.capture==!!n&&o.ia==r)return i}return-1}ge.prototype.add=function(e,t,n,r,i){var o=e.toString();e=this.g[o],e||(e=this.g[o]=[],this.h++);var a=ye(e,t,r,i);return-1<a?(t=e[a],n||(t.fa=!1)):(t=new pe(t,this.src,o,!!r,i),t.fa=n,e.push(t)),t};var be="closure_lm_"+(1e6*Math.random()|0),we={};function _e(e,t,n,r,i){if(r&&r.once)return Ee(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)_e(e,t[o],n,r,i);return null}return n=Ne(n),e&&e[fe]?e.N(t,n,g(r)?!!r.capture:!!r,i):Te(e,t,n,!1,r,i)}function Te(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=g(i)?!!i.capture:!!i,s=Ae(e);if(s||(e[be]=s=new ge(e)),n=s.add(t,n,r,a,o),n.proxy)return n;if(r=Se(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)ue||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Ce(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Se(){function e(n){return t.call(e.src,e.listener,n)}var t=xe;return e}function Ee(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)Ee(e,t[o],n,r,i);return null}return n=Ne(n),e&&e[fe]?e.O(t,n,g(r)?!!r.capture:!!r,i):Te(e,t,n,!0,r,i)}function Ie(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)Ie(e,t[o],n,r,i);else r=g(r)?!!r.capture:!!r,n=Ne(n),e&&e[fe]?(e=e.i,t=String(t).toString(),t in e.g&&(o=e.g[t],n=ye(o,n,r,i),-1<n&&(ve(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=Ae(e))&&(t=e.g[t.toString()],e=-1,t&&(e=ye(t,n,r,i)),(n=-1<e?t[e]:null)&&ke(n))}function ke(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[fe])me(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Ce(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Ae(t))?(me(n,e),0==n.h&&(n.src=null,t[be]=null)):ve(e)}}}function Ce(e){return e in we?we[e]:we[e]="on"+e}function xe(e,t){if(e.ca)e=!0;else{t=new le(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&ke(e),e=n.call(r,t)}return e}function Ae(e){return e=e[be],e instanceof ge?e:null}var Re="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ne(e){return"function"===typeof e?e:(e[Re]||(e[Re]=function(t){return e.handleEvent(t)}),e[Re])}function Pe(){I.call(this),this.i=new ge(this),this.P=this,this.I=null}function Oe(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new ce(t,e);else if(t instanceof ce)t.target=t.target||e;else{var i=t;t=new ce(r,e),H(t,i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=t.g=n[o];i=De(a,r,!0,t)&&i}if(a=t.g=e,i=De(a,r,!0,t)&&i,i=De(a,r,!1,t)&&i,n)for(o=0;o<n.length;o++)a=t.g=n[o],i=De(a,r,!1,t)&&i}function De(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.ca&&a.capture==n){var s=a.listener,u=a.ia||a.src;a.fa&&me(e.i,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}E(Pe,I),Pe.prototype[fe]=!0,Pe.prototype.removeEventListener=function(e,t,n,r){Ie(this,e,t,n,r)},Pe.prototype.M=function(){if(Pe.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)ve(n[r]);delete t.g[e],t.h--}}this.I=null},Pe.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Pe.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Le=d.JSON.stringify;function Me(){var e=ze,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Fe,qe=function(){function e(){this.h=this.g=null}return e.prototype.add=function(e,t){var n=je.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n},e}(),je=new(function(){function e(e,t){this.i=e,this.j=t,this.h=0,this.g=null}return e.prototype.get=function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e},e}())((function(){return new Ue}),(function(e){return e.reset()})),Ue=function(){function e(){this.next=this.g=this.h=null}return e.prototype.set=function(e,t){this.h=e,this.g=t,this.next=null},e.prototype.reset=function(){this.next=this.g=this.h=null},e}();function Be(e){d.setTimeout((function(){throw e}),0)}function Ve(e,t){Fe||He(),Ge||(Fe(),Ge=!0),ze.add(e,t)}function He(){var e=d.Promise.resolve(void 0);Fe=function(){e.then(Ke)}}var Ge=!1,ze=new qe;function Ke(){for(var e;e=Me();){try{e.h.call(e.g)}catch(n){Be(n)}var t=je;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Ge=!1}function $e(e,t){Pe.call(this),this.h=e||1,this.g=t||d,this.j=T(this.kb,this),this.l=Date.now()}function We(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Je(e,t,n){if("function"===typeof e)n&&(e=T(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=T(e.handleEvent,e)}return 2147483647<Number(t)?-1:d.setTimeout(e,t||0)}function Ze(e){e.g=Je((function(){e.g=null,e.i&&(e.i=!1,Ze(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}E($e,Pe),l=$e.prototype,l.da=!1,l.S=null,l.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Oe(this,"tick"),this.da&&(We(this),this.start()))}},l.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},l.M=function(){$e.Z.M.call(this),We(this),delete this.g};var Ye=function(e){function t(t,n){var r=e.call(this)||this;return r.m=t,r.j=n,r.h=null,r.i=!1,r.g=null,r}return u(t,e),t.prototype.l=function(e){this.h=arguments,this.g?this.i=!0:Ze(this)},t.prototype.M=function(){e.prototype.M.call(this),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t}(I);function Qe(e){I.call(this),this.h=e,this.g={}}E(Qe,I);var Xe=[];function et(e,t,n,r){Array.isArray(n)||(n&&(Xe[0]=n.toString()),n=Xe);for(var i=0;i<n.length;i++){var o=_e(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function tt(e){U(e.g,(function(e,t){this.g.hasOwnProperty(t)&&ke(e)}),e),e.g={}}function nt(){this.g=!0}function rt(e,t,n,r,i,o){e.info((function(){if(e.g)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");a=2<=h.length&&"type"==h[1]?a+(l+"=")+c+"&":a+(l+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}function it(e,t,n,r,i,o,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+a}))}function ot(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+st(e,n)+(r?" "+r:"")}))}function at(e,t){e.info((function(){return"TIMEOUT: "+t}))}function st(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return Le(n)}catch(s){return t}}Qe.prototype.M=function(){Qe.Z.M.call(this),tt(this)},Qe.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},nt.prototype.Aa=function(){this.g=!1},nt.prototype.info=function(){};var ut={},ct=null;function lt(){return ct=ct||new Pe}function ht(e){ce.call(this,ut.Ma,e)}function ft(e){var t=lt();Oe(t,new ht(t,e))}function dt(e,t){ce.call(this,ut.STAT_EVENT,e),this.stat=t}function pt(e){var t=lt();Oe(t,new dt(t,e))}function vt(e,t){ce.call(this,ut.Na,e),this.size=t}function gt(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return d.setTimeout((function(){e()}),t)}ut.Ma="serverreachability",E(ht,ce),ut.STAT_EVENT="statevent",E(dt,ce),ut.Na="timingevent",E(vt,ce);var mt={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},yt={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function bt(){}function wt(e){return e.h||(e.h=e.i())}function _t(){}bt.prototype.h=null;var Tt,St={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Et(){ce.call(this,"d")}function It(){ce.call(this,"c")}function kt(){}function Ct(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Qe(this),this.P=At,e=Z?125:void 0,this.W=new $e(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new xt}function xt(){this.i=null,this.g="",this.h=!1}E(Et,ce),E(It,ce),E(kt,bt),kt.prototype.g=function(){return new XMLHttpRequest},kt.prototype.i=function(){return{}},Tt=new kt;var At=45e3,Rt={},Nt={};function Pt(e,t,n){e.K=1,e.v=rn(Yt(t)),e.s=n,e.U=!0,Ot(e,null)}function Ot(e,t){e.F=Date.now(),Ft(e),e.A=Yt(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),bn(n.h,"t",r),e.C=0,n=e.l.H,e.h=new xt,e.g=Ir(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Ye(T(e.Ia,e,e.g),e.O)),et(e.V,e.g,"readystatechange",e.gb),t=e.H?B(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),ft(1),rt(e.j,e.u,e.A,e.m,e.X,e.s)}function Dt(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function Lt(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if(r=Mt(e,n),r==Nt){4==t&&(e.o=4,pt(14),i=!1),ot(e.j,e.m,null,"[Incomplete Response]");break}if(r==Rt){e.o=4,pt(15),ot(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}ot(e.j,e.m,r,null),Vt(e,r)}Dt(e)&&r!=Nt&&r!=Rt&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,pt(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,t=e.l,t.g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),mr(t),t.L=!0,pt(11))):(ot(e.j,e.m,n,"[Invalid Chunked Response]"),Bt(e),Ut(e))}function Mt(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Nt:(n=Number(t.substring(n,r)),isNaN(n)?Rt:(r+=1,r+n>t.length?Nt:(t=t.substr(r,n),e.C=r+n,t)))}function Ft(e){e.Y=Date.now()+e.P,qt(e,e.P)}function qt(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=gt(T(e.eb,e),t)}function jt(e){e.B&&(d.clearTimeout(e.B),e.B=null)}function Ut(e){0==e.l.G||e.I||wr(e.l,e)}function Bt(e){jt(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,We(e.W),tt(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Vt(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Cn(n.i,e)))if(n.I=e.N,!e.J&&Cn(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(o){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;br(n),sr(n)}gr(n),pt(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=gt(T(n.ab,n),6e3));if(1>=kn(n.i)&&n.ka){try{n.ka()}catch(o){}n.ka=void 0}}else Tr(n,11)}else if((e.J||n.g==e)&&br(n),!O(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var o=i[t];if(n.U=o[0],o=o[1],2==n.G)if("c"==o[0]){n.J=o[1],n.la=o[2];var a=o[3];null!=a&&(n.ma=a,n.h.info("VER="+n.ma));var s=o[4];null!=s&&(n.za=s,n.h.info("SVER="+n.za));var u=o[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=r.i;!h.g&&(M(l,"spdy")||M(l,"quic")||M(l,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(xn(h,h.h),h.h=null))}if(r.D){var f=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;f&&(r.sa=f,nn(r.F,r.D,f))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms")),r=n;var d=e;if(r.oa=Er(r,r.H?r.la:null,r.W),d.J){An(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(jt(p),Ft(p)),r.g=d}else vr(r);0<n.l.length&&lr(n)}else"stop"!=o[0]&&"close"!=o[0]||Tr(n,7);else 3==n.G&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?Tr(n,7):ar(n):"noop"!=o[0]&&n.j&&n.j.wa(o),n.A=0)}ft(4)}catch(o){}}function Ht(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(v(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}function Gt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(v(e)||"string"===typeof e)A(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(v(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=Ht(e),i=r.length;for(var o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}}function zt(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof zt)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Kt(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];$t(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)r=e.g[t],$t(i,r)||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function $t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}l=Ct.prototype,l.setTimeout=function(e){this.P=e},l.gb=function(e){e=e.target;var t=this.L;t&&3==er(e)?t.l():this.Ia(e)},l.Ia=function(e){try{if(e==this.g)e:{var t=er(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||Z||this.g&&(this.h.h||this.g.ga()||tr(this.g)))){this.I||4!=t||7==n||ft(8==n||0>=r?3:2),jt(this);var i=this.g.ba();this.N=i;t:if(Dt(this)){var o=tr(this.g);e="";var a=o.length,s=4==er(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Bt(this),Ut(this);var u="";break t}this.h.i=new d.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(o[n],{stream:s&&n==a-1});o.splice(0,a),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,it(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(c)){var h=c;break t}}h=null}if(!(i=h)){this.i=!1,this.o=3,pt(12),Bt(this),Ut(this);break e}ot(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Vt(this,i)}this.U?(Lt(this,t,u),Z&&this.i&&3==t&&(et(this.V,this.W,"tick",this.fb),this.W.start())):(ot(this.j,this.m,u,null),Vt(this,u)),4==t&&Bt(this),this.i&&!this.I&&(4==t?wr(this.l,this):(this.i=!1,Ft(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,pt(12)):(this.o=0,pt(13)),Bt(this),Ut(this)}}}catch(t){}},l.fb=function(){if(this.g){var e=er(this.g),t=this.g.ga();this.C<t.length&&(jt(this),Lt(this,e,t),this.i&&4!=e&&Ft(this))}},l.cancel=function(){this.I=!0,Bt(this)},l.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(at(this.j,this.A),2!=this.K&&(ft(3),pt(17)),Bt(this),this.o=2,Ut(this)):qt(this,this.Y-e)},l=zt.prototype,l.R=function(){Kt(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},l.T=function(){return Kt(this),this.g.concat()},l.get=function(e,t){return $t(this.h,e)?this.h[e]:t},l.set=function(e,t){$t(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},l.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var Wt=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Jt(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Zt(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Zt){this.g=void 0!==t?t:e.g,Qt(this,e.j),this.s=e.s,Xt(this,e.i),en(this,e.m),this.l=e.l,t=e.h;var n=new vn;n.i=t.i,t.g&&(n.g=new zt(t.g),n.h=t.h),tn(this,n),this.o=e.o}else e&&(n=String(e).match(Wt))?(this.g=!!t,Qt(this,n[1]||"",!0),this.s=sn(n[2]||""),Xt(this,n[3]||"",!0),en(this,n[4]),this.l=sn(n[5]||"",!0),tn(this,n[6]||"",!0),this.o=sn(n[7]||"")):(this.g=!!t,this.h=new vn(null,this.g))}function Yt(e){return new Zt(e)}function Qt(e,t,n){e.j=n?sn(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Xt(e,t,n){e.i=n?sn(t,!0):t}function en(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function tn(e,t,n){t instanceof vn?(e.h=t,_n(e.h,e.g)):(n||(t=un(t,dn)),e.h=new vn(t,e.g))}function nn(e,t,n){e.h.set(t,n)}function rn(e){return nn(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function on(e){return e instanceof Zt?Yt(e):new Zt(e,void 0)}function an(e,t,n,r){var i=new Zt(null,void 0);return e&&Qt(i,e),t&&Xt(i,t),n&&en(i,n),r&&(i.l=r),i}function sn(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function un(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,cn),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function cn(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(15&e).toString(16)}Zt.prototype.toString=function(){var e=[],t=this.j;t&&e.push(un(t,ln,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(un(t,ln,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,null!=n&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(un(n,"/"==n.charAt(0)?fn:hn,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",un(n,pn)),e.join("")};var ln=/[#\/\?@]/g,hn=/[#\?:]/g,fn=/[#\?]/g,dn=/[#\?@]/g,pn=/#/g;function vn(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function gn(e){e.g||(e.g=new zt,e.h=0,e.i&&Jt(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function mn(e,t){gn(e),t=wn(e,t),$t(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,e=e.g,$t(e.h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Kt(e)))}function yn(e,t){return gn(e),t=wn(e,t),$t(e.g.h,t)}function bn(e,t,n){mn(e,t),0<n.length&&(e.i=null,e.g.set(wn(e,t),P(n)),e.h+=n.length)}function wn(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function _n(e,t){t&&!e.j&&(gn(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(mn(this,t),bn(this,n,e))}),e)),e.j=t}l=vn.prototype,l.add=function(e,t){gn(this),this.i=null,e=wn(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},l.forEach=function(e,t){gn(this),this.g.forEach((function(n,r){A(n,(function(n){e.call(t,n,r,this)}),this)}),this)},l.T=function(){gn(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},l.R=function(e){gn(this);var t=[];if("string"===typeof e)yn(this,e)&&(t=N(t,this.g.get(wn(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=N(t,e[n])}return t},l.set=function(e,t){return gn(this),this.i=null,e=wn(this,e),yn(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},l.get=function(e,t){return e?(e=this.R(e),0<e.length?String(e[0]):t):t},l.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.i=e.join("&")};var Tn=function(){function e(e,t){this.h=e,this.g=t}return e}();function Sn(e){this.l=e||En,d.PerformanceNavigationTiming?(e=d.performance.getEntriesByType("navigation"),e=0<e.length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol)):e=!!(d.g&&d.g.Ea&&d.g.Ea()&&d.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var En=10;function In(e){return!!e.h||!!e.g&&e.g.size>=e.j}function kn(e){return e.h?1:e.g?e.g.size:0}function Cn(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function xn(e,t){e.g?e.g.add(t):e.h=t}function An(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Rn(e){var t,n;if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var r=e.i;try{for(var i=c(e.g.values()),o=i.next();!o.done;o=i.next()){var a=o.value;r=r.concat(a.D)}}catch(s){t={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}return P(e.i)}function Nn(){}function Pn(){this.g=new Nn}function On(e,t,n){var r=n||"";try{Gt(e,(function(e,n){var i=e;g(e)&&(i=Le(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Dn(e,t){var n=new nt;if(d.Image){var r=new Image;r.onload=S(Ln,n,r,"TestLoadImage: loaded",!0,t),r.onerror=S(Ln,n,r,"TestLoadImage: error",!1,t),r.onabort=S(Ln,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=S(Ln,n,r,"TestLoadImage: timeout",!1,t),d.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}function Ln(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(o){}}function Mn(e){this.l=e.$b||null,this.j=e.ib||!1}function Fn(e,t){Pe.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=qn,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Sn.prototype.cancel=function(){var e,t;if(this.i=Rn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=c(this.g.values()),r=n.next();!r.done;r=n.next()){var i=r.value;i.cancel()}}catch(o){e={error:o}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.g.clear()}},Nn.prototype.stringify=function(e){return d.JSON.stringify(e,void 0)},Nn.prototype.parse=function(e){return d.JSON.parse(e,void 0)},E(Mn,bt),Mn.prototype.g=function(){return new Fn(this.l,this.j)},Mn.prototype.i=function(e){return function(){return e}}({}),E(Fn,Pe);var qn=0;function jn(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Un(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Bn(e)}function Bn(e){e.onreadystatechange&&e.onreadystatechange.call(e)}l=Fn.prototype,l.open=function(e,t){if(this.readyState!=qn)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Bn(this)},l.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||d).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},l.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Un(this)),this.readyState=qn},l.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Bn(this)),this.g&&(this.readyState=3,Bn(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof d.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;jn(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},l.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Un(this):Bn(this),3==this.readyState&&jn(this)}},l.Ua=function(e){this.g&&(this.response=this.responseText=e,Un(this))},l.Ta=function(e){this.g&&(this.response=e,Un(this))},l.ha=function(){this.g&&Un(this)},l.setRequestHeader=function(e,t){this.v.append(e,t)},l.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},l.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Fn.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Vn=d.JSON.parse;function Hn(e){Pe.call(this),this.headers=new zt,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Gn,this.K=this.L=!1}E(Hn,Pe);var Gn="",zn=/^https?$/i,Kn=["POST","PUT"];function $n(e){return W&&oe()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}function Wn(e){return"content-type"==e.toLowerCase()}function Jn(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Zn(e),Qn(e)}function Zn(e){e.D||(e.D=!0,Oe(e,"complete"),Oe(e,"error"))}function Yn(e){if(e.h&&"undefined"!=typeof f&&(!e.C[1]||4!=er(e)||2!=e.ba()))if(e.v&&4==er(e))Je(e.Fa,0,e);else if(Oe(e,"readystatechange"),4==er(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.H).match(Wt)[1]||null;if(!o&&d.self&&d.self.location){var a=d.self.location.protocol;o=a.substr(0,a.length-1)}i=!zn.test(o?o.toLowerCase():"")}t=i}if(t)Oe(e,"complete"),Oe(e,"success");else{e.m=6;try{var s=2<er(e)?e.g.statusText:""}catch(u){s=""}e.j=s+" ["+e.ba()+"]",Zn(e)}}finally{Qn(e)}}}function Qn(e,t){if(e.g){Xn(e);var n=e.g,r=e.C[0]?p:null;e.g=null,e.C=null,t||Oe(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Xn(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(d.clearTimeout(e.A),e.A=null)}function er(e){return e.g?e.g.readyState:0}function tr(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Gn:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function nr(e){var t="";return U(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function rr(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=nr(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):nn(e,t,n))}function ir(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function or(e){this.za=0,this.l=[],this.h=new nt,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=ir("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=ir("baseRetryDelayMs",5e3,e),this.$a=ir("retryDelaySeedMs",1e4,e),this.Ya=ir("forwardChannelMaxRetries",2,e),this.ra=ir("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new Sn(e&&e.concurrentRequestLimit),this.Ca=new Pn,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function ar(e){if(ur(e),3==e.G){var t=e.V++,n=Yt(e.F);nn(n,"SID",e.J),nn(n,"RID",t),nn(n,"TYPE","terminate"),dr(e,n),t=new Ct(e,e.h,t,void 0),t.K=2,t.v=rn(Yt(n)),n=!1,d.navigator&&d.navigator.sendBeacon&&(n=d.navigator.sendBeacon(t.v.toString(),"")),!n&&d.Image&&((new Image).src=t.v,n=!0),n||(t.g=Ir(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Ft(t)}Sr(e)}function sr(e){e.g&&(mr(e),e.g.cancel(),e.g=null)}function ur(e){sr(e),e.u&&(d.clearTimeout(e.u),e.u=null),br(e),e.i.cancel(),e.m&&("number"===typeof e.m&&d.clearTimeout(e.m),e.m=null)}function cr(e,t){e.l.push(new Tn(e.Za++,t)),3==e.G&&lr(e)}function lr(e){In(e.i)||e.m||(e.m=!0,Ve(e.Ha,e),e.C=0)}function hr(e,t){return!(kn(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=gt(T(e.Ha,e,t),_r(e,e.C)),e.C++,!0))}function fr(e,t){var n;n=t?t.m:e.V++;var r=Yt(e.F);nn(r,"SID",e.J),nn(r,"RID",n),nn(r,"AID",e.U),dr(e,r),e.o&&e.s&&rr(r,e.o,e.s),n=new Ct(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=pr(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),xn(e.i,n),Pt(n,r,t)}function dr(e,t){e.j&&Gt({},(function(e,n){nn(t,n,e)}))}function pr(e,t,n){n=Math.min(e.l.length,n);var r=e.j?T(e.j.Oa,e.j,e):null;e:for(var i=e.l,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].h,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(c-=o,0>c)o=Math.max(0,i[u].h-100),s=!1;else try{On(l,a,"req"+c+"_")}catch(si){r&&r(l)}}if(s){r=a.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function vr(e){e.g||e.u||(e.Y=1,Ve(e.Ga,e),e.A=0)}function gr(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=gt(T(e.Ga,e),_r(e,e.A)),e.A++,!0)}function mr(e){null!=e.B&&(d.clearTimeout(e.B),e.B=null)}function yr(e){e.g=new Ct(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Yt(e.oa);nn(t,"RID","rpc"),nn(t,"SID",e.J),nn(t,"CI",e.N?"0":"1"),nn(t,"AID",e.U),dr(e,t),nn(t,"TYPE","xmlhttp"),e.o&&e.s&&rr(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=rn(Yt(t)),n.s=null,n.U=!0,Ot(n,e)}function br(e){null!=e.v&&(d.clearTimeout(e.v),e.v=null)}function wr(e,t){var n=null;if(e.g==t){br(e),mr(e),e.g=null;var r=2}else{if(!Cn(e.i,t))return;n=t.D,An(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;r=lt(),Oe(r,new vt(r,n,t,i)),lr(e)}else vr(e);else if(i=t.o,3==i||0==i&&0<e.I||!(1==r&&hr(e,t)||2==r&&gr(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Tr(e,5);break;case 4:Tr(e,10);break;case 3:Tr(e,6);break;default:Tr(e,2)}}function _r(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Tr(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=T(e.jb,e);n||(n=new Zt("//www.google.com/images/cleardot.gif"),d.location&&"http"==d.location.protocol||Qt(n,"https"),rn(n)),Dn(n.toString(),r)}else pt(2);e.G=0,e.j&&e.j.va(t),Sr(e),ur(e)}function Sr(e){e.G=0,e.I=-1,e.j&&(0==Rn(e.i).length&&0==e.l.length||(e.i.i.length=0,P(e.l),e.l.length=0),e.j.ua())}function Er(e,t,n){var r=on(n);if(""!=r.i)t&&Xt(r,t+"."+r.i),en(r,r.m);else{var i=d.location;r=an(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&U(e.aa,(function(e,t){nn(r,t,e)})),t=e.D,n=e.sa,t&&n&&nn(r,t,n),nn(r,"VER",e.ma),dr(e,r),r}function Ir(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Ba&&!e.qa?new Hn(new Mn({ib:!0})):new Hn(e.qa),t.L=e.H,t}function kr(){}function Cr(){if(W&&!(10<=Number(se)))throw Error("Environmental error: no available transport.")}function xr(e,t){Pe.call(this),this.g=new or(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!O(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!O(t)&&(this.g.D=t,e=this.h,null!==e&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new Nr(this)}function Ar(e){Et.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Rr(){It.call(this),this.status=1}function Nr(e){this.g=e}l=Hn.prototype,l.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Tt.g(),this.C=this.u?wt(this.u):wt(Tt),this.g.onreadystatechange=T(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(o){return void Jn(this,o)}e=n||"";var i=new zt(this.headers);r&&Gt(r,(function(e,t){i.set(t,e)})),r=R(i.T()),n=d.FormData&&e instanceof d.FormData,!(0<=x(Kn,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Xn(this),0<this.B&&((this.K=$n(this.g))?(this.g.timeout=this.B,this.g.ontimeout=T(this.pa,this)):this.A=Je(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(o){Jn(this,o)}},l.pa=function(){"undefined"!=typeof f&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Oe(this,"timeout"),this.abort(8))},l.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Oe(this,"complete"),Oe(this,"abort"),Qn(this))},l.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Qn(this,!0)),Hn.Z.M.call(this)},l.Fa=function(){this.s||(this.F||this.v||this.l?Yn(this):this.cb())},l.cb=function(){Yn(this)},l.ba=function(){try{return 2<er(this)?this.g.status:-1}catch(e){return-1}},l.ga=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},l.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Vn(t)}},l.Da=function(){return this.m},l.La=function(){return"string"===typeof this.j?this.j:String(this.j)},l=or.prototype,l.ma=8,l.G=1,l.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},l.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new Ct(this,this.h,e,void 0),n=this.s;if(this.P&&(n?(n=B(n),H(n,this.P)):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var o=this.l[i];if(o="__data__"in o.g&&(o=o.g.__data__,"string"===typeof o)?o.length:void 0,void 0===o)break;if(r+=o,4096<r){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=pr(this,t,r),i=Yt(this.F),nn(i,"RID",e),nn(i,"CVER",22),this.D&&nn(i,"X-HTTP-Session-Id",this.D),dr(this,i),this.o&&n&&rr(i,this.o,n),xn(this.i,t),this.Ra&&nn(i,"TYPE","init"),this.ja?(nn(i,"$req",r),nn(i,"SID","null"),t.$=!0,Pt(t,i,null)):Pt(t,i,r),this.G=2}}else 3==this.G&&(e?fr(this,e):0==this.l.length||In(this.i)||fr(this))},l.Ga=function(){if(this.u=null,yr(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=gt(T(this.bb,this),e)}},l.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,pt(10),sr(this),yr(this))},l.ab=function(){null!=this.v&&(this.v=null,sr(this),gr(this),pt(19))},l.jb=function(e){e?(this.h.info("Successfully pinged google.com"),pt(2)):(this.h.info("Failed to ping google.com"),pt(1))},l=kr.prototype,l.xa=function(){},l.wa=function(){},l.va=function(){},l.ua=function(){},l.Oa=function(){},Cr.prototype.g=function(e,t){return new xr(e,t)},E(xr,Pe),xr.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Ve(T(e.hb,e,t))),pt(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=Er(e,null,e.W),lr(e)},xr.prototype.close=function(){ar(this.g)},xr.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,cr(this.g,t)}else this.v?(t={},t.__data__=Le(e),cr(this.g,t)):cr(this.g,e)},xr.prototype.M=function(){this.g.j=null,delete this.j,ar(this.g),delete this.g,xr.Z.M.call(this)},E(Ar,Et),E(Rr,It),E(Nr,kr),Nr.prototype.xa=function(){Oe(this.g,"a")},Nr.prototype.wa=function(e){Oe(this.g,new Ar(e))},Nr.prototype.va=function(e){Oe(this.g,new Rr(e))},Nr.prototype.ua=function(){Oe(this.g,"b")},Cr.prototype.createWebChannel=Cr.prototype.g,xr.prototype.send=xr.prototype.u,xr.prototype.open=xr.prototype.m,xr.prototype.close=xr.prototype.close,mt.NO_ERROR=0,mt.TIMEOUT=8,mt.HTTP_ERROR=6,yt.COMPLETE="complete",_t.EventType=St,St.OPEN="a",St.CLOSE="b",St.ERROR="c",St.MESSAGE="d",Pe.prototype.listen=Pe.prototype.N,Hn.prototype.listenOnce=Hn.prototype.O,Hn.prototype.getLastError=Hn.prototype.La,Hn.prototype.getLastErrorCode=Hn.prototype.Da,Hn.prototype.getStatus=Hn.prototype.ba,Hn.prototype.getResponseJson=Hn.prototype.Qa,Hn.prototype.getResponseText=Hn.prototype.ga,Hn.prototype.send=Hn.prototype.ea;var Pr=function(){return new Cr},Or=function(){return lt()},Dr=mt,Lr=yt,Mr=ut,Fr={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},qr=Mn,jr=_t,Ur=Hn;
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Br=function(){function e(e,t){var n=this;this.previousValue=e,t&&(t.sequenceNumberHandler=function(e){return n.t(e)},this.i=function(e){return t.writeSequenceNumber(e)})}return e.prototype.t=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},e.prototype.next=function(){var e=++this.previousValue;return this.i&&this.i(e),e},e}();Br.o=-1;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Vr={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Hr=function(e){function t(t,n){var r=this;return(r=e.call(this,n)||this).code=t,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return(0,i.ZT)(t,e),t}(Error),Gr=new a.Yd("@firebase/firestore");function zr(){return Gr.logLevel}function Kr(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Gr.logLevel<=a["in"].DEBUG){var r=t.map(Jr);Gr.debug.apply(Gr,(0,i.ev)(["Firestore (8.10.0): "+e],r))}}function $r(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Gr.logLevel<=a["in"].ERROR){var r=t.map(Jr);Gr.error.apply(Gr,(0,i.ev)(["Firestore (8.10.0): "+e],r))}}function Wr(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Gr.logLevel<=a["in"].WARN){var r=t.map(Jr);Gr.warn.apply(Gr,(0,i.ev)(["Firestore (8.10.0): "+e],r))}}function Jr(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zr(e){void 0===e&&(e="Unexpected state");var t="FIRESTORE (8.10.0) INTERNAL ASSERTION FAILED: "+e;throw $r(t),new Error(t)}function Yr(e,t){e||Zr()}function Qr(e,t){return e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xr(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ei=function(){function e(){}return e.u=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Xr(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n},e}();function ti(e,t){return e<t?-1:e>t?1:0}function ni(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function ri(e){return e+"\0"}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ii=function(){function e(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Hr(Vr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Hr(Vr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Hr(Vr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Hr(Vr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(e){return this.seconds===e.seconds?ti(this.nanoseconds,e.nanoseconds):ti(this.seconds,e.seconds)},e.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),oi=function(){function e(e){this.timestamp=e}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new ii(0,0))},e.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},e.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ai(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function si(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function ui(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ci=function(){function e(e,t,n){void 0===t?t=0:t>e.length&&Zr(),void 0===n?n=e.length-t:n>e.length-t&&Zr(),this.segments=e,this.offset=t,this.len=n}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return 0===e.comparator(this,t)},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(e){return this.segments[this.offset+e]},e.prototype.isEmpty=function(){return 0===this.length},e.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.forEach=function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),o=t.get(r);if(i<o)return-1;if(i>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0},e}(),li=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,i.ZT)(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=[],i=0,o=e;i<o.length;i++){var a=o[i];if(a.indexOf("//")>=0)throw new Hr(Vr.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");r.push.apply(r,a.split("/").filter((function(e){return e.length>0})))}return new t(r)},t.emptyPath=function(){return new t([])},t}(ci),hi=/^[_a-zA-Z][_a-zA-Z0-9]*$/,fi=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,i.ZT)(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.isValidIdentifier=function(e){return hi.test(e)},t.prototype.canonicalString=function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(e){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new Hr(Vr.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new Hr(Vr.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Hr(Vr.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new Hr(Vr.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)},t.emptyPath=function(){return new t([])},t}(ci),di=function(){function e(e){this.fields=e,e.sort(fi.comparator)}return e.prototype.covers=function(e){for(var t=0,n=this.fields;t<n.length;t++)if(n[t].isPrefixOf(e))return!0;return!1},e.prototype.isEqual=function(e){return ni(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))},e}(),pi=function(){function e(e){this.binaryString=e}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t))},e.prototype.toBase64=function(){return e=this.binaryString,btoa(e);var e},e.prototype.toUint8Array=function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(e){return ti(this.binaryString,e.binaryString)},e.prototype.isEqual=function(e){return this.binaryString===e.binaryString},e}();pi.EMPTY_BYTE_STRING=new pi("");var vi=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gi(e){if(Yr(!!e),"string"==typeof e){var t=0,n=vi.exec(e);if(Yr(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:mi(e.seconds),nanos:mi(e.nanos)}}function mi(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function yi(e){return"string"==typeof e?pi.fromBase64String(e):pi.fromUint8Array(e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bi(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function wi(e){var t=e.mapValue.fields.__previous_value__;return bi(t)?wi(t):t}function _i(e){var t=gi(e.mapValue.fields.__local_write_time__.timestampValue);return new ii(t.seconds,t.nanos)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ti(e){return null==e}function Si(e){return 0===e&&1/e==-1/0}function Ei(e){return"number"==typeof e&&Number.isInteger(e)&&!Si(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ii=function(){function e(e){this.path=e}return e.fromPath=function(t){return new e(li.fromString(t))},e.fromName=function(t){return new e(li.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},e.prototype.isEqual=function(e){return null!==e&&0===li.comparator(this.path,e.path)},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(e,t){return li.comparator(e.path,t.path)},e.isDocumentKey=function(e){return e.length%2==0},e.fromSegments=function(t){return new e(new li(t.slice()))},e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ki(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?bi(e)?4:10:Zr()}function Ci(e,t){var n=ki(e);if(n!==ki(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return _i(e).isEqual(_i(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=gi(e.timestampValue),r=gi(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return yi(e.bytesValue).isEqual(yi(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return mi(e.geoPointValue.latitude)===mi(t.geoPointValue.latitude)&&mi(e.geoPointValue.longitude)===mi(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return mi(e.integerValue)===mi(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=mi(e.doubleValue),r=mi(t.doubleValue);return n===r?Si(n)===Si(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return ni(e.arrayValue.values||[],t.arrayValue.values||[],Ci);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(ai(n)!==ai(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Ci(n[i],r[i])))return!1;return!0}(e,t);default:return Zr()}}function xi(e,t){return void 0!==(e.values||[]).find((function(e){return Ci(e,t)}))}function Ai(e,t){var n=ki(e),r=ki(t);if(n!==r)return ti(n,r);switch(n){case 0:return 0;case 1:return ti(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=mi(e.integerValue||e.doubleValue),r=mi(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Ri(e.timestampValue,t.timestampValue);case 4:return Ri(_i(e),_i(t));case 5:return ti(e.stringValue,t.stringValue);case 6:return function(e,t){var n=yi(e),r=yi(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var o=ti(n[i],r[i]);if(0!==o)return o}return ti(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=ti(mi(e.latitude),mi(t.latitude));return 0!==n?n:ti(mi(e.longitude),mi(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var o=Ai(n[i],r[i]);if(o)return o}return ti(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=ti(r[a],o[a]);if(0!==s)return s;var u=Ai(n[r[a]],i[o[a]]);if(0!==u)return u}return ti(r.length,o.length)}(e.mapValue,t.mapValue);default:throw Zr()}}function Ri(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return ti(e,t);var n=gi(e),r=gi(t),i=ti(n.seconds,r.seconds);return 0!==i?i:ti(n.nanos,r.nanos)}function Ni(e){return Pi(e)}function Pi(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=gi(e);return"time("+t.seconds+","+t.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?yi(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Ii.fromName(n).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(e){for(var t="[",n=!0,r=0,i=e.values||[];r<i.length;r++)n?n=!1:t+=",",t+=Pi(i[r]);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var t="{",n=!0,r=0,i=Object.keys(e.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:t+=",",t+=o+":"+Pi(e.fields[o])}return t+"}"}(e.mapValue):Zr();var t,n}function Oi(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function Di(e){return!!e&&"integerValue"in e}function Li(e){return!!e&&"arrayValue"in e}function Mi(e){return!!e&&"nullValue"in e}function Fi(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function qi(e){return!!e&&"mapValue"in e}function ji(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return si(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=ji(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=ji(e.arrayValue.values[r]);return n}return Object.assign({},e)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ui=function(){function e(e){this.value=e}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!qi(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null},e.prototype.set=function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ji(t)},e.prototype.setAll=function(e){var t=this,n=fi.emptyPath(),r={},i=[];e.forEach((function(e,o){if(!n.isImmediateParentOf(o)){var a=t.getFieldsMap(n);t.applyChanges(a,r,i),r={},i=[],n=o.popLast()}e?r[o.lastSegment()]=ji(e):i.push(o.lastSegment())}));var o=this.getFieldsMap(n);this.applyChanges(o,r,i)},e.prototype.delete=function(e){var t=this.field(e.popLast());qi(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]},e.prototype.isEqual=function(e){return Ci(this.value,e.value)},e.prototype.getFieldsMap=function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];qi(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields},e.prototype.applyChanges=function(e,t,n){si(t,(function(t,n){return e[t]=n}));for(var r=0,i=n;r<i.length;r++){var o=i[r];delete e[o]}},e.prototype.clone=function(){return new e(ji(this.value))},e}();function Bi(e){var t=[];return si(e.fields,(function(e,n){var r=new fi([e]);if(qi(n)){var i=Bi(n.mapValue).fields;if(0===i.length)t.push(r);else for(var o=0,a=i;o<a.length;o++){var s=a[o];t.push(r.child(s))}}else t.push(r)})),new di(t)
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}var Vi=function(){function e(e,t,n,r,i){this.key=e,this.documentType=t,this.version=n,this.data=r,this.documentState=i}return e.newInvalidDocument=function(t){return new e(t,0,oi.min(),Ui.empty(),0)},e.newFoundDocument=function(t,n,r){return new e(t,1,n,r,0)},e.newNoDocument=function(t,n){return new e(t,2,n,Ui.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,Ui.empty(),2)},e.prototype.convertToFoundDocument=function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this},e.prototype.convertToNoDocument=function(e){return this.version=e,this.documentType=2,this.data=Ui.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(e){return this.version=e,this.documentType=3,this.data=Ui.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return 0!==this.documentType},e.prototype.isFoundDocument=function(){return 1===this.documentType},e.prototype.isNoDocument=function(){return 2===this.documentType},e.prototype.isUnknownDocument=function(){return 3===this.documentType},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),Hi=function(e,t,n,r,i,o,a){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.h=null};
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gi(e,t,n,r,i,o,a){return void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new Hi(e,t,n,r,i,o,a)}function zi(e){var t=Qr(e);if(null===t.h){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return function(e){return e.field.canonicalString()+e.op.toString()+Ni(e.value)}(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Ti(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=io(t.startAt)),t.endAt&&(n+="|ub:",n+=io(t.endAt)),t.h=n}return t.h}function Ki(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!ao(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],o=t.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!Ci(i.value,o.value))return!1;var i,o;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!uo(e.startAt,t.startAt)&&uo(e.endAt,t.endAt)}function $i(e){return Ii.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var Wi=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).field=t,i.op=n,i.value=r,i}return(0,i.ZT)(t,e),t.create=function(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.l(e,n,r):new Ji(e,n,r):"array-contains"===n?new Xi(e,r):"in"===n?new eo(e,r):"not-in"===n?new to(e,r):"array-contains-any"===n?new no(e,r):new t(e,n,r)},t.l=function(e,t,n){return"in"===t?new Zi(e,n):new Yi(e,n)},t.prototype.matches=function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.m(Ai(t,this.value)):null!==t&&ki(this.value)===ki(t)&&this.m(Ai(t,this.value))},t.prototype.m=function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Zr()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}((function(){})),Ji=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,r)||this).key=Ii.fromName(r.referenceValue),i}return(0,i.ZT)(t,e),t.prototype.matches=function(e){var t=Ii.comparator(e.key,this.key);return this.m(t)},t}(Wi),Zi=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"in",n)||this).keys=Qi("in",n),r}return(0,i.ZT)(t,e),t.prototype.matches=function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))},t}(Wi),Yi=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"not-in",n)||this).keys=Qi("not-in",n),r}return(0,i.ZT)(t,e),t.prototype.matches=function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))},t}(Wi);function Qi(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Ii.fromName(e.referenceValue)}))}var Xi=function(e){function t(t,n){return e.call(this,t,"array-contains",n)||this}return(0,i.ZT)(t,e),t.prototype.matches=function(e){var t=e.data.field(this.field);return Li(t)&&xi(t.arrayValue,this.value)},t}(Wi),eo=function(e){function t(t,n){return e.call(this,t,"in",n)||this}return(0,i.ZT)(t,e),t.prototype.matches=function(e){var t=e.data.field(this.field);return null!==t&&xi(this.value.arrayValue,t)},t}(Wi),to=function(e){function t(t,n){return e.call(this,t,"not-in",n)||this}return(0,i.ZT)(t,e),t.prototype.matches=function(e){if(xi(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!xi(this.value.arrayValue,t)},t}(Wi),no=function(e){function t(t,n){return e.call(this,t,"array-contains-any",n)||this}return(0,i.ZT)(t,e),t.prototype.matches=function(e){var t=this,n=e.data.field(this.field);return!(!Li(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return xi(t.value.arrayValue,e)}))},t}(Wi),ro=function(e,t){this.position=e,this.before=t};function io(e){return(e.before?"b":"a")+":"+e.position.map((function(e){return Ni(e)})).join(",")}var oo=function(e,t){void 0===t&&(t="asc"),this.field=e,this.dir=t};function ao(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function so(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var o=t[i],a=e.position[i];if(r=o.field.isKeyField()?Ii.comparator(Ii.fromName(a.referenceValue),n.key):Ai(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function uo(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Ci(e.position[n],t.position[n]))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var co=function(e,t,n,r,i,o,a,s){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.p=null,this.T=null,this.startAt,this.endAt};function lo(e,t,n,r,i,o,a,s){return new co(e,t,n,r,i,o,a,s)}function ho(e){return new co(e)}function fo(e){return!Ti(e.limit)&&"F"===e.limitType}function po(e){return!Ti(e.limit)&&"L"===e.limitType}function vo(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function go(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.g())return r.field}return null}function mo(e){return null!==e.collectionGroup}function yo(e){var t=Qr(e);if(null===t.p){t.p=[];var n=go(t),r=vo(t);if(null!==n&&null===r)n.isKeyField()||t.p.push(new oo(n)),t.p.push(new oo(fi.keyField(),"asc"));else{for(var i=!1,o=0,a=t.explicitOrderBy;o<a.length;o++){var s=a[o];t.p.push(s),s.field.isKeyField()&&(i=!0)}if(!i){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new oo(fi.keyField(),u))}}}return t.p}function bo(e){var t=Qr(e);if(!t.T)if("F"===t.limitType)t.T=Gi(t.path,t.collectionGroup,yo(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,i=yo(t);r<i.length;r++){var o=i[r],a="desc"===o.dir?"asc":"desc";n.push(new oo(o.field,a))}var s=t.endAt?new ro(t.endAt.position,!t.endAt.before):null,u=t.startAt?new ro(t.startAt.position,!t.startAt.before):null;t.T=Gi(t.path,t.collectionGroup,n,t.filters,t.limit,s,u)}return t.T}function wo(e,t,n){return new co(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function _o(e,t){return Ki(bo(e),bo(t))&&e.limitType===t.limitType}function To(e){return zi(bo(e))+"|lt:"+e.limitType}function So(e){return"Query(target="+function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: ["+e.filters.map((function(e){return(t=e).field.canonicalString()+" "+t.op+" "+Ni(t.value);var t})).join(", ")+"]"),Ti(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: ["+e.orderBy.map((function(e){return function(e){return e.field.canonicalString()+" ("+e.dir+")"}(e)})).join(", ")+"]"),e.startAt&&(t+=", startAt: "+io(e.startAt)),e.endAt&&(t+=", endAt: "+io(e.endAt)),"Target("+t+")"}(bo(e))+"; limitType="+e.limitType+")"}function Eo(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Ii.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(var n=0,r=e.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}return!0}(e,t)&&function(e,t){for(var n=0,r=e.filters;n<r.length;n++)if(!r[n].matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!so(e.startAt,yo(e),t))&&(!e.endAt||!so(e.endAt,yo(e),t))}(e,t)}function Io(e){return function(t,n){for(var r=!1,i=0,o=yo(e);i<o.length;i++){var a=o[i],s=ko(a,t,n);if(0!==s)return s;r=r||a.field.isKeyField()}return 0}}function ko(e,t,n){var r=e.field.isKeyField()?Ii.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Ai(r,i):Zr()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Zr()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Co(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Si(t)?"-0":t}}function xo(e){return{integerValue:""+e}}function Ao(e,t){return Ei(t)?xo(t):Co(e,t)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ro=function(){this._=void 0};function No(e,t,n){return e instanceof Do?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Lo?Mo(e,t):e instanceof Fo?qo(e,t):function(e,t){var n=Oo(e,t),r=Uo(n)+Uo(e.A);return Di(n)&&Di(e.A)?xo(r):Co(e.R,r)}(e,t)}function Po(e,t,n){return e instanceof Lo?Mo(e,t):e instanceof Fo?qo(e,t):n}function Oo(e,t){return e instanceof jo?Di(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Do=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,i.ZT)(t,e),t}(Ro),Lo=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return(0,i.ZT)(t,e),t}(Ro);function Mo(e,t){for(var n=Bo(t),r=function(e){n.some((function(t){return Ci(t,e)}))||n.push(e)},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Fo=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return(0,i.ZT)(t,e),t}(Ro);function qo(e,t){for(var n=Bo(t),r=function(e){n=n.filter((function(t){return!Ci(t,e)}))},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var jo=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).R=t,r.A=n,r}return(0,i.ZT)(t,e),t}(Ro);function Uo(e){return mi(e.integerValue||e.doubleValue)}function Bo(e){return Li(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vo=function(e,t){this.field=e,this.transform=t},Ho=function(e,t){this.version=e,this.transformResults=t},Go=function(){function e(e,t){this.updateTime=e,this.exists=t}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},e}();function zo(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Ko=function(){};function $o(e,t,n){e instanceof Qo?function(e,t,n){var r=e.value.clone(),i=ta(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Xo?function(e,t,n){if(zo(e.precondition,t)){var r=ta(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(ea(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Wo(e,t,n){e instanceof Qo?function(e,t,n){if(zo(e.precondition,t)){var r=e.value.clone(),i=na(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(Yo(t),r).setHasLocalMutations()}}(e,t,n):e instanceof Xo?function(e,t,n){if(zo(e.precondition,t)){var r=na(e.fieldTransforms,n,t),i=t.data;i.setAll(ea(e)),i.setAll(r),t.convertToFoundDocument(Yo(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){zo(e.precondition,t)&&t.convertToNoDocument(oi.min())}(e,t)}function Jo(e,t){for(var n=null,r=0,i=e.fieldTransforms;r<i.length;r++){var o=i[r],a=t.data.field(o.field),s=Oo(o.transform,a||null);null!=s&&(null==n&&(n=Ui.empty()),n.set(o.field,s))}return n||null}function Zo(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&ni(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Lo&&t instanceof Lo||e instanceof Fo&&t instanceof Fo?ni(e.elements,t.elements,Ci):e instanceof jo&&t instanceof jo?Ci(e.A,t.A):e instanceof Do&&t instanceof Do}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function Yo(e){return e.isFoundDocument()?e.version:oi.min()}var Qo=function(e){function t(t,n,r,i){void 0===i&&(i=[]);var o=this;return(o=e.call(this)||this).key=t,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return(0,i.ZT)(t,e),t}(Ko),Xo=function(e){function t(t,n,r,i,o){void 0===o&&(o=[]);var a=this;return(a=e.call(this)||this).key=t,a.data=n,a.fieldMask=r,a.precondition=i,a.fieldTransforms=o,a.type=1,a}return(0,i.ZT)(t,e),t}(Ko);function ea(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function ta(e,t,n){var r=new Map;Yr(e.length===n.length);for(var i=0;i<n.length;i++){var o=e[i],a=o.transform,s=t.data.field(o.field);r.set(o.field,Po(a,s,n[i]))}return r}function na(e,t,n){for(var r=new Map,i=0,o=e;i<o.length;i++){var a=o[i],s=a.transform,u=n.data.field(a.field);r.set(a.field,No(s,u,t))}return r}var ra,ia,oa=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return(0,i.ZT)(t,e),t}(Ko),aa=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return(0,i.ZT)(t,e),t}(Ko),sa=function(e){this.count=e};function ua(e){switch(e){case Vr.OK:return Zr();case Vr.CANCELLED:case Vr.UNKNOWN:case Vr.DEADLINE_EXCEEDED:case Vr.RESOURCE_EXHAUSTED:case Vr.INTERNAL:case Vr.UNAVAILABLE:case Vr.UNAUTHENTICATED:return!1;case Vr.INVALID_ARGUMENT:case Vr.NOT_FOUND:case Vr.ALREADY_EXISTS:case Vr.PERMISSION_DENIED:case Vr.FAILED_PRECONDITION:case Vr.ABORTED:case Vr.OUT_OF_RANGE:case Vr.UNIMPLEMENTED:case Vr.DATA_LOSS:return!0;default:return Zr()}}function ca(e){if(void 0===e)return $r("GRPC error has no .code"),Vr.UNKNOWN;switch(e){case ra.OK:return Vr.OK;case ra.CANCELLED:return Vr.CANCELLED;case ra.UNKNOWN:return Vr.UNKNOWN;case ra.DEADLINE_EXCEEDED:return Vr.DEADLINE_EXCEEDED;case ra.RESOURCE_EXHAUSTED:return Vr.RESOURCE_EXHAUSTED;case ra.INTERNAL:return Vr.INTERNAL;case ra.UNAVAILABLE:return Vr.UNAVAILABLE;case ra.UNAUTHENTICATED:return Vr.UNAUTHENTICATED;case ra.INVALID_ARGUMENT:return Vr.INVALID_ARGUMENT;case ra.NOT_FOUND:return Vr.NOT_FOUND;case ra.ALREADY_EXISTS:return Vr.ALREADY_EXISTS;case ra.PERMISSION_DENIED:return Vr.PERMISSION_DENIED;case ra.FAILED_PRECONDITION:return Vr.FAILED_PRECONDITION;case ra.ABORTED:return Vr.ABORTED;case ra.OUT_OF_RANGE:return Vr.OUT_OF_RANGE;case ra.UNIMPLEMENTED:return Vr.UNIMPLEMENTED;case ra.DATA_LOSS:return Vr.DATA_LOSS;default:return Zr()}}(ia=ra||(ra={}))[ia.OK=0]="OK",ia[ia.CANCELLED=1]="CANCELLED",ia[ia.UNKNOWN=2]="UNKNOWN",ia[ia.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ia[ia.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ia[ia.NOT_FOUND=5]="NOT_FOUND",ia[ia.ALREADY_EXISTS=6]="ALREADY_EXISTS",ia[ia.PERMISSION_DENIED=7]="PERMISSION_DENIED",ia[ia.UNAUTHENTICATED=16]="UNAUTHENTICATED",ia[ia.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ia[ia.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ia[ia.ABORTED=10]="ABORTED",ia[ia.OUT_OF_RANGE=11]="OUT_OF_RANGE",ia[ia.UNIMPLEMENTED=12]="UNIMPLEMENTED",ia[ia.INTERNAL=13]="INTERNAL",ia[ia.UNAVAILABLE=14]="UNAVAILABLE",ia[ia.DATA_LOSS=15]="DATA_LOSS";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var la=function(){function e(e,t){this.comparator=e,this.root=t||fa.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,fa.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,fa.BLACK,null,null))},e.prototype.get=function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null},e.prototype.indexOf=function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},e.prototype.forEach=function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))},e.prototype.toString=function(){var e=[];return this.inorderTraversal((function(t,n){return e.push(t+":"+n),!1})),"{"+e.join(", ")+"}"},e.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},e.prototype.getIterator=function(){return new ha(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(e){return new ha(this.root,e,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new ha(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(e){return new ha(this.root,e,this.comparator,!0)},e}(),ha=function(){function e(e,t,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return e.prototype.getNext=function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},e}(),fa=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=o?o:e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},e.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},e.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw Zr();if(this.right.isRed())throw Zr();var e=this.left.check();if(e!==this.right.check())throw Zr();return e+(this.isRed()?0:1)},e}();fa.EMPTY=null,fa.RED=!0,fa.BLACK=!1,fa.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw Zr()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw Zr()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw Zr()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw Zr()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw Zr()},enumerable:!1,configurable:!0}),e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new fa(e,t)},e.prototype.remove=function(e,t){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var da=function(){function e(e){this.comparator=e,this.data=new la(this.comparator)}return e.prototype.has=function(e){return null!==this.data.get(e)},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(e){return this.data.indexOf(e)},e.prototype.forEach=function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.forEachInRange=function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}},e.prototype.forEachWhile=function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return},e.prototype.firstAfterOrEqual=function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null},e.prototype.getIterator=function(){return new pa(this.data.getIterator())},e.prototype.getIteratorFrom=function(e){return new pa(this.data.getIteratorFrom(e))},e.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},e.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},e.prototype.toArray=function(){var e=[];return this.forEach((function(t){e.push(t)})),e},e.prototype.toString=function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),pa=function(){function e(e){this.iter=e}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),va=new la(Ii.comparator);function ga(){return va}var ma=new la(Ii.comparator);function ya(){return ma}var ba=new la(Ii.comparator);function wa(){return ba}var _a=new da(Ii.comparator);function Ta(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=_a,r=0,i=e;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Sa=new da(ti);function Ea(){return Sa}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ia=function(){function e(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r=new Map;return r.set(t,ka.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(oi.min(),r,Ea(),ga(),Ta())},e}(),ka=function(){function e(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(pi.EMPTY_BYTE_STRING,n,Ta(),Ta(),Ta())},e}(),Ca=function(e,t,n,r){this.v=e,this.removedTargetIds=t,this.key=n,this.P=r},xa=function(e,t){this.targetId=e,this.V=t},Aa=function(e,t,n,r){void 0===n&&(n=pi.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},Ra=function(){function e(){this.S=0,this.D=Oa(),this.C=pi.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"F",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),e.prototype.O=function(e){e.approximateByteSize()>0&&(this.k=!0,this.C=e)},e.prototype.M=function(){var e=Ta(),t=Ta(),n=Ta();return this.D.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Zr()}})),new ka(this.C,this.N,e,t,n)},e.prototype.L=function(){this.k=!1,this.D=Oa()},e.prototype.B=function(e,t){this.k=!0,this.D=this.D.insert(e,t)},e.prototype.q=function(e){this.k=!0,this.D=this.D.remove(e)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.k=!0,this.N=!0},e}(),Na=function(){function e(e){this.W=e,this.G=new Map,this.H=ga(),this.J=Pa(),this.Y=new da(ti)}return e.prototype.X=function(e){for(var t=0,n=e.v;t<n.length;t++){var r=n[t];e.P&&e.P.isFoundDocument()?this.Z(r,e.P):this.tt(r,e.key,e.P)}for(var i=0,o=e.removedTargetIds;i<o.length;i++)r=o[i],this.tt(r,e.key,e.P)},e.prototype.et=function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.nt(n);switch(e.state){case 0:t.st(n)&&r.O(e.resumeToken);break;case 1:r.K(),r.F||r.L(),r.O(e.resumeToken);break;case 2:r.K(),r.F||t.removeTarget(n);break;case 3:t.st(n)&&(r.j(),r.O(e.resumeToken));break;case 4:t.st(n)&&(t.it(n),r.O(e.resumeToken));break;default:Zr()}}))},e.prototype.forEachTarget=function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.G.forEach((function(e,r){n.st(r)&&t(r)}))},e.prototype.rt=function(e){var t=e.targetId,n=e.V.count,r=this.ot(t);if(r){var i=r.target;if($i(i))if(0===n){var o=new Ii(i.path);this.tt(t,o,Vi.newNoDocument(o,oi.min()))}else Yr(1===n);else this.ct(t)!==n&&(this.it(t),this.Y=this.Y.add(t))}},e.prototype.ut=function(e){var t=this,n=new Map;this.G.forEach((function(r,i){var o=t.ot(i);if(o){if(r.current&&$i(o.target)){var a=new Ii(o.target.path);null!==t.H.get(a)||t.at(i,a)||t.tt(i,a,Vi.newNoDocument(a,e))}r.$&&(n.set(i,r.M()),r.L())}}));var r=Ta();this.J.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.ot(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))}));var i=new Ia(e,n,this.Y,this.H,r);return this.H=ga(),this.J=Pa(),this.Y=new da(ti),i},e.prototype.Z=function(e,t){if(this.st(e)){var n=this.at(e,t.key)?2:0;this.nt(e).B(t.key,n),this.H=this.H.insert(t.key,t),this.J=this.J.insert(t.key,this.ht(t.key).add(e))}},e.prototype.tt=function(e,t,n){if(this.st(e)){var r=this.nt(e);this.at(e,t)?r.B(t,1):r.q(t),this.J=this.J.insert(t,this.ht(t).delete(e)),n&&(this.H=this.H.insert(t,n))}},e.prototype.removeTarget=function(e){this.G.delete(e)},e.prototype.ct=function(e){var t=this.nt(e).M();return this.W.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size},e.prototype.U=function(e){this.nt(e).U()},e.prototype.nt=function(e){var t=this.G.get(e);return t||(t=new Ra,this.G.set(e,t)),t},e.prototype.ht=function(e){var t=this.J.get(e);return t||(t=new da(ti),this.J=this.J.insert(e,t)),t},e.prototype.st=function(e){var t=null!==this.ot(e);return t||Kr("WatchChangeAggregator","Detected inactive target",e),t},e.prototype.ot=function(e){var t=this.G.get(e);return t&&t.F?null:this.W.lt(e)},e.prototype.it=function(e){var t=this;this.G.set(e,new Ra),this.W.getRemoteKeysForTarget(e).forEach((function(n){t.tt(e,n,null)}))},e.prototype.at=function(e,t){return this.W.getRemoteKeysForTarget(e).has(t)},e}();function Pa(){return new la(Ii.comparator)}function Oa(){return new la(Ii.comparator)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Da={asc:"ASCENDING",desc:"DESCENDING"},La={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ma=function(e,t){this.databaseId=e,this.I=t};function Fa(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function qa(e,t){return e.I?t.toBase64():t.toUint8Array()}function ja(e,t){return Fa(e,t.toTimestamp())}function Ua(e){return Yr(!!e),oi.fromTimestamp(function(e){var t=gi(e);return new ii(t.seconds,t.nanos)}(e))}function Ba(e,t){return function(e){return new li(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Va(e){var t=li.fromString(e);return Yr(fs(t)),t}function Ha(e,t){return Ba(e.databaseId,t.path)}function Ga(e,t){var n=Va(t);if(n.get(1)!==e.databaseId.projectId)throw new Hr(Vr.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Hr(Vr.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Ii(Wa(n))}function za(e,t){return Ba(e.databaseId,t)}function Ka(e){var t=Va(e);return 4===t.length?li.emptyPath():Wa(t)}function $a(e){return new li(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Wa(e){return Yr(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Ja(e,t,n){return{name:Ha(e,t),fields:n.value.mapValue.fields}}function Za(e,t,n){var r=Ga(e,t.name),i=Ua(t.updateTime),o=new Ui({mapValue:{fields:t.fields}}),a=Vi.newFoundDocument(r,i,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Ya(e,t){var n;if(t instanceof Qo)n={update:Ja(e,t.key,t.value)};else if(t instanceof oa)n={delete:Ha(e,t.key)};else if(t instanceof Xo)n={update:Ja(e,t.key,t.data),updateMask:hs(t.fieldMask)};else{if(!(t instanceof aa))return Zr();n={verify:Ha(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Do)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Lo)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Fo)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof jo)return{fieldPath:t.field.canonicalString(),increment:n.A};throw Zr()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:ja(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Zr()}(e,t.precondition)),n}function Qa(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?Go.updateTime(Ua(e.updateTime)):void 0!==e.exists?Go.exists(e.exists):Go.none()}(t.currentDocument):Go.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)Yr("REQUEST_TIME"===t.setToServerValue),n=new Do;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Lo(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new Fo(i)}else"increment"in t?n=new jo(e,t.increment):Zr();var o=fi.fromServerFormat(t.fieldPath);return new Vo(o,n)}(e,t)})):[];if(t.update){t.update.name;var i=Ga(e,t.update.name),o=new Ui({mapValue:{fields:t.update.fields}});if(t.updateMask){var a=function(e){var t=e.fieldPaths||[];return new di(t.map((function(e){return fi.fromServerFormat(e)})))}(t.updateMask);return new Xo(i,o,a,n,r)}return new Qo(i,o,n,r)}if(t.delete){var s=Ga(e,t.delete);return new oa(s,n)}if(t.verify){var u=Ga(e,t.verify);return new aa(u,n)}return Zr()}function Xa(e,t){return{documents:[za(e,t.path)]}}function es(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=za(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=za(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(Fi(e.value))return{unaryFilter:{field:ss(e.field),op:"IS_NAN"}};if(Mi(e.value))return{unaryFilter:{field:ss(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Fi(e.value))return{unaryFilter:{field:ss(e.field),op:"IS_NOT_NAN"}};if(Mi(e.value))return{unaryFilter:{field:ss(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ss(e.field),op:as(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var o=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:ss(e.field),direction:os(e.dir)}}(e)}))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(e,t){return e.I||Ti(t)?t:{value:t}}(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=rs(t.startAt)),t.endAt&&(n.structuredQuery.endAt=rs(t.endAt)),n}function ts(e){var t=Ka(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Yr(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:t=t.child(o.collectionId)}var a=[];n.where&&(a=ns(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new oo(us(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return Ti(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=is(n.startAt));var l=null;return n.endAt&&(l=is(n.endAt)),lo(t,i,s,a,u,"F",c,l)}function ns(e){return e?void 0!==e.unaryFilter?[ls(e)]:void 0!==e.fieldFilter?[cs(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return ns(e)})).reduce((function(e,t){return e.concat(t)})):Zr():[]}function rs(e){return{before:e.before,values:e.position}}function is(e){var t=!!e.before,n=e.values||[];return new ro(n,t)}function os(e){return Da[e]}function as(e){return La[e]}function ss(e){return{fieldPath:e.canonicalString()}}function us(e){return fi.fromServerFormat(e.fieldPath)}function cs(e){return Wi.create(us(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Zr()}}(e.fieldFilter.op),e.fieldFilter.value)}function ls(e){switch(e.unaryFilter.op){case"IS_NAN":var t=us(e.unaryFilter.field);return Wi.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=us(e.unaryFilter.field);return Wi.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=us(e.unaryFilter.field);return Wi.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=us(e.unaryFilter.field);return Wi.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Zr()}}function hs(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function fs(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ds(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=vs(t)),t=ps(e.get(n),t);return vs(t)}function ps(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var o=e.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function vs(e){return e+""}function gs(e){var t=e.length;if(Yr(t>=2),2===t)return Yr(""===e.charAt(0)&&""===e.charAt(1)),li.emptyPath();for(var n=t-2,r=[],i="",o=0;o<t;){var a=e.indexOf("",o);switch((a<0||a>n)&&Zr(),e.charAt(a+1)){case"":var s=e.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"":i+=e.substring(o,a),i+="\0";break;case"":i+=e.substring(o,a+1);break;default:Zr()}o=a+2}return new li(r)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ms=function(e,t){this.seconds=e,this.nanoseconds=t},ys=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};ys.store="owner",ys.key="owner";var bs=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};bs.store="mutationQueues",bs.keyPath="userId";var ws=function(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};ws.store="mutations",ws.keyPath="batchId",ws.userMutationsIndex="userMutationsIndex",ws.userMutationsKeyPath=["userId","batchId"];var _s=function(){function e(){}return e.prefixForUser=function(e){return[e]},e.prefixForPath=function(e,t){return[e,ds(t)]},e.key=function(e,t,n){return[e,ds(t),n]},e}();_s.store="documentMutations",_s.PLACEHOLDER=new _s;var Ts=function(e,t){this.path=e,this.readTime=t},Ss=function(e,t){this.path=e,this.version=t},Es=function(e,t,n,r,i,o){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Es.store="remoteDocuments",Es.readTimeIndex="readTimeIndex",Es.readTimeIndexPath="readTime",Es.collectionReadTimeIndex="collectionReadTimeIndex",Es.collectionReadTimeIndexPath=["parentPath","readTime"];var Is=function(e){this.byteSize=e};Is.store="remoteDocumentGlobal",Is.key="remoteDocumentGlobalKey";var ks=function(e,t,n,r,i,o,a){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};ks.store="targets",ks.keyPath="targetId",ks.queryTargetsIndexName="queryTargetsIndex",ks.queryTargetsKeyPath=["canonicalId","targetId"];var Cs=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};Cs.store="targetDocuments",Cs.keyPath=["targetId","path"],Cs.documentTargetsIndex="documentTargetsIndex",Cs.documentTargetsKeyPath=["path","targetId"];var xs=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};xs.key="targetGlobalKey",xs.store="targetGlobal";var As=function(e,t){this.collectionId=e,this.parent=t};As.store="collectionParents",As.keyPath=["collectionId","parent"];var Rs=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};Rs.store="clientMetadata",Rs.keyPath="clientId";var Ns=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};Ns.store="bundles",Ns.keyPath="bundleId";var Ps=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};Ps.store="namedQueries",Ps.keyPath="name";var Os=(0,i.ev)((0,i.ev)([],(0,i.ev)((0,i.ev)([],(0,i.ev)((0,i.ev)([],(0,i.ev)((0,i.ev)([],[bs.store,ws.store,_s.store,Es.store,ks.store,ys.store,xs.store,Cs.store]),[Rs.store])),[Is.store])),[As.store])),[Ns.store,Ps.store]),Ds="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Ls=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(e){this.onCommittedListeners.push(e)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(e){return e()}))},e}(),Ms=function(){var e=this;this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))},Fs=function(){function e(e){var t=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((function(e){t.isDone=!0,t.result=e,t.nextCallback&&t.nextCallback(e)}),(function(e){t.isDone=!0,t.error=e,t.catchCallback&&t.catchCallback(e)}))}return e.prototype.catch=function(e){return this.next(void 0,e)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&Zr(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))},e.prototype.toPromise=function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)},e.resolve=function(t){return new e((function(e,n){e(t)}))},e.reject=function(t){return new e((function(e,n){n(t)}))},e.waitFor=function(t){return new e((function(e,n){var r=0,i=0,o=!1;t.forEach((function(t){++r,t.next((function(){++i,o&&i===r&&e()}),(function(e){return n(e)}))})),o=!0,i===r&&e()}))},e.or=function(t){for(var n=e.resolve(!1),r=function(t){n=n.next((function(n){return n?e.resolve(n):t()}))},i=0,o=t;i<o.length;i++)r(o[i]);return n},e.forEach=function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)},e}(),qs=function(){function e(e,t){var n=this;this.action=e,this.transaction=t,this.aborted=!1,this.ft=new Ms,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){t.error?n.ft.reject(new Bs(e,t.error)):n.ft.resolve()},this.transaction.onerror=function(t){var r=Ks(t.target.error);n.ft.reject(new Bs(e,r))}}return e.open=function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new Bs(n,t)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(e){e&&this.ft.reject(e),this.aborted||(Kr("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(e){var t=this.transaction.objectStore(e);return new Hs(t)},e}(),js=function(){function e(t,n,r){this.name=t,this.version=n,this.wt=r,12.2===e._t((0,o.z$)())&&$r("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(e){return Kr("SimpleDb","Removing database:",e),Gs(window.indexedDB.deleteDatabase(e)).toPromise()},e.yt=function(){if("undefined"==typeof indexedDB)return!1;if(e.gt())return!0;var t=(0,o.z$)(),n=e._t(t),r=0<n&&n<10,i=e.Et(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)},e.gt=function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Tt)},e.It=function(e,t){return e.store(t)},e._t=function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)},e.Et=function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)},e.prototype.At=function(e){return(0,i.mG)(this,void 0,void 0,(function(){var t,n=this;return(0,i.Jh)(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(Kr("SimpleDb","Opening database:",this.name),t=this,[4,new Promise((function(t,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(e){var n=e.target.result;t(n)},i.onblocked=function(){r(new Bs(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(t){var n=t.target.error;"VersionError"===n.name?r(new Hr(Vr.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new Bs(e,n))},i.onupgradeneeded=function(e){Kr("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.wt.Rt(t,i.transaction,e.oldVersion,n.version).next((function(){Kr("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:t.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(e){return n.bt(e)}),this.db)]}}))}))},e.prototype.vt=function(e){this.bt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})},e.prototype.runTransaction=function(e,t,n,r){return(0,i.mG)(this,void 0,void 0,(function(){var o,a,s,u,c;return(0,i.Jh)(this,(function(l){switch(l.label){case 0:o="readonly"===t,a=0,s=function(){var t,s,c,l,h;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:++a,i.label=1;case 1:return i.trys.push([1,4,,5]),[4,u.At(e)];case 2:return u.db=i.sent(),t=qs.open(u.db,e,o?"readonly":"readwrite",n),s=r(t).catch((function(e){return t.abort(e),Fs.reject(e)})).toPromise(),c={},s.catch((function(){})),[4,t.dt];case 3:return[2,(c.value=(i.sent(),s),c)];case 4:return l=i.sent(),h="FirebaseError"!==l.name&&a<3,Kr("SimpleDb","Transaction failed with error:",l.message,"Retrying:",h),u.close(),h?[3,5]:[2,{value:Promise.reject(l)}];case 5:return[2]}}))},u=this,l.label=1;case 1:return[5,s()];case 2:if("object"==typeof(c=l.sent()))return[2,c.value];l.label=3;case 3:return[3,1];case 4:return[2]}}))}))},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),Us=function(){function e(e){this.Pt=e,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(e){this.Pt=e},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(e){this.St=e},e.prototype.delete=function(){return Gs(this.Pt.delete())},e}(),Bs=function(e){function t(t,n){var r=this;return(r=e.call(this,Vr.UNAVAILABLE,"IndexedDB transaction '"+t+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return(0,i.ZT)(t,e),t}(Hr);function Vs(e){return"IndexedDbTransactionError"===e.name}var Hs=function(){function e(e){this.store=e}return e.prototype.put=function(e,t){var n;return void 0!==t?(Kr("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Kr("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Gs(n)},e.prototype.add=function(e){return Kr("SimpleDb","ADD",this.store.name,e,e),Gs(this.store.add(e))},e.prototype.get=function(e){var t=this;return Gs(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Kr("SimpleDb","GET",t.store.name,e,n),n}))},e.prototype.delete=function(e){return Kr("SimpleDb","DELETE",this.store.name,e),Gs(this.store.delete(e))},e.prototype.count=function(){return Kr("SimpleDb","COUNT",this.store.name),Gs(this.store.count())},e.prototype.Nt=function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.xt(n,(function(e,t){r.push(t)})).next((function(){return r}))},e.prototype.kt=function(e,t){Kr("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Ft=!1;var r=this.cursor(n);return this.xt(r,(function(e,t,n){return n.delete()}))},e.prototype.$t=function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.xt(r,t)},e.prototype.Ot=function(e){var t=this.cursor({});return new Fs((function(n,r){t.onerror=function(e){var t=Ks(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))},e.prototype.xt=function(e,t){var n=[];return new Fs((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var o=new Us(i),a=t(i.primaryKey,i.value,o);if(a instanceof Fs){var s=a.catch((function(e){return o.done(),Fs.reject(e)}));n.push(s)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}})).next((function(){return Fs.waitFor(n)}))},e.prototype.options=function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}},e.prototype.cursor=function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Ft?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)},e}();function Gs(e){return new Fs((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=Ks(e.target.error);n(t)}}))}var zs=!1;function Ks(e){var t=js._t((0,o.z$)());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Hr("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return zs||(zs=!0,setTimeout((function(){throw r}),0)),r}}return e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $s=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Mt=t,r.currentSequenceNumber=n,r}return(0,i.ZT)(t,e),t}(Ls);function Ws(e,t){var n=Qr(e);return js.It(n.Mt,t)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Js=function(){function e(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}return e.prototype.applyToRemoteDocument=function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&$o(i,e,n[r])}},e.prototype.applyToLocalView=function(e){for(var t=0,n=this.baseMutations;t<n.length;t++)(o=n[t]).key.isEqual(e.key)&&Wo(o,e,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(e.key)&&Wo(o,e,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(oi.min())}))},e.prototype.keys=function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Ta())},e.prototype.isEqual=function(e){return this.batchId===e.batchId&&ni(this.mutations,e.mutations,(function(e,t){return Zo(e,t)}))&&ni(this.baseMutations,e.baseMutations,(function(e,t){return Zo(e,t)}))},e}(),Zs=function(){function e(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}return e.from=function(t,n,r){Yr(t.mutations.length===r.length);for(var i=wa(),o=t.mutations,a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new e(t,n,r,i)},e}(),Ys=function(){function e(e,t,n,r,i,o,a){void 0===i&&(i=oi.min()),void 0===o&&(o=oi.min()),void 0===a&&(a=pi.EMPTY_BYTE_STRING),this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),Qs=function(e){this.Lt=e};function Xs(e,t){if(t.document)return Za(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=Ii.fromSegments(t.noDocument.path),r=iu(t.noDocument.readTime),i=Vi.newNoDocument(n,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){var o=Ii.fromSegments(t.unknownDocument.path);return r=iu(t.unknownDocument.version),Vi.newUnknownDocument(o,r)}return Zr()}function eu(e,t,n){var r=tu(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){var o=function(e,t){return{name:Ha(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Fa(e,t.version.toTimestamp())}}(e.Lt,t),a=t.hasCommittedMutations;return new Es(null,null,o,a,r,i)}if(t.isNoDocument()){var s=t.key.path.toArray(),u=ru(t.version);return a=t.hasCommittedMutations,new Es(null,new Ts(s,u),null,a,r,i)}if(t.isUnknownDocument()){var c=t.key.path.toArray(),l=ru(t.version);return new Es(new Ss(c,l),null,null,!0,r,i)}return Zr()}function tu(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function nu(e){var t=new ii(e[0],e[1]);return oi.fromTimestamp(t)}function ru(e){var t=e.toTimestamp();return new ms(t.seconds,t.nanoseconds)}function iu(e){var t=new ii(e.seconds,e.nanoseconds);return oi.fromTimestamp(t)}function ou(e,t){for(var n=(t.baseMutations||[]).map((function(t){return Qa(e.Lt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var o=t.mutations[r+1];i.updateTransforms=o.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var a=t.mutations.map((function(t){return Qa(e.Lt,t)})),s=ii.fromMillis(t.localWriteTimeMs);return new Js(t.batchId,s,n,a)}function au(e){var t,n,r=iu(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?iu(e.lastLimboFreeSnapshotVersion):oi.min();return void 0!==e.query.documents?(Yr(1===(n=e.query).documents.length),t=bo(ho(Ka(n.documents[0])))):t=function(e){return bo(ts(e))}(e.query),new Ys(t,e.targetId,0,e.lastListenSequenceNumber,r,i,pi.fromBase64String(e.resumeToken))}function su(e,t){var n,r=ru(t.snapshotVersion),i=ru(t.lastLimboFreeSnapshotVersion);n=$i(t.target)?Xa(e.Lt,t.target):es(e.Lt,t.target);var o=t.resumeToken.toBase64();return new ks(t.targetId,zi(t.target),r,o,t.sequenceNumber,i,n)}function uu(e){var t=ts({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?wo(t,t.limit,"L"):t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cu=function(){function e(){}return e.prototype.getBundleMetadata=function(e,t){return lu(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:iu(t.createTime),version:t.version};var t}))},e.prototype.saveBundleMetadata=function(e,t){return lu(e).put({bundleId:(n=t).id,createTime:ru(Ua(n.createTime)),version:n.version});var n},e.prototype.getNamedQuery=function(e,t){return hu(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:uu(t.bundledQuery),readTime:iu(t.readTime)};var t}))},e.prototype.saveNamedQuery=function(e,t){return hu(e).put(function(e){return{name:e.name,readTime:ru(Ua(e.readTime)),bundledQuery:e.bundledQuery}}(t))},e}();function lu(e){return Ws(e,Ns.store)}function hu(e){return Ws(e,Ps.store)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fu=function(){function e(){this.Bt=new du}return e.prototype.addToCollectionParentIndex=function(e,t){return this.Bt.add(t),Fs.resolve()},e.prototype.getCollectionParents=function(e,t){return Fs.resolve(this.Bt.getEntries(t))},e}(),du=function(){function e(){this.index={}}return e.prototype.add=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new da(li.comparator),i=!r.has(n);return this.index[t]=r.add(n),i},e.prototype.has=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)},e.prototype.getEntries=function(e){return(this.index[e]||new da(li.comparator)).toArray()},e}(),pu=function(){function e(){this.qt=new du}return e.prototype.addToCollectionParentIndex=function(e,t){var n=this;if(!this.qt.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.qt.add(t)}));var o={collectionId:r,parent:ds(i)};return vu(e).put(o)}return Fs.resolve()},e.prototype.getCollectionParents=function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[ri(t),""],!1,!0);return vu(e).Nt(r).next((function(e){for(var r=0,i=e;r<i.length;r++){var o=i[r];if(o.collectionId!==t)break;n.push(gs(o.parent))}return n}))},e}();function vu(e){return Ws(e,As.store)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gu={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},mu=function(){function e(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yu(e,t,n){var r=e.store(ws.store),i=e.store(_s.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.$t({range:a},(function(e,t,n){return s++,n.delete()}));o.push(u.next((function(){Yr(1===s)})));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=_s.key(t,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return Fs.waitFor(o).next((function(){return c}))}function bu(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Zr();t=e.noDocument}return JSON.stringify(t).length}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mu.DEFAULT_COLLECTION_PERCENTILE=10,mu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mu.DEFAULT=new mu(41943040,mu.DEFAULT_COLLECTION_PERCENTILE,mu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mu.DISABLED=new mu(-1,0,0);var wu=function(){function e(e,t,n,r){this.userId=e,this.R=t,this.Ut=n,this.referenceDelegate=r,this.Kt={}}return e.Qt=function(t,n,r,i){return Yr(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)},e.prototype.checkEmpty=function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Tu(e).$t({index:ws.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))},e.prototype.addMutationBatch=function(e,t,n,r){var i=this,o=Su(e),a=Tu(e);return a.add({}).next((function(s){Yr("number"==typeof s);for(var u=new Js(s,t,n,r),c=function(e,t,n){var r=n.baseMutations.map((function(t){return Ya(e.Lt,t)})),i=n.mutations.map((function(t){return Ya(e.Lt,t)}));return new ws(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],h=new da((function(e,t){return ti(e.canonicalString(),t.canonicalString())})),f=0,d=r;f<d.length;f++){var p=d[f],v=_s.key(i.userId,p.key.path,s);h=h.add(p.key.path.popLast()),l.push(a.put(c)),l.push(o.put(v,_s.PLACEHOLDER))}return h.forEach((function(t){l.push(i.Ut.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Kt[s]=u.keys()})),Fs.waitFor(l).next((function(){return u}))}))},e.prototype.lookupMutationBatch=function(e,t){var n=this;return Tu(e).get(t).next((function(e){return e?(Yr(e.userId===n.userId),ou(n.R,e)):null}))},e.prototype.jt=function(e,t){var n=this;return this.Kt[t]?Fs.resolve(this.Kt[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Kt[t]=r,r}return null}))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Tu(e).$t({index:ws.userMutationsIndex,range:i},(function(e,t,i){t.userId===n.userId&&(Yr(t.batchId>=r),o=ou(n.R,t)),i.done()})).next((function(){return o}))},e.prototype.getHighestUnacknowledgedBatchId=function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Tu(e).$t({index:ws.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))},e.prototype.getAllMutationBatches=function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Tu(e).Nt(ws.userMutationsIndex,n).next((function(e){return e.map((function(e){return ou(t.R,e)}))}))},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=_s.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return Su(e).$t({range:i},(function(r,i,a){var s=r[0],u=r[1],c=r[2],l=gs(u);if(s===n.userId&&t.path.isEqual(l))return Tu(e).get(c).next((function(e){if(!e)throw Zr();Yr(e.userId===n.userId),o.push(ou(n.R,e))}));a.done()})).next((function(){return o}))},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new da(ti),i=[];return t.forEach((function(t){var o=_s.prefixForPath(n.userId,t.path),a=IDBKeyRange.lowerBound(o),s=Su(e).$t({range:a},(function(e,i,o){var a=e[0],s=e[1],u=e[2],c=gs(s);a===n.userId&&t.path.isEqual(c)?r=r.add(u):o.done()}));i.push(s)})),Fs.waitFor(i).next((function(){return n.Wt(e,r)}))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=this,r=t.path,i=r.length+1,o=_s.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new da(ti);return Su(e).$t({range:a},(function(e,t,o){var a=e[0],u=e[1],c=e[2],l=gs(u);a===n.userId&&r.isPrefixOf(l)?l.length===i&&(s=s.add(c)):o.done()})).next((function(){return n.Wt(e,s)}))},e.prototype.Wt=function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(Tu(e).get(t).next((function(e){if(null===e)throw Zr();Yr(e.userId===n.userId),r.push(ou(n.R,e))})))})),Fs.waitFor(i).next((function(){return r}))},e.prototype.removeMutationBatch=function(e,t){var n=this;return yu(e.Mt,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Gt(t.batchId)})),Fs.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))},e.prototype.Gt=function(e){delete this.Kt[e]},e.prototype.performConsistencyCheck=function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return Fs.resolve();var r=IDBKeyRange.lowerBound(_s.prefixForUser(t.userId)),i=[];return Su(e).$t({range:r},(function(e,n,r){if(e[0]===t.userId){var o=gs(e[1]);i.push(o)}else r.done()})).next((function(){Yr(0===i.length)}))}))},e.prototype.containsKey=function(e,t){return _u(e,this.userId,t)},e.prototype.zt=function(e){var t=this;return Eu(e).get(this.userId).next((function(e){return e||new bs(t.userId,-1,"")}))},e}();function _u(e,t,n){var r=_s.prefixForPath(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return Su(e).$t({range:o,Ft:!0},(function(e,n,r){var o=e[0],s=e[1];e[2],o===t&&s===i&&(a=!0),r.done()})).next((function(){return a}))}function Tu(e){return Ws(e,ws.store)}function Su(e){return Ws(e,_s.store)}function Eu(e){return Ws(e,bs.store)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Iu=function(){function e(e){this.Ht=e}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),ku=function(){function e(e,t){this.referenceDelegate=e,this.R=t}return e.prototype.allocateTargetId=function(e){var t=this;return this.Xt(e).next((function(n){var r=new Iu(n.highestTargetId);return n.highestTargetId=r.next(),t.Zt(e,n).next((function(){return n.highestTargetId}))}))},e.prototype.getLastRemoteSnapshotVersion=function(e){return this.Xt(e).next((function(e){return oi.fromTimestamp(new ii(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))},e.prototype.getHighestSequenceNumber=function(e){return this.Xt(e).next((function(e){return e.highestListenSequenceNumber}))},e.prototype.setTargetsMetadata=function(e,t,n){var r=this;return this.Xt(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Zt(e,i)}))},e.prototype.addTargetData=function(e,t){var n=this;return this.te(e,t).next((function(){return n.Xt(e).next((function(r){return r.targetCount+=1,n.ee(t,r),n.Zt(e,r)}))}))},e.prototype.updateTargetData=function(e,t){return this.te(e,t)},e.prototype.removeTargetData=function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return Cu(e).delete(t.targetId)})).next((function(){return n.Xt(e)})).next((function(t){return Yr(t.targetCount>0),t.targetCount-=1,n.Zt(e,t)}))},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return Cu(e).$t((function(a,s){var u=au(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(e,u)))})).next((function(){return Fs.waitFor(o)})).next((function(){return i}))},e.prototype.forEachTarget=function(e,t){return Cu(e).$t((function(e,n){var r=au(n);t(r)}))},e.prototype.Xt=function(e){return xu(e).get(xs.key).next((function(e){return Yr(null!==e),e}))},e.prototype.Zt=function(e,t){return xu(e).put(xs.key,t)},e.prototype.te=function(e,t){return Cu(e).put(su(this.R,t))},e.prototype.ee=function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n},e.prototype.getTargetCount=function(e){return this.Xt(e).next((function(e){return e.targetCount}))},e.prototype.getTargetData=function(e,t){var n=zi(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Cu(e).$t({range:r,index:ks.queryTargetsIndexName},(function(e,n,r){var o=au(n);Ki(t,o.target)&&(i=o,r.done())})).next((function(){return i}))},e.prototype.addMatchingKeys=function(e,t,n){var r=this,i=[],o=Au(e);return t.forEach((function(t){var a=ds(t.path);i.push(o.put(new Cs(n,a))),i.push(r.referenceDelegate.addReference(e,n,t))})),Fs.waitFor(i)},e.prototype.removeMatchingKeys=function(e,t,n){var r=this,i=Au(e);return Fs.forEach(t,(function(t){var o=ds(t.path);return Fs.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(e,n,t)])}))},e.prototype.removeMatchingKeysForTargetId=function(e,t){var n=Au(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Au(e),i=Ta();return r.$t({range:n,Ft:!0},(function(e,t,n){var r=gs(e[1]),o=new Ii(r);i=i.add(o)})).next((function(){return i}))},e.prototype.containsKey=function(e,t){var n=ds(t.path),r=IDBKeyRange.bound([n],[ri(n)],!1,!0),i=0;return Au(e).$t({index:Cs.documentTargetsIndex,Ft:!0,range:r},(function(e,t,n){var r=e[0];e[1],0!==r&&(i++,n.done())})).next((function(){return i>0}))},e.prototype.lt=function(e,t){return Cu(e).get(t).next((function(e){return e?au(e):null}))},e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cu(e){return Ws(e,ks.store)}function xu(e){return Ws(e,xs.store)}function Au(e){return Ws(e,Cs.store)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ru(e){return(0,i.mG)(this,void 0,void 0,(function(){return(0,i.Jh)(this,(function(t){if(e.code!==Vr.FAILED_PRECONDITION||e.message!==Ds)throw e;return Kr("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nu(e,t){var n=e[0],r=e[1],i=t[0],o=t[1],a=ti(n,i);return 0===a?ti(r,o):a}var Pu=function(){function e(e){this.ne=e,this.buffer=new da(Nu),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(e){var t=[e,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Nu(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),Ou=function(){function e(e,t){this.garbageCollector=e,this.asyncQueue=t,this.oe=!1,this.ce=null}return e.prototype.start=function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(e)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),e.prototype.ue=function(e){var t=this,n=this.oe?3e5:6e4;Kr("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(function(){return(0,i.mG)(t,void 0,void 0,(function(){var t;return(0,i.Jh)(this,(function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,e.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return Vs(t=n.sent())?(Kr("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t),[3,6]):[3,4];case 4:return[4,Ru(t)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(e)];case 8:return n.sent(),[2]}}))}))}))},e}(),Du=function(){function e(e,t){this.ae=e,this.params=t}return e.prototype.calculateTargetCount=function(e,t){return this.ae.he(e).next((function(e){return Math.floor(t/100*e)}))},e.prototype.nthSequenceNumber=function(e,t){var n=this;if(0===t)return Fs.resolve(Br.o);var r=new Pu(t);return this.ae.forEachTarget(e,(function(e){return r.re(e.sequenceNumber)})).next((function(){return n.ae.le(e,(function(e){return r.re(e)}))})).next((function(){return r.maxValue}))},e.prototype.removeTargets=function(e,t,n){return this.ae.removeTargets(e,t,n)},e.prototype.removeOrphanedDocuments=function(e,t){return this.ae.removeOrphanedDocuments(e,t)},e.prototype.collect=function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Kr("LruGarbageCollector","Garbage collection skipped; disabled"),Fs.resolve(gu)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Kr("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),gu):n.fe(e,t)}))},e.prototype.getCacheSize=function(e){return this.ae.getCacheSize(e)},e.prototype.fe=function(e,t){var n,r,i,o,s,u,c,l=this,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>l.params.maximumSequenceNumbersToCollect?(Kr("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+l.params.maximumSequenceNumbersToCollect+" from "+t),r=l.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),l.nthSequenceNumber(e,r)})).next((function(r){return n=r,s=Date.now(),l.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),l.removeOrphanedDocuments(e,n)})).next((function(e){return c=Date.now(),zr()<=a["in"].DEBUG&&Kr("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-h)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(u-s)+"ms\n\tRemoved "+e+" documents in "+(c-u)+"ms\nTotal Duration: "+(c-h)+"ms"),Fs.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))},e}(),Lu=function(){function e(e,t){this.db=e,this.garbageCollector=function(e,t){return new Du(e,t)}(this,t)}return e.prototype.he=function(e){var t=this.de(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))},e.prototype.de=function(e){var t=0;return this.le(e,(function(e){t++})).next((function(){return t}))},e.prototype.forEachTarget=function(e,t){return this.db.getTargetCache().forEachTarget(e,t)},e.prototype.le=function(e,t){return this.we(e,(function(e,n){return t(n)}))},e.prototype.addReference=function(e,t,n){return Mu(e,n)},e.prototype.removeReference=function(e,t,n){return Mu(e,n)},e.prototype.removeTargets=function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)},e.prototype.markPotentiallyOrphaned=function(e,t){return Mu(e,t)},e.prototype._e=function(e,t){return function(e,t){var n=!1;return Eu(e).Ot((function(r){return _u(e,r,t).next((function(e){return e&&(n=!0),Fs.resolve(!e)}))})).next((function(){return n}))}(e,t)},e.prototype.removeOrphanedDocuments=function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(e,(function(a,s){if(s<=t){var u=n._e(e,a).next((function(t){if(!t)return o++,r.getEntry(e,a).next((function(){return r.removeEntry(a),Au(e).delete([0,ds(a.path)])}))}));i.push(u)}})).next((function(){return Fs.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return o}))},e.prototype.removeTarget=function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)},e.prototype.updateLimboDocument=function(e,t){return Mu(e,t)},e.prototype.we=function(e,t){var n,r=Au(e),i=Br.o;return r.$t({index:Cs.documentTargetsIndex},(function(e,r){var o=e[0];e[1];var a=r.path,s=r.sequenceNumber;0===o?(i!==Br.o&&t(new Ii(gs(n)),i),i=s,n=a):i=Br.o})).next((function(){i!==Br.o&&t(new Ii(gs(n)),i)}))},e.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},e}();function Mu(e,t){return Au(e).put(function(e,t){return new Cs(0,ds(e.path),t)}(t,e.currentSequenceNumber))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fu=function(){function e(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}return e.prototype.get=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];if(this.equalsFn(a,e))return s}},e.prototype.has=function(e){return void 0!==this.get(e)},e.prototype.set=function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]},e.prototype.delete=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1},e.prototype.forEach=function(e){si(this.inner,(function(t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];e(a,s)}}))},e.prototype.isEmpty=function(){return ui(this.inner)},e}(),qu=function(){function e(){this.changes=new Fu((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return e.prototype.getReadTime=function(e){var t=this.changes.get(e);return t?t.readTime:oi.min()},e.prototype.addEntry=function(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})},e.prototype.removeEntry=function(e,t){void 0===t&&(t=null),this.assertNotApplied(),this.changes.set(e,{document:Vi.newInvalidDocument(e),readTime:t})},e.prototype.getEntry=function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Fs.resolve(n.document):this.getFromCache(e,t)},e.prototype.getEntries=function(e,t){return this.getAllFromCache(e,t)},e.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},e.prototype.assertNotApplied=function(){},e}(),ju=function(){function e(e,t){this.R=e,this.Ut=t}return e.prototype.addEntry=function(e,t,n){return Vu(e).put(Hu(t),n)},e.prototype.removeEntry=function(e,t){var n=Vu(e),r=Hu(t);return n.delete(r)},e.prototype.updateMetadata=function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.me(e,r)}))},e.prototype.getEntry=function(e,t){var n=this;return Vu(e).get(Hu(t)).next((function(e){return n.ye(t,e)}))},e.prototype.ge=function(e,t){var n=this;return Vu(e).get(Hu(t)).next((function(e){return{document:n.ye(t,e),size:bu(e)}}))},e.prototype.getEntries=function(e,t){var n=this,r=ga();return this.pe(e,t,(function(e,t){var i=n.ye(e,t);r=r.insert(e,i)})).next((function(){return r}))},e.prototype.Ee=function(e,t){var n=this,r=ga(),i=new la(Ii.comparator);return this.pe(e,t,(function(e,t){var o=n.ye(e,t);r=r.insert(e,o),i=i.insert(e,bu(t))})).next((function(){return{documents:r,Te:i}}))},e.prototype.pe=function(e,t,n){if(t.isEmpty())return Fs.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),o=i.getNext();return Vu(e).$t({range:r},(function(e,t,r){for(var a=Ii.fromSegments(e);o&&Ii.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,t),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()})).next((function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){var r=this,i=ga(),o=t.path.length+1,a={};if(n.isEqual(oi.min())){var s=t.path.toArray();a.range=IDBKeyRange.lowerBound(s)}else{var u=t.path.toArray(),c=tu(n);a.range=IDBKeyRange.lowerBound([u,c],!0),a.index=Es.collectionReadTimeIndex}return Vu(e).$t(a,(function(e,n,a){if(e.length===o){var s=Xs(r.R,n);t.path.isPrefixOf(s.key.path)?Eo(t,s)&&(i=i.insert(s.key,s)):a.done()}})).next((function(){return i}))},e.prototype.newChangeBuffer=function(e){return new Uu(this,!!e&&e.trackRemovals)},e.prototype.getSize=function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))},e.prototype.getMetadata=function(e){return Bu(e).get(Is.key).next((function(e){return Yr(!!e),e}))},e.prototype.me=function(e,t){return Bu(e).put(Is.key,t)},e.prototype.ye=function(e,t){if(t){var n=Xs(this.R,t);if(!n.isNoDocument()||!n.version.isEqual(oi.min()))return n}return Vi.newInvalidDocument(e)},e}(),Uu=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Ie=t,r.trackRemovals=n,r.Ae=new Fu((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),r}return(0,i.ZT)(t,e),t.prototype.applyChanges=function(e){var t=this,n=[],r=0,i=new da((function(e,t){return ti(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(o,a){var s=t.Ae.get(o);if(a.document.isValidDocument()){var u=eu(t.Ie.R,a.document,t.getReadTime(o));i=i.add(o.path.popLast());var c=bu(u);r+=c-s,n.push(t.Ie.addEntry(e,o,u))}else if(r-=s,t.trackRemovals){var l=eu(t.Ie.R,Vi.newNoDocument(o,oi.min()),t.getReadTime(o));n.push(t.Ie.addEntry(e,o,l))}else n.push(t.Ie.removeEntry(e,o))})),i.forEach((function(r){n.push(t.Ie.Ut.addToCollectionParentIndex(e,r))})),n.push(this.Ie.updateMetadata(e,r)),Fs.waitFor(n)},t.prototype.getFromCache=function(e,t){var n=this;return this.Ie.ge(e,t).next((function(e){return n.Ae.set(t,e.size),e.document}))},t.prototype.getAllFromCache=function(e,t){var n=this;return this.Ie.Ee(e,t).next((function(e){var t=e.documents;return e.Te.forEach((function(e,t){n.Ae.set(e,t)})),t}))},t}(qu);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bu(e){return Ws(e,Is.store)}function Vu(e){return Ws(e,Es.store)}function Hu(e){return e.path.toArray()}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gu=function(){function e(e){this.R=e}return e.prototype.Rt=function(e,t,n,r){var i=this;Yr(n<r&&n>=0&&r<=11);var o=new qs("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(ys.store)}(e),function(e){e.createObjectStore(bs.store,{keyPath:bs.keyPath}),e.createObjectStore(ws.store,{keyPath:ws.keyPath,autoIncrement:!0}).createIndex(ws.userMutationsIndex,ws.userMutationsKeyPath,{unique:!0}),e.createObjectStore(_s.store)}(e),zu(e),function(e){e.createObjectStore(Es.store)}(e));var a=Fs.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(Cs.store),e.deleteObjectStore(ks.store),e.deleteObjectStore(xs.store)}(e),zu(e)),a=a.next((function(){return function(e){var t=e.store(xs.store),n=new xs(0,0,oi.min().toTimestamp(),0);return t.put(xs.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(a=a.next((function(){return function(e,t){return t.store(ws.store).Nt().next((function(n){e.deleteObjectStore(ws.store),e.createObjectStore(ws.store,{keyPath:ws.keyPath,autoIncrement:!0}).createIndex(ws.userMutationsIndex,ws.userMutationsKeyPath,{unique:!0});var r=t.store(ws.store),i=n.map((function(e){return r.put(e)}));return Fs.waitFor(i)}))}(e,o)}))),a=a.next((function(){!function(e){e.createObjectStore(Rs.store,{keyPath:Rs.keyPath})}(e)}))),n<5&&r>=5&&(a=a.next((function(){return i.Re(o)}))),n<6&&r>=6&&(a=a.next((function(){return function(e){e.createObjectStore(Is.store)}(e),i.be(o)}))),n<7&&r>=7&&(a=a.next((function(){return i.ve(o)}))),n<8&&r>=8&&(a=a.next((function(){return i.Pe(e,o)}))),n<9&&r>=9&&(a=a.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(Es.store);t.createIndex(Es.readTimeIndex,Es.readTimeIndexPath,{unique:!1}),t.createIndex(Es.collectionReadTimeIndex,Es.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(a=a.next((function(){return i.Ve(o)}))),n<11&&r>=11&&(a=a.next((function(){!function(e){e.createObjectStore(Ns.store,{keyPath:Ns.keyPath})}(e),function(e){e.createObjectStore(Ps.store,{keyPath:Ps.keyPath})}(e)}))),a},e.prototype.be=function(e){var t=0;return e.store(Es.store).$t((function(e,n){t+=bu(n)})).next((function(){var n=new Is(t);return e.store(Is.store).put(Is.key,n)}))},e.prototype.Re=function(e){var t=this,n=e.store(bs.store),r=e.store(ws.store);return n.Nt().next((function(n){return Fs.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(ws.userMutationsIndex,i).next((function(r){return Fs.forEach(r,(function(r){Yr(r.userId===n.userId);var i=ou(t.R,r);return yu(e,n.userId,i).next((function(){}))}))}))}))}))},e.prototype.ve=function(e){var t=e.store(Cs.store),n=e.store(Es.store);return e.store(xs.store).get(xs.key).next((function(e){var r=[];return n.$t((function(n,i){var o=new li(n),a=function(e){return[0,ds(e)]}(o);r.push(t.get(a).next((function(n){return n?Fs.resolve():function(n){return t.put(new Cs(0,ds(n),e.highestListenSequenceNumber))}(o)})))})).next((function(){return Fs.waitFor(r)}))}))},e.prototype.Pe=function(e,t){e.createObjectStore(As.store,{keyPath:As.keyPath});var n=t.store(As.store),r=new du,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:ds(i)})}};return t.store(Es.store).$t({Ft:!0},(function(e,t){var n=new li(e);return i(n.popLast())})).next((function(){return t.store(_s.store).$t({Ft:!0},(function(e,t){e[0];var n=e[1];e[2];var r=gs(n);return i(r.popLast())}))}))},e.prototype.Ve=function(e){var t=this,n=e.store(ks.store);return n.$t((function(e,r){var i=au(r),o=su(t.R,i);return n.put(o)}))},e}();function zu(e){e.createObjectStore(Cs.store,{keyPath:Cs.keyPath}).createIndex(Cs.documentTargetsIndex,Cs.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(ks.store,{keyPath:ks.keyPath}).createIndex(ks.queryTargetsIndexName,ks.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(xs.store)}var Ku="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",$u=function(){function e(t,n,r,i,o,a,s,u,c,l){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=a,this.document=s,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(e){return Promise.resolve()},!e.yt())throw new Hr(Vr.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Lu(this,i),this.Le=n+"main",this.R=new Qs(u),this.Be=new js(this.Le,11,new Gu(this.R)),this.qe=new ku(this.referenceDelegate,this.R),this.Ut=new pu,this.Ue=function(e,t){return new ju(e,t)}(this.R,this.Ut),this.Ke=new cu,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===l&&$r("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var e=this;return this.je().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Hr(Vr.FAILED_PRECONDITION,Ku);return e.We(),e.Ge(),e.ze(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.qe.getHighestSequenceNumber(t)}))})).then((function(t){e.Ne=new Br(t,e.De)})).then((function(){e.xe=!0})).catch((function(t){return e.Be&&e.Be.close(),Promise.reject(t)}))},e.prototype.He=function(e){var t=this;return this.Me=function(n){return(0,i.mG)(t,void 0,void 0,(function(){return(0,i.Jh)(this,(function(t){return this.started?[2,e(n)]:[2]}))}))},e(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(e){var t=this;this.Be.vt((function(n){return(0,i.mG)(t,void 0,void 0,(function(){return(0,i.Jh)(this,(function(t){switch(t.label){case 0:return null===n.newVersion?[4,e()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))},e.prototype.setNetworkEnabled=function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Se.enqueueAndForget((function(){return(0,i.mG)(t,void 0,void 0,(function(){return(0,i.Jh)(this,(function(e){switch(e.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))})))},e.prototype.je=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return Ju(t).put(new Rs(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.Je(t).next((function(t){t||(e.isPrimary=!1,e.Se.enqueueRetryable((function(){return e.Me(!1)})))}))})).next((function(){return e.Ye(t)})).next((function(n){return e.isPrimary&&!n?e.Xe(t).next((function(){return!1})):!!n&&e.Ze(t).next((function(){return!0}))}))})).catch((function(t){if(Vs(t))return Kr("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Kr("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Se.enqueueRetryable((function(){return e.Me(t)})),e.isPrimary=t}))},e.prototype.Je=function(e){var t=this;return Wu(e).get(ys.key).next((function(e){return Fs.resolve(t.tn(e))}))},e.prototype.en=function(e){return Ju(e).delete(this.clientId)},e.prototype.nn=function(){return(0,i.mG)(this,void 0,void 0,(function(){var e,t,n,r,o=this;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=Ws(e,Rs.store);return t.Nt().next((function(e){var n=o.rn(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return Fs.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(e=i.sent(),this.Qe)for(t=0,n=e;t<n.length;t++)r=n[t],this.Qe.removeItem(this.on(r.clientId));i.label=2;case 2:return[2]}}))}))},e.prototype.ze=function(){var e=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.je().then((function(){return e.nn()})).then((function(){return e.ze()}))}))},e.prototype.tn=function(e){return!!e&&e.ownerId===this.clientId},e.prototype.Ye=function(e){var t=this;return this.Ce?Fs.resolve(!0):Wu(e).get(ys.key).next((function(n){if(null!==n&&t.sn(n.leaseTimestampMs,5e3)&&!t.cn(n.ownerId)){if(t.tn(n)&&t.networkEnabled)return!0;if(!t.tn(n)){if(!n.allowTabSynchronization)throw new Hr(Vr.FAILED_PRECONDITION,Ku);return!1}}return!(!t.networkEnabled||!t.inForeground)||Ju(e).Nt().next((function(e){return void 0===t.rn(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Kr("IndexedDbPersistence","Client "+(e?"is":"is not")+" eligible for a primary lease."),e}))},e.prototype.shutdown=function(){return(0,i.mG)(this,void 0,void 0,(function(){var e=this;return(0,i.Jh)(this,(function(t){switch(t.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[ys.store,Rs.store],(function(t){var n=new $s(t,Br.o);return e.Xe(n).next((function(){return e.en(n)}))}))];case 1:return t.sent(),this.Be.close(),this.ln(),[2]}}))}))},e.prototype.rn=function(e,t){var n=this;return e.filter((function(e){return n.sn(e.updateTimeMs,t)&&!n.cn(e.clientId)}))},e.prototype.fn=function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return Ju(t).Nt().next((function(t){return e.rn(t,18e5).map((function(e){return e.clientId}))}))}))},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(e){return wu.Qt(e,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(e,t,n){var r=this;Kr("IndexedDbPersistence","Starting transaction:",e);var i,o="readonly"===t?"readonly":"readwrite";return this.Be.runTransaction(e,o,Os,(function(o){return i=new $s(o,r.Ne?r.Ne.next():Br.o),"readwrite-primary"===t?r.Je(i).next((function(e){return!!e||r.Ye(i)})).next((function(t){if(!t)throw $r("Failed to obtain primary lease for action '"+e+"'."),r.isPrimary=!1,r.Se.enqueueRetryable((function(){return r.Me(!1)})),new Hr(Vr.FAILED_PRECONDITION,Ds);return n(i)})).next((function(e){return r.Ze(i).next((function(){return e}))})):r.dn(i).next((function(){return n(i)}))})).then((function(e){return i.raiseOnCommittedEvent(),e}))},e.prototype.dn=function(e){var t=this;return Wu(e).get(ys.key).next((function(e){if(null!==e&&t.sn(e.leaseTimestampMs,5e3)&&!t.cn(e.ownerId)&&!t.tn(e)&&!(t.Ce||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Hr(Vr.FAILED_PRECONDITION,Ku)}))},e.prototype.Ze=function(e){var t=new ys(this.clientId,this.allowTabSynchronization,Date.now());return Wu(e).put(ys.key,t)},e.yt=function(){return js.yt()},e.prototype.Xe=function(e){var t=this,n=Wu(e);return n.get(ys.key).next((function(e){return t.tn(e)?(Kr("IndexedDbPersistence","Releasing primary lease."),n.delete(ys.key)):Fs.resolve()}))},e.prototype.sn=function(e,t){var n=Date.now();return!(e<n-t||e>n&&($r("Detected an update time that is in the future: "+e+" > "+n),1))},e.prototype.We=function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Fe=function(){e.Se.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.je()}))},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground="visible"===this.document.visibilityState)},e.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},e.prototype.Ge=function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ke=function(){t.un(),(0,o.G6)()&&navigator.appVersion.match("Version/14")&&t.Se.enterRestrictedMode(!0),t.Se.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ke))},e.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},e.prototype.cn=function(e){var t;try{var n=null!==(null===(t=this.Qe)||void 0===t?void 0:t.getItem(this.on(e)));return Kr("IndexedDbPersistence","Client '"+e+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(e){return $r("IndexedDbPersistence","Failed to get zombied client id.",e),!1}},e.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(e){$r("Failed to set zombie client id.",e)}},e.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(e){}},e.prototype.on=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},e}();function Wu(e){return Ws(e,ys.store)}function Ju(e){return Ws(e,Rs.store)}function Zu(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}var Yu=function(e,t){this.progress=e,this.wn=t},Qu=function(){function e(e,t,n){this.Ue=e,this._n=t,this.Ut=n}return e.prototype.mn=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.yn(e,t,r)}))},e.prototype.yn=function(e,t,n){return this.Ue.getEntry(e,t).next((function(e){for(var t=0,r=n;t<r.length;t++)r[t].applyToLocalView(e);return e}))},e.prototype.gn=function(e,t){e.forEach((function(e,n){for(var r=0,i=t;r<i.length;r++)i[r].applyToLocalView(n)}))},e.prototype.pn=function(e,t){var n=this;return this.Ue.getEntries(e,t).next((function(t){return n.En(e,t).next((function(){return t}))}))},e.prototype.En=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.gn(t,e)}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){return function(e){return Ii.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Tn(e,t.path):mo(t)?this.In(e,t,n):this.An(e,t,n)},e.prototype.Tn=function(e,t){return this.mn(e,new Ii(t)).next((function(e){var t=ya();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))},e.prototype.In=function(e,t,n){var r=this,i=t.collectionGroup,o=ya();return this.Ut.getCollectionParents(e,i).next((function(a){return Fs.forEach(a,(function(a){var s=function(e,t){return new co(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return r.An(e,s,n).next((function(e){e.forEach((function(e,t){o=o.insert(e,t)}))}))})).next((function(){return o}))}))},e.prototype.An=function(e,t,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(e,t,n).next((function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(e,t)})).next((function(t){return i=t,o.Rn(e,i,r).next((function(e){r=e;for(var t=0,n=i;t<n.length;t++)for(var o=n[t],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,l=r.get(c);null==l&&(l=Vi.newInvalidDocument(c),r=r.insert(c,l)),Wo(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}}))})).next((function(){return r.forEach((function(e,n){Eo(t,n)||(r=r.remove(e))})),r}))},e.prototype.Rn=function(e,t,n){for(var r=Ta(),i=0,o=t;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof Xo&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(e,r).next((function(e){return e.forEach((function(e,t){t.isFoundDocument()&&(c=c.insert(e,t))})),c}))},e}(),Xu=function(){function e(e,t,n,r){this.targetId=e,this.fromCache=t,this.bn=n,this.vn=r}return e.Pn=function(t,n){for(var r=Ta(),i=Ta(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}}return new e(t,n.fromCache,r,i)},e}(),ec=function(){function e(){}return e.prototype.Vn=function(e){this.Sn=e},e.prototype.getDocumentsMatchingQuery=function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(oi.min())?this.Dn(e,t):this.Sn.pn(e,r).next((function(o){var s=i.Cn(t,o);return(fo(t)||po(t))&&i.Nn(t.limitType,s,r,n)?i.Dn(e,t):(zr()<=a["in"].DEBUG&&Kr("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),So(t)),i.Sn.getDocumentsMatchingQuery(e,t,n).next((function(e){return s.forEach((function(t){e=e.insert(t.key,t)})),e})))}))},e.prototype.Cn=function(e,t){var n=new da(Io(e));return t.forEach((function(t,r){Eo(e,r)&&(n=n.add(r))})),n},e.prototype.Nn=function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},e.prototype.Dn=function(e,t){return zr()<=a["in"].DEBUG&&Kr("QueryEngine","Using full collection scan to execute query:",So(t)),this.Sn.getDocumentsMatchingQuery(e,t,oi.min())},e}(),tc=function(){function e(e,t,n,r){this.persistence=e,this.xn=t,this.R=r,this.kn=new la(ti),this.Fn=new Fu((function(e){return zi(e)}),Ki),this.$n=oi.min(),this._n=e.getMutationQueue(n),this.On=e.getRemoteDocumentCache(),this.qe=e.getTargetCache(),this.Mn=new Qu(this.On,this._n,this.persistence.getIndexManager()),this.Ke=e.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.kn)}))},e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nc(e,t,n,r){return new tc(e,t,n,r)}function rc(e,t){return(0,i.mG)(this,void 0,void 0,(function(){var n,r,o,a;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:return n=Qr(e),r=n._n,o=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",(function(e){var i;return n._n.getAllMutationBatches(e).next((function(a){return i=a,r=n.persistence.getMutationQueue(t),o=new Qu(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(e)})).next((function(t){for(var n=[],r=[],a=Ta(),s=0,u=i;s<u.length;s++){var c=u[s];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++){var f=h[l];a=a.add(f.key)}}for(var d=0,p=t;d<p.length;d++){var v=p[d];r.push(v.batchId);for(var g=0,m=v.mutations;g<m.length;g++){var y=m[g];a=a.add(y.key)}}return o.pn(e,a).next((function(e){return{Ln:e,removedBatchIds:n,addedBatchIds:r}}))}))}))];case 1:return a=i.sent(),[2,(n._n=r,n.Mn=o,n.xn.Vn(n.Mn),a)]}}))}))}function ic(e,t){var n=Qr(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.On.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,o=i.keys(),a=Fs.resolve();return o.forEach((function(e){a=a.next((function(){return r.getEntry(t,e)})).next((function(t){var o=n.docVersions.get(e);Yr(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))}))})),a.next((function(){return e._n.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n._n.performConsistencyCheck(e)})).next((function(){return n.Mn.pn(e,r)}))}))}function oc(e){var t=Qr(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.qe.getLastRemoteSnapshotVersion(e)}))}function ac(e,t){var n=Qr(e),r=t.snapshotVersion,i=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var o=n.On.newChangeBuffer({trackRemovals:!0});i=n.kn;var a=[];t.targetChanges.forEach((function(t,o){var s=i.get(o);if(s){a.push(n.qe.removeMatchingKeys(e,t.removedDocuments,o).next((function(){return n.qe.addMatchingKeys(e,t.addedDocuments,o)})));var u=t.resumeToken;if(u.approximateByteSize()>0){var c=s.withResumeToken(u,r).withSequenceNumber(e.currentSequenceNumber);i=i.insert(o,c),function(e,t,n){return Yr(t.resumeToken.approximateByteSize()>0),0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(s,c,t)&&a.push(n.qe.updateTargetData(e,c))}}}));var s=ga();if(t.documentUpdates.forEach((function(r,i){t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(sc(e,o,t.documentUpdates,r,void 0).next((function(e){s=e}))),!r.isEqual(oi.min())){var u=n.qe.getLastRemoteSnapshotVersion(e).next((function(t){return n.qe.setTargetsMetadata(e,e.currentSequenceNumber,r)}));a.push(u)}return Fs.waitFor(a).next((function(){return o.apply(e)})).next((function(){return n.Mn.En(e,s)})).next((function(){return s}))})).then((function(e){return n.kn=i,e}))}function sc(e,t,n,r,i){var o=Ta();return n.forEach((function(e){return o=o.add(e)})),t.getEntries(e,o).next((function(e){var o=ga();return n.forEach((function(n,a){var s=e.get(n),u=(null==i?void 0:i.get(n))||r;a.isNoDocument()&&a.version.isEqual(oi.min())?(t.removeEntry(n,u),o=o.insert(n,a)):!s.isValidDocument()||a.version.compareTo(s.version)>0||0===a.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(a,u),o=o.insert(n,a)):Kr("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)})),o}))}function uc(e,t){var n=Qr(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n._n.getNextMutationBatchAfterBatchId(e,t)}))}function cc(e,t){var n=Qr(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.qe.getTargetData(e,t).next((function(i){return i?(r=i,Fs.resolve(r)):n.qe.allocateTargetId(e).next((function(i){return r=new Ys(t,i,0,e.currentSequenceNumber),n.qe.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.kn.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.kn=n.kn.insert(e.targetId,e),n.Fn.set(t,e.targetId)),e}))}function lc(e,t,n){return(0,i.mG)(this,void 0,void 0,(function(){var r,o,a,s;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:r=Qr(e),o=r.kn.get(t),a=n?"readwrite":"readwrite-primary",i.label=1;case 1:return i.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",a,(function(e){return r.persistence.referenceDelegate.removeTarget(e,o)}))];case 2:i.sent(),i.label=3;case 3:return[3,5];case 4:if(!Vs(s=i.sent()))throw s;return Kr("LocalStore","Failed to update sequence numbers for target "+t+": "+s),[3,5];case 5:return r.kn=r.kn.remove(t),r.Fn.delete(o.target),[2]}}))}))}function hc(e,t,n){var r=Qr(e),i=oi.min(),o=Ta();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Qr(e),i=r.Fn.get(n);return void 0!==i?Fs.resolve(r.kn.get(i)):r.qe.getTargetData(t,n)}(r,e,bo(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(e,t.targetId).next((function(e){o=e}))})).next((function(){return r.xn.getDocumentsMatchingQuery(e,t,n?i:oi.min(),n?o:Ta())})).next((function(e){return{documents:e,Bn:o}}))}))}function fc(e,t){var n=Qr(e),r=Qr(n.qe),i=n.kn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.lt(e,t).next((function(e){return e?e.target:null}))}))}function dc(e){var t=Qr(e);return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return function(e,t,n){var r=Qr(e),i=ga(),o=tu(n),a=Vu(t),s=IDBKeyRange.lowerBound(o,!0);return a.$t({index:Es.readTimeIndex,range:s},(function(e,t){var n=Xs(r.R,t);i=i.insert(n.key,n),o=t.readTime})).next((function(){return{wn:i,readTime:nu(o)}}))}(t.On,e,t.$n)})).then((function(e){var n=e.wn,r=e.readTime;return t.$n=r,n}))}function pc(e){return(0,i.mG)(this,void 0,void 0,(function(){var t;return(0,i.Jh)(this,(function(n){return[2,(t=Qr(e)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return function(e){var t=Vu(e),n=oi.min();return t.$t({index:Es.readTimeIndex,reverse:!0},(function(e,t,r){t.readTime&&(n=nu(t.readTime)),r.done()})).next((function(){return n}))}(e)})).then((function(e){t.$n=e}))]}))}))}function vc(e,t,n,r){return(0,i.mG)(this,void 0,void 0,(function(){var o,a,s,u,c,l,h,f,d,p;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:for(o=Qr(e),a=Ta(),s=ga(),u=wa(),c=0,l=n;c<l.length;c++)h=l[c],f=t.qn(h.metadata.name),h.document&&(a=a.add(f)),s=s.insert(f,t.Un(h)),u=u.insert(f,t.Kn(h.metadata.readTime));return d=o.On.newChangeBuffer({trackRemovals:!0}),[4,cc(o,function(e){return bo(ho(li.fromString("__bundle__/docs/"+e)))}(r))];case 1:return p=i.sent(),[2,o.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return sc(e,d,s,oi.min(),u).next((function(t){return d.apply(e),t})).next((function(t){return o.qe.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return o.qe.addMatchingKeys(e,a,p.targetId)})).next((function(){return o.Mn.En(e,t)})).next((function(){return t}))}))}))]}}))}))}function gc(e,t,n){return void 0===n&&(n=Ta()),(0,i.mG)(this,void 0,void 0,(function(){var r,o;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:return[4,cc(e,bo(uu(t.bundledQuery)))];case 1:return r=i.sent(),[2,(o=Qr(e)).persistence.runTransaction("Save named query","readwrite",(function(e){var i=Ua(t.readTime);if(r.snapshotVersion.compareTo(i)>=0)return o.Ke.saveNamedQuery(e,t);var a=r.withResumeToken(pi.EMPTY_BYTE_STRING,i);return o.kn=o.kn.insert(a.targetId,a),o.qe.updateTargetData(e,a).next((function(){return o.qe.removeMatchingKeysForTargetId(e,r.targetId)})).next((function(){return o.qe.addMatchingKeys(e,n,r.targetId)})).next((function(){return o.Ke.saveNamedQuery(e,t)}))}))]}}))}))
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}var mc=function(){function e(e){this.R=e,this.Qn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(e,t){return Fs.resolve(this.Qn.get(t))},e.prototype.saveBundleMetadata=function(e,t){var n;return this.Qn.set(t.id,{id:(n=t).id,version:n.version,createTime:Ua(n.createTime)}),Fs.resolve()},e.prototype.getNamedQuery=function(e,t){return Fs.resolve(this.jn.get(t))},e.prototype.saveNamedQuery=function(e,t){return this.jn.set(t.name,function(e){return{name:e.name,query:uu(e.bundledQuery),readTime:Ua(e.readTime)}}(t)),Fs.resolve()},e}(),yc=function(){function e(){this.Wn=new da(bc.Gn),this.zn=new da(bc.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(e,t){var n=new bc(e,t);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},e.prototype.Jn=function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))},e.prototype.removeReference=function(e,t){this.Yn(new bc(e,t))},e.prototype.Xn=function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))},e.prototype.Zn=function(e){var t=this,n=new Ii(new li([])),r=new bc(n,e),i=new bc(n,e+1),o=[];return this.zn.forEachInRange([r,i],(function(e){t.Yn(e),o.push(e.key)})),o},e.prototype.ts=function(){var e=this;this.Wn.forEach((function(t){return e.Yn(t)}))},e.prototype.Yn=function(e){this.Wn=this.Wn.delete(e),this.zn=this.zn.delete(e)},e.prototype.es=function(e){var t=new Ii(new li([])),n=new bc(t,e),r=new bc(t,e+1),i=Ta();return this.zn.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i},e.prototype.containsKey=function(e){var t=new bc(e,0),n=this.Wn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)},e}(),bc=function(){function e(e,t){this.key=e,this.ns=t}return e.Gn=function(e,t){return Ii.comparator(e.key,t.key)||ti(e.ns,t.ns)},e.Hn=function(e,t){return ti(e.ns,t.ns)||Ii.comparator(e.key,t.key)},e}(),wc=function(){function e(e,t){this.Ut=e,this.referenceDelegate=t,this._n=[],this.ss=1,this.rs=new da(bc.Gn)}return e.prototype.checkEmpty=function(e){return Fs.resolve(0===this._n.length)},e.prototype.addMutationBatch=function(e,t,n,r){var i=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var o=new Js(i,t,n,r);this._n.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.rs=this.rs.add(new bc(u.key,i)),this.Ut.addToCollectionParentIndex(e,u.key.path.popLast())}return Fs.resolve(o)},e.prototype.lookupMutationBatch=function(e,t){return Fs.resolve(this.os(t))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=t+1,r=this.cs(n),i=r<0?0:r;return Fs.resolve(this._n.length>i?this._n[i]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return Fs.resolve(0===this._n.length?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(e){return Fs.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=new bc(t,0),i=new bc(t,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],(function(e){var t=n.os(e.ns);o.push(t)})),Fs.resolve(o)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new da(ti);return t.forEach((function(e){var t=new bc(e,0),i=new bc(e,Number.POSITIVE_INFINITY);n.rs.forEachInRange([t,i],(function(e){r=r.add(e.ns)}))})),Fs.resolve(this.us(r))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=t.path,r=n.length+1,i=n;Ii.isDocumentKey(i)||(i=i.child(""));var o=new bc(new Ii(i),0),a=new da(ti);return this.rs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.ns)),!0)}),o),Fs.resolve(this.us(a))},e.prototype.us=function(e){var t=this,n=[];return e.forEach((function(e){var r=t.os(e);null!==r&&n.push(r)})),n},e.prototype.removeMutationBatch=function(e,t){var n=this;Yr(0===this.hs(t.batchId,"removed")),this._n.shift();var r=this.rs;return Fs.forEach(t.mutations,(function(i){var o=new bc(i.key,t.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.rs=r}))},e.prototype.Gt=function(e){},e.prototype.containsKey=function(e,t){var n=new bc(t,0),r=this.rs.firstAfterOrEqual(n);return Fs.resolve(t.isEqual(r&&r.key))},e.prototype.performConsistencyCheck=function(e){return this._n.length,Fs.resolve()},e.prototype.hs=function(e,t){return this.cs(e)},e.prototype.cs=function(e){return 0===this._n.length?0:e-this._n[0].batchId},e.prototype.os=function(e){var t=this.cs(e);return t<0||t>=this._n.length?null:this._n[t]},e}(),_c=function(){function e(e,t){this.Ut=e,this.ls=t,this.docs=new la(Ii.comparator),this.size=0}return e.prototype.addEntry=function(e,t,n){var r=t.key,i=this.docs.get(r),o=i?i.size:0,a=this.ls(t);return this.docs=this.docs.insert(r,{document:t.clone(),size:a,readTime:n}),this.size+=a-o,this.Ut.addToCollectionParentIndex(e,r.path.popLast())},e.prototype.removeEntry=function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)},e.prototype.getEntry=function(e,t){var n=this.docs.get(t);return Fs.resolve(n?n.document.clone():Vi.newInvalidDocument(t))},e.prototype.getEntries=function(e,t){var n=this,r=ga();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.clone():Vi.newInvalidDocument(e))})),Fs.resolve(r)},e.prototype.getDocumentsMatchingQuery=function(e,t,n){for(var r=ga(),i=new Ii(t.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var a=o.getNext(),s=a.key,u=a.value,c=u.document,l=u.readTime;if(!t.path.isPrefixOf(s.path))break;l.compareTo(n)<=0||Eo(t,c)&&(r=r.insert(c.key,c.clone()))}return Fs.resolve(r)},e.prototype.fs=function(e,t){return Fs.forEach(this.docs,(function(e){return t(e)}))},e.prototype.newChangeBuffer=function(e){return new Tc(this)},e.prototype.getSize=function(e){return Fs.resolve(this.size)},e}(),Tc=function(e){function t(t){var n=this;return(n=e.call(this)||this).Ie=t,n}return(0,i.ZT)(t,e),t.prototype.applyChanges=function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(t.Ie.addEntry(e,i.document,t.getReadTime(r))):t.Ie.removeEntry(r)})),Fs.waitFor(n)},t.prototype.getFromCache=function(e,t){return this.Ie.getEntry(e,t)},t.prototype.getAllFromCache=function(e,t){return this.Ie.getEntries(e,t)},t}(qu),Sc=function(){function e(e){this.persistence=e,this.ds=new Fu((function(e){return zi(e)}),Ki),this.lastRemoteSnapshotVersion=oi.min(),this.highestTargetId=0,this.ws=0,this._s=new yc,this.targetCount=0,this.ys=Iu.Jt()}return e.prototype.forEachTarget=function(e,t){return this.ds.forEach((function(e,n){return t(n)})),Fs.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(e){return Fs.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(e){return Fs.resolve(this.ws)},e.prototype.allocateTargetId=function(e){return this.highestTargetId=this.ys.next(),Fs.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.ws&&(this.ws=t),Fs.resolve()},e.prototype.te=function(e){this.ds.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.ys=new Iu(t),this.highestTargetId=t),e.sequenceNumber>this.ws&&(this.ws=e.sequenceNumber)},e.prototype.addTargetData=function(e,t){return this.te(t),this.targetCount+=1,Fs.resolve()},e.prototype.updateTargetData=function(e,t){return this.te(t),Fs.resolve()},e.prototype.removeTargetData=function(e,t){return this.ds.delete(t.target),this._s.Zn(t.targetId),this.targetCount-=1,Fs.resolve()},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return this.ds.forEach((function(a,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.ds.delete(a),o.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),Fs.waitFor(o).next((function(){return i}))},e.prototype.getTargetCount=function(e){return Fs.resolve(this.targetCount)},e.prototype.getTargetData=function(e,t){var n=this.ds.get(t)||null;return Fs.resolve(n)},e.prototype.addMatchingKeys=function(e,t,n){return this._s.Jn(t,n),Fs.resolve()},e.prototype.removeMatchingKeys=function(e,t,n){this._s.Xn(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Fs.waitFor(i)},e.prototype.removeMatchingKeysForTargetId=function(e,t){return this._s.Zn(t),Fs.resolve()},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=this._s.es(t);return Fs.resolve(n)},e.prototype.containsKey=function(e,t){return Fs.resolve(this._s.containsKey(t))},e}(),Ec=function(){function e(e,t){var n=this;this.gs={},this.Ne=new Br(0),this.xe=!1,this.xe=!0,this.referenceDelegate=e(this),this.qe=new Sc(this),this.Ut=new fu,this.Ue=function(e,t){return new _c(e,(function(e){return n.referenceDelegate.ps(e)}))}(this.Ut),this.R=new Qs(t),this.Ke=new mc(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(e){var t=this.gs[e.toKey()];return t||(t=new wc(this.Ut,this.referenceDelegate),this.gs[e.toKey()]=t),t},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(e,t,n){var r=this;Kr("MemoryPersistence","Starting transaction:",e);var i=new Ic(this.Ne.next());return this.referenceDelegate.Es(),n(i).next((function(e){return r.referenceDelegate.Ts(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))},e.prototype.Is=function(e,t){return Fs.or(Object.values(this.gs).map((function(n){return function(){return n.containsKey(e,t)}})))},e}(),Ic=function(e){function t(t){var n=this;return(n=e.call(this)||this).currentSequenceNumber=t,n}return(0,i.ZT)(t,e),t}(Ls),kc=function(){function e(e){this.persistence=e,this.As=new yc,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Zr()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(e,t,n){return this.As.addReference(n,t),this.vs.delete(n.toString()),Fs.resolve()},e.prototype.removeReference=function(e,t,n){return this.As.removeReference(n,t),this.vs.add(n.toString()),Fs.resolve()},e.prototype.markPotentiallyOrphaned=function(e,t){return this.vs.add(t.toString()),Fs.resolve()},e.prototype.removeTarget=function(e,t){var n=this;this.As.Zn(t.targetId).forEach((function(e){return n.vs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.vs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Fs.forEach(this.vs,(function(r){var i=Ii.fromPath(r);return t.Ps(e,i).next((function(e){e||n.removeEntry(i)}))})).next((function(){return t.Rs=null,n.apply(e)}))},e.prototype.updateLimboDocument=function(e,t){var n=this;return this.Ps(e,t).next((function(e){e?n.vs.delete(t.toString()):n.vs.add(t.toString())}))},e.prototype.ps=function(e){return 0},e.prototype.Ps=function(e,t){var n=this;return Fs.or([function(){return Fs.resolve(n.As.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Is(e,t)}])},e}(),Cc=function(){function e(e){this.uid=e}return e.prototype.isAuthenticated=function(){return null!=this.uid},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(e){return e.uid===this.uid},e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xc(e,t){return"firestore_clients_"+e+"_"+t}function Ac(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(r+="_"+t.uid),r}function Rc(e,t){return"firestore_targets_"+e+"_"+t}Cc.UNAUTHENTICATED=new Cc(null),Cc.GOOGLE_CREDENTIALS=new Cc("google-credentials-uid"),Cc.FIRST_PARTY=new Cc("first-party-uid"),Cc.MOCK_USER=new Cc("mock-user");var Nc=function(){function e(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}return e.Vs=function(t,n,r){var i,o=JSON.parse(r),a="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return a&&o.error&&(a="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new Hr(o.error.code,o.error.message)),a?new e(t,n,o.state,i):($r("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),Pc=function(){function e(e,t,n){this.targetId=e,this.state=t,this.error=n}return e.Vs=function(t,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Hr(i.error.code,i.error.message)),o?new e(t,i.state,r):($r("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),Oc=function(){function e(e,t){this.clientId=e,this.activeTargetIds=t}return e.Vs=function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Ea(),a=0;i&&a<r.activeTargetIds.length;++a)i=Ei(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new e(t,o):($r("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),Dc=function(){function e(e,t){this.clientId=e,this.onlineState=t}return e.Vs=function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):($r("SharedClientState","Failed to parse online state: "+t),null)},e}(),Lc=function(){function e(){this.activeTargetIds=Ea()}return e.prototype.Ds=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},e.prototype.Cs=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},e.prototype.Ss=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},e}(),Mc=function(){function e(e,t,n,r,i){this.window=e,this.Se=t,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new la(ti),this.started=!1,this.$s=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Os=xc(this.persistenceKey,this.Ns),this.Ms=function(e){return"firestore_sequence_number_"+e}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new Lc),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(e){return"firestore_online_state_"+e}(this.persistenceKey),this.Ks=function(e){return"firestore_bundle_loaded_"+e}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(e){return!(!e||!e.localStorage)},e.prototype.start=function(){return(0,i.mG)(this,void 0,void 0,(function(){var e,t,n,r,o,a,s,u,c,l,h,f=this;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:return[4,this.syncEngine.fn()];case 1:for(e=i.sent(),t=0,n=e;t<n.length;t++)(r=n[t])!==this.Ns&&(o=this.getItem(xc(this.persistenceKey,r)))&&(a=Oc.Vs(r,o))&&(this.Fs=this.Fs.insert(a.clientId,a));for(this.Qs(),(s=this.storage.getItem(this.Us))&&(u=this.js(s))&&this.Ws(u),c=0,l=this.$s;c<l.length;c++)h=l[c],this.ks(h);return this.$s=[],this.window.addEventListener("pagehide",(function(){return f.shutdown()})),this.started=!0,[2]}}))}))},e.prototype.writeSequenceNumber=function(e){this.setItem(this.Ms,JSON.stringify(e))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},e.prototype.isActiveQueryTarget=function(e){var t=!1;return this.Fs.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t},e.prototype.addPendingMutation=function(e){this.zs(e,"pending")},e.prototype.updateMutationState=function(e,t,n){this.zs(e,t,n),this.Hs(e)},e.prototype.addLocalQueryTarget=function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(Rc(this.persistenceKey,e));if(n){var r=Pc.Vs(e,n);r&&(t=r.state)}}return this.Js.Ds(e),this.Qs(),t},e.prototype.removeLocalQueryTarget=function(e){this.Js.Cs(e),this.Qs()},e.prototype.isLocalQueryTarget=function(e){return this.Js.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){this.removeItem(Rc(this.persistenceKey,e))},e.prototype.updateQueryState=function(e,t,n){this.Ys(e,t,n)},e.prototype.handleUserChange=function(e,t,n){var r=this;t.forEach((function(e){r.Hs(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))},e.prototype.setOnlineState=function(e){this.Xs(e)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},e.prototype.getItem=function(e){var t=this.storage.getItem(e);return Kr("SharedClientState","READ",e,t),t},e.prototype.setItem=function(e,t){Kr("SharedClientState","SET",e,t),this.storage.setItem(e,t)},e.prototype.removeItem=function(e){Kr("SharedClientState","REMOVE",e),this.storage.removeItem(e)},e.prototype.ks=function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Kr("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Os)return void $r("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable((function(){return(0,i.mG)(t,void 0,void 0,(function(){var e,t,r,o,a,s;return(0,i.Jh)(this,(function(i){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return e=this.ti(n.key),[2,this.ei(e,null)];if(t=this.ni(n.key,n.newValue))return[2,this.ei(t.clientId,t)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(o=this.ri(n.key,n.newValue)))return[2,this.oi(o)]}else if(n.key===this.Us){if(null!==n.newValue&&(a=this.js(n.newValue)))return[2,this.Ws(a)]}else if(n.key===this.Ms)(s=function(e){var t=Br.o;if(null!=e)try{var n=JSON.parse(e);Yr("number"==typeof n),t=n}catch(e){$r("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue))!==Br.o&&this.sequenceNumberHandler(s);else if(n.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]}))}))}))}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},e.prototype.zs=function(e,t,n){var r=new Nc(this.currentUser,e,t,n),i=Ac(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Ss())},e.prototype.Hs=function(e){var t=Ac(this.persistenceKey,this.currentUser,e);this.removeItem(t)},e.prototype.Xs=function(e){var t={clientId:this.Ns,onlineState:e};this.storage.setItem(this.Us,JSON.stringify(t))},e.prototype.Ys=function(e,t,n){var r=Rc(this.persistenceKey,e),i=new Pc(e,t,n);this.setItem(r,i.Ss())},e.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},e.prototype.ti=function(e){var t=this.Ls.exec(e);return t?t[1]:null},e.prototype.ni=function(e,t){var n=this.ti(e);return Oc.Vs(n,t)},e.prototype.si=function(e,t){var n=this.Bs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Nc.Vs(new Cc(i),r,t)},e.prototype.ri=function(e,t){var n=this.qs.exec(e),r=Number(n[1]);return Pc.Vs(r,t)},e.prototype.js=function(e){return Dc.Vs(e)},e.prototype.ii=function(e){return(0,i.mG)(this,void 0,void 0,(function(){return(0,i.Jh)(this,(function(t){return e.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(e.batchId,e.state,e.error)]:(Kr("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])}))}))},e.prototype.oi=function(e){return this.syncEngine.ai(e.targetId,e.state,e.error)},e.prototype.ei=function(e,t){var n=this,r=t?this.Fs.insert(e,t):this.Fs.remove(e),i=this.Gs(this.Fs),o=this.Gs(r),a=[],s=[];return o.forEach((function(e){i.has(e)||a.push(e)})),i.forEach((function(e){o.has(e)||s.push(e)})),this.syncEngine.hi(a,s).then((function(){n.Fs=r}))},e.prototype.Ws=function(e){this.Fs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)},e.prototype.Gs=function(e){var t=Ea();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t},e}(),Fc=function(){function e(){this.li=new Lc,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(e){},e.prototype.updateMutationState=function(e,t,n){},e.prototype.addLocalQueryTarget=function(e){return this.li.Ds(e),this.fi[e]||"not-current"},e.prototype.updateQueryState=function(e,t,n){this.fi[e]=t},e.prototype.removeLocalQueryTarget=function(e){this.li.Cs(e)},e.prototype.isLocalQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){delete this.fi[e]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.start=function(){return this.li=new Lc,Promise.resolve()},e.prototype.handleUserChange=function(e,t,n){},e.prototype.setOnlineState=function(e){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(e){},e.prototype.notifyBundleLoaded=function(){},e}(),qc=function(){function e(){}return e.prototype.di=function(e){},e.prototype.shutdown=function(){},e}(),jc=function(){function e(){var e=this;this.wi=function(){return e._i()},this.mi=function(){return e.yi()},this.gi=[],this.pi()}return e.prototype.di=function(e){this.gi.push(e)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){Kr("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(0)},e.prototype.yi=function(){Kr("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(1)},e.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},e}(),Uc={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Bc=function(){function e(e){this.Ei=e.Ei,this.Ti=e.Ti}return e.prototype.Ii=function(e){this.Ai=e},e.prototype.Ri=function(e){this.bi=e},e.prototype.onMessage=function(e){this.vi=e},e.prototype.close=function(){this.Ti()},e.prototype.send=function(e){this.Ei(e)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(e){this.bi(e)},e.prototype.Si=function(e){this.vi(e)},e}(),Vc=function(e){function t(t){var n=this;return(n=e.call(this,t)||this).forceLongPolling=t.forceLongPolling,n.autoDetectLongPolling=t.autoDetectLongPolling,n.useFetchStreams=t.useFetchStreams,n}return(0,i.ZT)(t,e),t.prototype.Fi=function(e,t,n,r){return new Promise((function(i,o){var a=new Ur;a.listenOnce(Lr.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case Dr.NO_ERROR:var t=a.getResponseJson();Kr("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Dr.TIMEOUT:Kr("Connection",'RPC "'+e+'" timed out'),o(new Hr(Vr.DEADLINE_EXCEEDED,"Request time out"));break;case Dr.HTTP_ERROR:var n=a.getStatus();if(Kr("Connection",'RPC "'+e+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var s=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Vr).indexOf(t)>=0?t:Vr.UNKNOWN}(r.status);o(new Hr(s,r.message))}else o(new Hr(Vr.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new Hr(Vr.UNAVAILABLE,"Connection failed."));break;default:Zr()}}finally{Kr("Connection",'RPC "'+e+'" completed.')}}));var s=JSON.stringify(r);a.send(t,"POST",s,n,15)}))},t.prototype.Oi=function(e,t){var n=[this.Di,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=Pr(),i=Or(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new qr({})),this.ki(a.initMessageHeaders,t),(0,o.uI)()||(0,o.b$)()||(0,o.d)()||(0,o.w1)()||(0,o.Mn)()||(0,o.ru)()||(a.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");Kr("Connection","Creating WebChannel: "+s,a);var u=r.createWebChannel(s,a),c=!1,l=!1,h=new Bc({Ei:function(e){l?Kr("Connection","Not sending because WebChannel is closed:",e):(c||(Kr("Connection","Opening WebChannel transport."),u.open(),c=!0),Kr("Connection","WebChannel sending:",e),u.send(e))},Ti:function(){return u.close()}}),f=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return f(u,jr.EventType.OPEN,(function(){l||Kr("Connection","WebChannel transport opened.")})),f(u,jr.EventType.CLOSE,(function(){l||(l=!0,Kr("Connection","WebChannel transport closed"),h.Vi())})),f(u,jr.EventType.ERROR,(function(e){l||(l=!0,Wr("Connection","WebChannel transport errored:",e),h.Vi(new Hr(Vr.UNAVAILABLE,"The operation could not be completed")))})),f(u,jr.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];Yr(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Kr("Connection","WebChannel received error:",i);var o=i.status,a=function(e){var t=ra[e];if(void 0!==t)return ca(t)}(o),s=i.message;void 0===a&&(a=Vr.INTERNAL,s="Unknown error status: "+o+" with message "+i.message),l=!0,h.Vi(new Hr(a,s)),u.close()}else Kr("Connection","WebChannel received:",n),h.Si(n)}})),f(i,Mr.STAT_EVENT,(function(e){e.stat===Fr.PROXY?Kr("Connection","Detected buffering proxy"):e.stat===Fr.NOPROXY&&Kr("Connection","Detected no buffering proxy")})),setTimeout((function(){h.Pi()}),0),h},t}(function(){function e(e){this.databaseInfo=e,this.databaseId=e.databaseId;var t=e.ssl?"https":"http";this.Di=t+"://"+e.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(e,t,n,r){var i=this.xi(e,t);Kr("RestConnection","Sending: ",i,n);var o={};return this.ki(o,r),this.Fi(e,i,o,n).then((function(e){return Kr("RestConnection","Received: ",e),e}),(function(t){throw Wr("RestConnection",e+" failed with error: ",t,"url: ",i,"request:",n),t}))},e.prototype.$i=function(e,t,n,r){return this.Ni(e,t,n,r)},e.prototype.ki=function(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/8.10.0",e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t)for(var n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n])},e.prototype.xi=function(e,t){var n=Uc[e];return this.Di+"/v1/"+t+":"+n},e}());
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hc(){return"undefined"!=typeof window?window:null}function Gc(){return"undefined"!=typeof document?document:null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zc(e){return new Ma(e,!0)}var Kc=function(){function e(e,t,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=e,this.timerId=t,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Qi=function(){this.qi=this.Bi},e.prototype.ji=function(e){var t=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Ki),i=Math.max(0,n-r);i>0&&Kr("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,(function(){return t.Ki=Date.now(),e()})),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),$c=function(){function e(e,t,n,r,i,o){this.Se=e,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new Kc(e,t)}return e.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},e.prototype.er=function(){return 2===this.state},e.prototype.start=function(){3!==this.state?this.auth():this.nr()},e.prototype.stop=function(){return(0,i.mG)(this,void 0,void 0,(function(){return(0,i.Jh)(this,(function(e){switch(e.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var e=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,(function(){return e.rr()})))},e.prototype.cr=function(e){this.ur(),this.stream.send(e)},e.prototype.rr=function(){return(0,i.mG)(this,void 0,void 0,(function(){return(0,i.Jh)(this,(function(e){return this.er()?[2,this.close(0)]:[2]}))}))},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(e,t){return(0,i.mG)(this,void 0,void 0,(function(){return(0,i.Jh)(this,(function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==e?this.Zi.reset():t&&t.code===Vr.RESOURCE_EXHAUSTED?($r(t.toString()),$r("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):t&&t.code===Vr.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Ri(t)];case 1:return n.sent(),[2]}}))}))},e.prototype.ar=function(){},e.prototype.auth=function(){var e=this;this.state=1;var t=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then((function(t){e.Yi===n&&e.lr(t)}),(function(n){t((function(){var t=new Hr(Vr.UNKNOWN,"Fetching auth token failed: "+n.message);return e.dr(t)}))}))},e.prototype.lr=function(e){var t=this,n=this.hr(this.Yi);this.stream=this.wr(e),this.stream.Ii((function(){n((function(){return t.state=2,t.listener.Ii()}))})),this.stream.Ri((function(e){n((function(){return t.dr(e)}))})),this.stream.onMessage((function(e){n((function(){return t.onMessage(e)}))}))},e.prototype.nr=function(){var e=this;this.state=4,this.Zi.ji((function(){return(0,i.mG)(e,void 0,void 0,(function(){return(0,i.Jh)(this,(function(e){return this.state=0,this.start(),[2]}))}))}))},e.prototype.dr=function(e){return Kr("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},e.prototype.hr=function(e){var t=this;return function(n){t.Se.enqueueAndForget((function(){return t.Yi===e?n():(Kr("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},e}(),Wc=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,a}return(0,i.ZT)(t,e),t.prototype.wr=function(e){return this.Hi.Oi("Listen",e)},t.prototype.onMessage=function(e){this.Zi.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Zr()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.I?(Yr(void 0===t||"string"==typeof t),pi.fromBase64String(t||"")):(Yr(void 0===t||t instanceof Uint8Array),pi.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=(s=t.targetChange.cause)&&function(e){var t=void 0===e.code?Vr.UNKNOWN:ca(e.code);return new Hr(t,e.message||"")}(s);n=new Aa(r,i,o,a||null)}else if("documentChange"in t){t.documentChange,(r=t.documentChange).document,r.document.name,r.document.updateTime,i=Ga(e,r.document.name),o=Ua(r.document.updateTime);var s=new Ui({mapValue:{fields:r.document.fields}}),u=(a=Vi.newFoundDocument(i,o,s),r.targetIds||[]),c=r.removedTargetIds||[];n=new Ca(u,c,a.key,a)}else if("documentDelete"in t)t.documentDelete,(r=t.documentDelete).document,i=Ga(e,r.document),o=r.readTime?Ua(r.readTime):oi.min(),s=Vi.newNoDocument(i,o),a=r.removedTargetIds||[],n=new Ca([],a,s.key,s);else if("documentRemove"in t)t.documentRemove,(r=t.documentRemove).document,i=Ga(e,r.document),o=r.removedTargetIds||[],n=new Ca([],o,i,null);else{if(!("filter"in t))return Zr();t.filter;var l=t.filter;l.targetId,r=l.count||0,i=new sa(r),o=l.targetId,n=new xa(o,i)}return n}(this.R,e),n=function(e){if(!("targetChange"in e))return oi.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?oi.min():t.readTime?Ua(t.readTime):oi.min()}(e);return this.listener._r(t,n)},t.prototype.mr=function(e){var t={};t.database=$a(this.R),t.addTarget=function(e,t){var n,r=t.target;return(n=$i(r)?{documents:Xa(e,r)}:{query:es(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=qa(e,t.resumeToken):t.snapshotVersion.compareTo(oi.min())>0&&(n.readTime=Fa(e,t.snapshotVersion.toTimestamp())),n}(this.R,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Zr()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.R,e);n&&(t.labels=n),this.cr(t)},t.prototype.yr=function(e){var t={};t.database=$a(this.R),t.removeTarget=e,this.cr(t)},t}($c),Jc=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,a.gr=!1,a}return(0,i.ZT)(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(e){return this.Hi.Oi("Write",e)},t.prototype.onMessage=function(e){if(Yr(!!e.streamToken),this.lastStreamToken=e.streamToken,this.gr){this.Zi.reset();var t=function(e,t){return e&&e.length>0?(Yr(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Ua(e.updateTime):Ua(t);return n.isEqual(oi.min())&&(n=Ua(t)),new Ho(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Ua(e.commitTime);return this.listener.Tr(n,t)}return Yr(!e.writeResults||0===e.writeResults.length),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var e={};e.database=$a(this.R),this.cr(e)},t.prototype.Er=function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Ya(t.R,e)}))};this.cr(n)},t}($c),Zc=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).credentials=t,i.Hi=n,i.R=r,i.Rr=!1,i}return(0,i.ZT)(t,e),t.prototype.br=function(){if(this.Rr)throw new Hr(Vr.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Ni(e,t,n,i)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Vr.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new Hr(Vr.UNKNOWN,e.toString())}))},t.prototype.$i=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.$i(e,t,n,i)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Vr.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new Hr(Vr.UNKNOWN,e.toString())}))},t.prototype.terminate=function(){this.Rr=!0},t}((function(){})),Yc=function(){function e(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var e=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.Pr=null,e.Cr("Backend didn't respond within 10 seconds."),e.Dr("Offline"),Promise.resolve()})))},e.prototype.Nr=function(e){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+e.toString()),this.Dr("Offline")))},e.prototype.set=function(e){this.kr(),this.vr=0,"Online"===e&&(this.Vr=!1),this.Dr(e)},e.prototype.Dr=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},e.prototype.Cr=function(e){var t="Could not reach Cloud Firestore backend. "+e+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?($r(t),this.Vr=!1):Kr("OnlineStateTracker",t)},e.prototype.kr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},e}(),Qc=function(e,t,n,r,o){var a=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=o,this.Lr.di((function(e){n.enqueueAndForget((function(){return(0,i.mG)(a,void 0,void 0,(function(){return(0,i.Jh)(this,(function(e){switch(e.label){case 0:return sl(this)?(Kr("RemoteStore","Restarting streams for network reachability change."),[4,function(e){return(0,i.mG)(this,void 0,void 0,(function(){var t;return(0,i.Jh)(this,(function(n){switch(n.label){case 0:return(t=Qr(e)).Or.add(4),[4,el(t)];case 1:return n.sent(),t.Br.set("Unknown"),t.Or.delete(4),[4,Xc(t)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))})),this.Br=new Yc(n,r)};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xc(e){return(0,i.mG)(this,void 0,void 0,(function(){var t,n;return(0,i.Jh)(this,(function(r){switch(r.label){case 0:if(!sl(e))return[3,4];t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function el(e){return(0,i.mG)(this,void 0,void 0,(function(){var t,n;return(0,i.Jh)(this,(function(r){switch(r.label){case 0:t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function tl(e,t){var n=Qr(e);n.$r.has(t.targetId)||(n.$r.set(t.targetId,t),al(n)?ol(n):Tl(n).er()&&rl(n,t))}function nl(e,t){var n=Qr(e),r=Tl(n);n.$r.delete(t),r.er()&&il(n,t),0===n.$r.size&&(r.er()?r.ir():sl(n)&&n.Br.set("Unknown"))}function rl(e,t){e.qr.U(t.targetId),Tl(e).mr(t)}function il(e,t){e.qr.U(t),Tl(e).yr(t)}function ol(e){e.qr=new Na({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.$r.get(t)||null}}),Tl(e).start(),e.Br.Sr()}function al(e){return sl(e)&&!Tl(e).tr()&&e.$r.size>0}function sl(e){return 0===Qr(e).Or.size}function ul(e){e.qr=void 0}function cl(e){return(0,i.mG)(this,void 0,void 0,(function(){return(0,i.Jh)(this,(function(t){return e.$r.forEach((function(t,n){rl(e,t)})),[2]}))}))}function ll(e,t){return(0,i.mG)(this,void 0,void 0,(function(){return(0,i.Jh)(this,(function(n){return ul(e),al(e)?(e.Br.Nr(t),ol(e)):e.Br.set("Unknown"),[2]}))}))}function hl(e,t,n){return(0,i.mG)(this,void 0,void 0,(function(){var r,o,a;return(0,i.Jh)(this,(function(s){switch(s.label){case 0:if(e.Br.set("Online"),!(t instanceof Aa&&2===t.state&&t.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(e,t){return(0,i.mG)(this,void 0,void 0,(function(){var n,r,o,a;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:n=t.cause,r=0,o=t.targetIds,i.label=1;case 1:return r<o.length?(a=o[r],e.$r.has(a)?[4,e.remoteSyncer.rejectListen(a,n)]:[3,3]):[3,5];case 2:i.sent(),e.$r.delete(a),e.qr.removeTarget(a),i.label=3;case 3:i.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(e,t)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),Kr("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),[4,fl(e,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof Ca?e.qr.X(t):t instanceof xa?e.qr.rt(t):e.qr.et(t),n.isEqual(oi.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,oc(e.localStore)];case 8:return o=s.sent(),n.compareTo(o)>=0?[4,function(e,t){var n=e.qr.ut(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.$r.get(r);i&&e.$r.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.$r.get(t);if(n){e.$r.set(t,n.withResumeToken(pi.EMPTY_BYTE_STRING,n.snapshotVersion)),il(e,t);var r=new Ys(n.target,t,1,n.sequenceNumber);rl(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return Kr("RemoteStore","Failed to raise snapshot:",a=s.sent()),[4,fl(e,a)];case 12:return s.sent(),[3,13];case 13:return[2]}}))}))}function fl(e,t,n){return(0,i.mG)(this,void 0,void 0,(function(){var r=this;return(0,i.Jh)(this,(function(o){switch(o.label){case 0:if(!Vs(t))throw t;return e.Or.add(1),[4,el(e)];case 1:return o.sent(),e.Br.set("Offline"),n||(n=function(){return oc(e.localStore)}),e.asyncQueue.enqueueRetryable((function(){return(0,i.mG)(r,void 0,void 0,(function(){return(0,i.Jh)(this,(function(t){switch(t.label){case 0:return Kr("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return t.sent(),e.Or.delete(1),[4,Xc(e)];case 2:return t.sent(),[2]}}))}))})),[2]}}))}))}function dl(e,t){return t().catch((function(n){return fl(e,n,t)}))}function pl(e){return(0,i.mG)(this,void 0,void 0,(function(){var t,n,r,o,a;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:t=Qr(e),n=Sl(t),r=t.Fr.length>0?t.Fr[t.Fr.length-1].batchId:-1,i.label=1;case 1:if(!function(e){return sl(e)&&e.Fr.length<10}(t))return[3,7];i.label=2;case 2:return i.trys.push([2,4,,6]),[4,uc(t.localStore,r)];case 3:return null===(o=i.sent())?(0===t.Fr.length&&n.ir(),[3,7]):(r=o.batchId,function(e,t){e.Fr.push(t);var n=Sl(e);n.er()&&n.pr&&n.Er(t.mutations)}(t,o),[3,6]);case 4:return a=i.sent(),[4,fl(t,a)];case 5:return i.sent(),[3,6];case 6:return[3,1];case 7:return vl(t)&&gl(t),[2]}}))}))}function vl(e){return sl(e)&&!Sl(e).tr()&&e.Fr.length>0}function gl(e){Sl(e).start()}function ml(e){return(0,i.mG)(this,void 0,void 0,(function(){return(0,i.Jh)(this,(function(t){return Sl(e).Ar(),[2]}))}))}function yl(e){return(0,i.mG)(this,void 0,void 0,(function(){var t,n,r,o;return(0,i.Jh)(this,(function(i){for(t=Sl(e),n=0,r=e.Fr;n<r.length;n++)o=r[n],t.Er(o.mutations);return[2]}))}))}function bl(e,t,n){return(0,i.mG)(this,void 0,void 0,(function(){var r,o;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:return r=e.Fr.shift(),o=Zs.from(r,t,n),[4,dl(e,(function(){return e.remoteSyncer.applySuccessfulWrite(o)}))];case 1:return i.sent(),[4,pl(e)];case 2:return i.sent(),[2]}}))}))}function wl(e,t){return(0,i.mG)(this,void 0,void 0,(function(){return(0,i.Jh)(this,(function(n){switch(n.label){case 0:return t&&Sl(e).pr?[4,function(e,t){return(0,i.mG)(this,void 0,void 0,(function(){var n,r;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:return ua(r=t.code)&&r!==Vr.ABORTED?(n=e.Fr.shift(),Sl(e).sr(),[4,dl(e,(function(){return e.remoteSyncer.rejectFailedWrite(n.batchId,t)}))]):[3,3];case 1:return i.sent(),[4,pl(e)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return vl(e)&&gl(e),[2]}}))}))}function _l(e,t){return(0,i.mG)(this,void 0,void 0,(function(){var n;return(0,i.Jh)(this,(function(r){switch(r.label){case 0:return n=Qr(e),t?(n.Or.delete(2),[4,Xc(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.Or.add(2),[4,el(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function Tl(e){var t=this;return e.Ur||(e.Ur=function(e,t,n){var r=Qr(e);return r.br(),new Wc(t,r.Hi,r.credentials,r.R,n)}(e.datastore,e.asyncQueue,{Ii:cl.bind(null,e),Ri:ll.bind(null,e),_r:hl.bind(null,e)}),e.Mr.push((function(n){return(0,i.mG)(t,void 0,void 0,(function(){return(0,i.Jh)(this,(function(t){switch(t.label){case 0:return n?(e.Ur.sr(),al(e)?ol(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:t.sent(),ul(e),t.label=3;case 3:return[2]}}))}))}))),e.Ur}function Sl(e){var t=this;return e.Kr||(e.Kr=function(e,t,n){var r=Qr(e);return r.br(),new Jc(t,r.Hi,r.credentials,r.R,n)}(e.datastore,e.asyncQueue,{Ii:ml.bind(null,e),Ri:wl.bind(null,e),Ir:yl.bind(null,e),Tr:bl.bind(null,e)}),e.Mr.push((function(n){return(0,i.mG)(t,void 0,void 0,(function(){return(0,i.Jh)(this,(function(t){switch(t.label){case 0:return n?(e.Kr.sr(),[4,pl(e)]):[3,2];case 1:return t.sent(),[3,4];case 2:return[4,e.Kr.stop()];case 3:t.sent(),e.Fr.length>0&&(Kr("RemoteStore","Stopping write stream with "+e.Fr.length+" pending writes"),e.Fr=[]),t.label=4;case 4:return[2]}}))}))}))),e.Kr
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}var El=function(){function e(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Ms,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return e.createAndSchedule=function(t,n,r,i,o){var a=new e(t,n,Date.now()+r,i,o);return a.start(r),a},e.prototype.start=function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Hr(Vr.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},e.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))},e.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function Il(e,t){if($r("AsyncQueue",t+": "+e),Vs(e))return new Hr(Vr.UNAVAILABLE,t+": "+e);throw e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kl=function(){function e(e){this.comparator=e?function(t,n){return e(t,n)||Ii.comparator(t.key,n.key)}:function(e,t){return Ii.comparator(e.key,t.key)},this.keyedMap=ya(),this.sortedSet=new la(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(e){return null!=this.keyedMap.get(e)},e.prototype.get=function(e){return this.keyedMap.get(e)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.add=function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))},e.prototype.delete=function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},e.prototype.toString=function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}(),Cl=function(){function e(){this.Qr=new la(Ii.comparator)}return e.prototype.track=function(e){var t=e.doc.key,n=this.Qr.get(t);n?0!==e.type&&3===n.type?this.Qr=this.Qr.insert(t,e):3===e.type&&1!==n.type?this.Qr=this.Qr.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Qr=this.Qr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Qr=this.Qr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Qr=this.Qr.remove(t):1===e.type&&2===n.type?this.Qr=this.Qr.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Qr=this.Qr.insert(t,{type:2,doc:e.doc}):Zr():this.Qr=this.Qr.insert(t,e)},e.prototype.jr=function(){var e=[];return this.Qr.inorderTraversal((function(t,n){e.push(n)})),e},e}(),xl=function(){function e(e,t,n,r,i,o,a,s){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}return e.fromInitialDocuments=function(t,n,r,i){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,kl.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_o(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0},e}(),Al=function(){this.Wr=void 0,this.listeners=[]},Rl=function(){this.queries=new Fu((function(e){return To(e)}),_o),this.onlineState="Unknown",this.Gr=new Set};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nl(e,t){return(0,i.mG)(this,void 0,void 0,(function(){var n,r,o,a,s,u,c;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:if(n=Qr(e),r=t.query,o=!1,(a=n.queries.get(r))||(o=!0,a=new Al),!o)return[3,4];i.label=1;case 1:return i.trys.push([1,3,,4]),s=a,[4,n.onListen(r)];case 2:return s.Wr=i.sent(),[3,4];case 3:return u=i.sent(),c=Il(u,"Initialization of query '"+So(t.query)+"' failed"),[2,void t.onError(c)];case 4:return n.queries.set(r,a),a.listeners.push(t),t.zr(n.onlineState),a.Wr&&t.Hr(a.Wr)&&Ll(n),[2]}}))}))}function Pl(e,t){return(0,i.mG)(this,void 0,void 0,(function(){var n,r,o,a,s;return(0,i.Jh)(this,(function(i){return n=Qr(e),r=t.query,o=!1,(a=n.queries.get(r))&&(s=a.listeners.indexOf(t))>=0&&(a.listeners.splice(s,1),o=0===a.listeners.length),o?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]}))}))}function Ol(e,t){for(var n=Qr(e),r=!1,i=0,o=t;i<o.length;i++){var a=o[i],s=a.query,u=n.queries.get(s);if(u){for(var c=0,l=u.listeners;c<l.length;c++)l[c].Hr(a)&&(r=!0);u.Wr=a}}r&&Ll(n)}function Dl(e,t,n){var r=Qr(e),i=r.queries.get(t);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.queries.delete(t)}function Ll(e){e.Gr.forEach((function(e){e.next()}))}var Ml=function(){function e(e,t,n){this.query=e,this.Jr=t,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return e.prototype.Hr=function(e){if(!this.options.includeMetadataChanges){for(var t=[],n=0,r=e.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&t.push(i)}e=new xl(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(e)&&(this.Jr.next(e),o=!0):this.eo(e,this.onlineState)&&(this.no(e),o=!0),this.Xr=e,o},e.prototype.onError=function(e){this.Jr.error(e)},e.prototype.zr=function(e){this.onlineState=e;var t=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,e)&&(this.no(this.Xr),t=!0),t},e.prototype.eo=function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return!(this.options.so&&n||e.docs.isEmpty()&&"Offline"!==t)},e.prototype.Zr=function(e){if(e.docChanges.length>0)return!0;var t=this.Xr&&this.Xr.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges},e.prototype.no=function(e){e=xl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Yr=!0,this.Jr.next(e)},e}(),Fl=function(){function e(e,t){this.payload=e,this.byteLength=t}return e.prototype.io=function(){return"metadata"in this.payload},e}(),ql=function(){function e(e){this.R=e}return e.prototype.qn=function(e){return Ga(this.R,e)},e.prototype.Un=function(e){return e.metadata.exists?Za(this.R,e.document,!1):Vi.newNoDocument(this.qn(e.metadata.name),this.Kn(e.metadata.readTime))},e.prototype.Kn=function(e){return Ua(e)},e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(){function e(e,t,n){this.ro=e,this.localStore=t,this.R=n,this.queries=[],this.documents=[],this.progress=jl(e)}e.prototype.oo=function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null},e.prototype.co=function(e){for(var t=new Map,n=new ql(this.R),r=0,i=e;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var a=n.qn(o.metadata.name),s=0,u=o.metadata.queries;s<u.length;s++){var c=u[s],l=(t.get(c)||Ta()).add(a);t.set(c,l)}}return t},e.prototype.complete=function(){return(0,i.mG)(this,void 0,void 0,(function(){var e,t,n,r,o;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:return[4,vc(this.localStore,new ql(this.R),this.documents,this.ro.id)];case 1:e=i.sent(),t=this.co(this.documents),n=0,r=this.queries,i.label=2;case 2:return n<r.length?(o=r[n],[4,gc(this.localStore,o,t.get(o.name))]):[3,5];case 3:i.sent(),i.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Yu(Object.assign({},this.progress),e))]}}))}))}})();function jl(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ul=function(e){this.key=e},Bl=function(e){this.key=e},Vl=function(){function e(e,t){this.query=e,this.uo=t,this.ao=null,this.current=!1,this.ho=Ta(),this.mutatedKeys=Ta(),this.lo=Io(e),this.fo=new kl(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(e,t){var n=this,r=t?t.mo:new Cl,i=t?t.fo:this.fo,o=t?t.mutatedKeys:this.mutatedKeys,a=i,s=!1,u=fo(this.query)&&i.size===this.query.limit?i.last():null,c=po(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),h=Eo(n.query,t)?t:null,f=!!l&&n.mutatedKeys.has(l.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?f!==d&&(r.track({type:3,doc:h}),p=!0):n.yo(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.lo(h,u)>0||c&&n.lo(h,c)<0)&&(s=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(h?(a=a.add(h),o=d?o.add(e):o.delete(e)):(a=a.delete(e),o=o.delete(e)))})),fo(this.query)||po(this.query))for(;a.size>this.query.limit;){var l=fo(this.query)?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:a,mo:r,Nn:s,mutatedKeys:o}},e.prototype.yo=function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations},e.prototype.applyChanges=function(e,t,n){var r=this,i=this.fo;this.fo=e.fo,this.mutatedKeys=e.mutatedKeys;var o=e.mo.jr();o.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Zr()}};return n(e)-n(t)}(e.type,t.type)||r.lo(e.doc,t.doc)})),this.po(n);var a=t?this.Eo():[],s=0===this.ho.size&&this.current?1:0,u=s!==this.ao;return this.ao=s,0!==o.length||u?{snapshot:new xl(this.query,e.fo,i,o,e.mutatedKeys,0===s,u,!1),To:a}:{To:a}},e.prototype.zr=function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({fo:this.fo,mo:new Cl,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(e){return!this.uo.has(e)&&!!this.fo.has(e)&&!this.fo.get(e).hasLocalMutations},e.prototype.po=function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.uo=t.uo.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.uo=t.uo.delete(e)})),this.current=e.current)},e.prototype.Eo=function(){var e=this;if(!this.current)return[];var t=this.ho;this.ho=Ta(),this.fo.forEach((function(t){e.Io(t.key)&&(e.ho=e.ho.add(t.key))}));var n=[];return t.forEach((function(t){e.ho.has(t)||n.push(new Bl(t))})),this.ho.forEach((function(e){t.has(e)||n.push(new Ul(e))})),n},e.prototype.Ao=function(e){this.uo=e.Bn,this.ho=Ta();var t=this._o(e.documents);return this.applyChanges(t,!0)},e.prototype.Ro=function(){return xl.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},e}(),Hl=function(e,t,n){this.query=e,this.targetId=t,this.view=n},Gl=function(e){this.key=e,this.bo=!1},zl=function(){function e(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new Fu((function(e){return To(e)}),_o),this.Vo=new Map,this.So=new Set,this.Do=new la(Ii.comparator),this.Co=new Map,this.No=new yc,this.xo={},this.ko=new Map,this.Fo=Iu.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),e}();function Kl(e,t){return(0,i.mG)(this,void 0,void 0,(function(){var n,r,o,a,s,u;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:return n=_h(e),(a=n.Po.get(t))?(r=a.targetId,n.sharedClientState.addLocalQueryTarget(r),o=a.view.Ro(),[3,4]):[3,1];case 1:return[4,cc(n.localStore,bo(t))];case 2:return s=i.sent(),u=n.sharedClientState.addLocalQueryTarget(s.targetId),r=s.targetId,[4,$l(n,t,r,"current"===u)];case 3:o=i.sent(),n.isPrimaryClient&&tl(n.remoteStore,s),i.label=4;case 4:return[2,o]}}))}))}function $l(e,t,n,r){return(0,i.mG)(this,void 0,void 0,(function(){var o,a,s,u,c,l;return(0,i.Jh)(this,(function(h){switch(h.label){case 0:return e.Oo=function(t,n,r){return function(e,t,n,r){return(0,i.mG)(this,void 0,void 0,(function(){var o,a,s;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:return o=t.view._o(n),o.Nn?[4,hc(e.localStore,t.query,!1).then((function(e){var n=e.documents;return t.view._o(n,o)}))]:[3,2];case 1:o=i.sent(),i.label=2;case 2:return a=r&&r.targetChanges.get(t.targetId),s=t.view.applyChanges(o,e.isPrimaryClient,a),[2,(ah(e,t.targetId,s.To),s.snapshot)]}}))}))}(e,t,n,r)},[4,hc(e.localStore,t,!0)];case 1:return o=h.sent(),a=new Vl(t,o.Bn),s=a._o(o.documents),u=ka.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState),c=a.applyChanges(s,e.isPrimaryClient,u),ah(e,n,c.To),l=new Hl(t,n,a),[2,(e.Po.set(t,l),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),c.snapshot)]}}))}))}function Wl(e,t){return(0,i.mG)(this,void 0,void 0,(function(){var n,r,o;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:return n=Qr(e),r=n.Po.get(t),(o=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,o.filter((function(e){return!_o(e,t)}))),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,lc(n.localStore,r.targetId,!1).then((function(){n.sharedClientState.clearQueryState(r.targetId),nl(n.remoteStore,r.targetId),ih(n,r.targetId)})).catch(Ru)]):[3,3];case 1:i.sent(),i.label=2;case 2:return[3,5];case 3:return ih(n,r.targetId),[4,lc(n.localStore,r.targetId,!0)];case 4:i.sent(),i.label=5;case 5:return[2]}}))}))}function Jl(e,t,n){return(0,i.mG)(this,void 0,void 0,(function(){var r,o,a,s;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:r=Th(e),i.label=1;case 1:return i.trys.push([1,5,,6]),[4,function(e,t){var n,r=Qr(e),i=ii.now(),o=t.reduce((function(e,t){return e.add(t.key)}),Ta());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.Mn.pn(e,o).next((function(o){n=o;for(var a=[],s=0,u=t;s<u.length;s++){var c=u[s],l=Jo(c,n.get(c.key));null!=l&&a.push(new Xo(c.key,l,Bi(l.value.mapValue),Go.exists(!0)))}return r._n.addMutationBatch(e,i,a,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(r.localStore,t)];case 2:return o=i.sent(),r.sharedClientState.addPendingMutation(o.batchId),function(e,t,n){var r=e.xo[e.currentUser.toKey()];r||(r=new la(ti)),r=r.insert(t,n),e.xo[e.currentUser.toKey()]=r}(r,o.batchId,n),[4,ch(r,o.changes)];case 3:return i.sent(),[4,pl(r.remoteStore)];case 4:return i.sent(),[3,6];case 5:return a=i.sent(),s=Il(a,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}}))}))}function Zl(e,t){return(0,i.mG)(this,void 0,void 0,(function(){var n,r;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:n=Qr(e),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,ac(n.localStore,t)];case 2:return r=i.sent(),t.targetChanges.forEach((function(e,t){var r=n.Co.get(t);r&&(Yr(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.bo=!0:e.modifiedDocuments.size>0?Yr(r.bo):e.removedDocuments.size>0&&(Yr(r.bo),r.bo=!1))})),[4,ch(n,r,t)];case 3:return i.sent(),[3,6];case 4:return[4,Ru(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function Yl(e,t,n){var r=Qr(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach((function(e,n){var r=n.view.zr(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Qr(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(t)&&(r=!0)})),r&&Ll(n)}(r.eventManager,t),i.length&&r.vo._r(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function Ql(e,t,n){return(0,i.mG)(this,void 0,void 0,(function(){var r,o,a,s,u,c;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:return(r=Qr(e)).sharedClientState.updateQueryState(t,"rejected",n),o=r.Co.get(t),(a=o&&o.key)?(s=(s=new la(Ii.comparator)).insert(a,Vi.newNoDocument(a,oi.min())),u=Ta().add(a),c=new Ia(oi.min(),new Map,new da(ti),s,u),[4,Zl(r,c)]):[3,2];case 1:return i.sent(),r.Do=r.Do.remove(a),r.Co.delete(t),uh(r),[3,4];case 2:return[4,lc(r.localStore,t,!1).then((function(){return ih(r,t,n)})).catch(Ru)];case 3:i.sent(),i.label=4;case 4:return[2]}}))}))}function Xl(e,t){return(0,i.mG)(this,void 0,void 0,(function(){var n,r,o;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:n=Qr(e),r=t.batch.batchId,i.label=1;case 1:return i.trys.push([1,4,,6]),[4,ic(n.localStore,t)];case 2:return o=i.sent(),rh(n,r,null),nh(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,ch(n,o)];case 3:return i.sent(),[3,6];case 4:return[4,Ru(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function eh(e,t,n){return(0,i.mG)(this,void 0,void 0,(function(){var r,o;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:r=Qr(e),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,function(e,t){var n=Qr(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n._n.lookupMutationBatch(e,t).next((function(t){return Yr(null!==t),r=t.keys(),n._n.removeMutationBatch(e,t)})).next((function(){return n._n.performConsistencyCheck(e)})).next((function(){return n.Mn.pn(e,r)}))}))}(r.localStore,t)];case 2:return o=i.sent(),rh(r,t,n),nh(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),[4,ch(r,o)];case 3:return i.sent(),[3,6];case 4:return[4,Ru(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function th(e,t){return(0,i.mG)(this,void 0,void 0,(function(){var n,r,o,a,s;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:sl((n=Qr(e)).remoteStore)||Kr("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,function(e){var t=Qr(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t._n.getHighestUnacknowledgedBatchId(e)}))}(n.localStore)];case 2:return-1===(r=i.sent())?[2,void t.resolve()]:((o=n.ko.get(r)||[]).push(t),n.ko.set(r,o),[3,4]);case 3:return a=i.sent(),s=Il(a,"Initialization of waitForPendingWrites() operation failed"),t.reject(s),[3,4];case 4:return[2]}}))}))}function nh(e,t){(e.ko.get(t)||[]).forEach((function(e){e.resolve()})),e.ko.delete(t)}function rh(e,t,n){var r=Qr(e),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(t);o&&(n?o.reject(n):o.resolve(),i=i.remove(t)),r.xo[r.currentUser.toKey()]=i}}function ih(e,t,n){void 0===n&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var r=0,i=e.Vo.get(t);r<i.length;r++){var o=i[r];e.Po.delete(o),n&&e.vo.Mo(o,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach((function(t){e.No.containsKey(t)||oh(e,t)}))}function oh(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);null!==n&&(nl(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),uh(e))}function ah(e,t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof Ul?(e.No.addReference(o.key,t),sh(e,o)):o instanceof Bl?(Kr("SyncEngine","Document no longer in limbo: "+o.key),e.No.removeReference(o.key,t),e.No.containsKey(o.key)||oh(e,o.key)):Zr()}}function sh(e,t){var n=t.key,r=n.path.canonicalString();e.Do.get(n)||e.So.has(r)||(Kr("SyncEngine","New document in limbo: "+n),e.So.add(r),uh(e))}function uh(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new Ii(li.fromString(t)),r=e.Fo.next();e.Co.set(r,new Gl(n)),e.Do=e.Do.insert(n,r),tl(e.remoteStore,new Ys(bo(ho(n.path)),r,2,Br.o))}}function ch(e,t,n){return(0,i.mG)(this,void 0,void 0,(function(){var r,o,a,s;return(0,i.Jh)(this,(function(u){switch(u.label){case 0:return r=Qr(e),o=[],a=[],s=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach((function(e,i){s.push(r.Oo(i,t,n).then((function(e){if(e){r.isPrimaryClient&&r.sharedClientState.updateQueryState(i.targetId,e.fromCache?"not-current":"current"),o.push(e);var t=Xu.Pn(i.targetId,e);a.push(t)}})))})),[4,Promise.all(s)]);case 1:return u.sent(),r.vo._r(o),[4,function(e,t){return(0,i.mG)(this,void 0,void 0,(function(){var n,r,o,a,s,u,c,l,h;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:n=Qr(e),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Fs.forEach(t,(function(t){return Fs.forEach(t.bn,(function(r){return n.persistence.referenceDelegate.addReference(e,t.targetId,r)})).next((function(){return Fs.forEach(t.vn,(function(r){return n.persistence.referenceDelegate.removeReference(e,t.targetId,r)}))}))}))}))];case 2:return i.sent(),[3,4];case 3:if(!Vs(r=i.sent()))throw r;return Kr("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(o=0,a=t;o<a.length;o++)s=a[o],u=s.targetId,s.fromCache||(c=n.kn.get(u),l=c.snapshotVersion,h=c.withLastLimboFreeSnapshotVersion(l),n.kn=n.kn.insert(u,h));return[2]}}))}))}(r.localStore,a)];case 2:u.sent(),u.label=3;case 3:return[2]}}))}))}function lh(e,t){return(0,i.mG)(this,void 0,void 0,(function(){var n,r;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:return(n=Qr(e)).currentUser.isEqual(t)?[3,3]:(Kr("SyncEngine","User change. New user:",t.toKey()),[4,rc(n.localStore,t)]);case 1:return r=i.sent(),n.currentUser=t,function(e,t){e.ko.forEach((function(e){e.forEach((function(e){e.reject(new Hr(Vr.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.ko.clear()}(n),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),[4,ch(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function hh(e,t){var n=Qr(e),r=n.Co.get(t);if(r&&r.bo)return Ta().add(r.key);var i=Ta(),o=n.Vo.get(t);if(!o)return i;for(var a=0,s=o;a<s.length;a++){var u=s[a],c=n.Po.get(u);i=i.unionWith(c.view.wo)}return i}function fh(e,t){return(0,i.mG)(this,void 0,void 0,(function(){var n,r,o;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:return[4,hc((n=Qr(e)).localStore,t.query,!0)];case 1:return r=i.sent(),o=t.view.Ao(r),[2,(n.isPrimaryClient&&ah(n,t.targetId,o.To),o)]}}))}))}function dh(e){return(0,i.mG)(this,void 0,void 0,(function(){var t;return(0,i.Jh)(this,(function(n){return[2,dc((t=Qr(e)).localStore).then((function(e){return ch(t,e)}))]}))}))}function ph(e,t,n,r){return(0,i.mG)(this,void 0,void 0,(function(){var o,a;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:return[4,function(e,t){var n=Qr(e),r=Qr(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.jt(e,t).next((function(t){return t?n.Mn.pn(e,t):Fs.resolve(null)}))}))}((o=Qr(e)).localStore,t)];case 1:return null===(a=i.sent())?[3,6]:"pending"!==n?[3,3]:[4,pl(o.remoteStore)];case 2:return i.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(rh(o,t,r||null),nh(o,t),function(e,t){Qr(Qr(e)._n).Gt(t)}(o.localStore,t)):Zr(),i.label=4;case 4:return[4,ch(o,a)];case 5:return i.sent(),[3,7];case 6:Kr("SyncEngine","Cannot apply mutation batch with id: "+t),i.label=7;case 7:return[2]}}))}))}function vh(e,t){return(0,i.mG)(this,void 0,void 0,(function(){var n,r,o,a,s,u,c,l;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:return _h(n=Qr(e)),Th(n),!0!==t||!0===n.$o?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,gh(n,r.toArray())]);case 1:return o=i.sent(),n.$o=!0,[4,_l(n.remoteStore,!0)];case 2:for(i.sent(),a=0,s=o;a<s.length;a++)u=s[a],tl(n.remoteStore,u);return[3,7];case 3:return!1!==t||!1===n.$o?[3,7]:(c=[],l=Promise.resolve(),n.Vo.forEach((function(e,t){n.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return ih(n,t),lc(n.localStore,t,!0)})),nl(n.remoteStore,t)})),[4,l]);case 4:return i.sent(),[4,gh(n,c)];case 5:return i.sent(),function(e){var t=Qr(e);t.Co.forEach((function(e,n){nl(t.remoteStore,n)})),t.No.ts(),t.Co=new Map,t.Do=new la(Ii.comparator)}(n),n.$o=!1,[4,_l(n.remoteStore,!1)];case 6:i.sent(),i.label=7;case 7:return[2]}}))}))}function gh(e,t,n){return(0,i.mG)(this,void 0,void 0,(function(){var n,r,o,a,s,u,c,l,h,f,d,p,v,g;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:n=Qr(e),r=[],o=[],a=0,s=t,i.label=1;case 1:return a<s.length?(u=s[a],c=void 0,(l=n.Vo.get(u))&&0!==l.length?[4,cc(n.localStore,bo(l[0]))]:[3,7]):[3,13];case 2:c=i.sent(),h=0,f=l,i.label=3;case 3:return h<f.length?(d=f[h],p=n.Po.get(d),[4,fh(n,p)]):[3,6];case 4:(v=i.sent()).snapshot&&o.push(v.snapshot),i.label=5;case 5:return h++,[3,3];case 6:return[3,11];case 7:return[4,fc(n.localStore,u)];case 8:return g=i.sent(),[4,cc(n.localStore,g)];case 9:return c=i.sent(),[4,$l(n,mh(g),u,!1)];case 10:i.sent(),i.label=11;case 11:r.push(c),i.label=12;case 12:return a++,[3,1];case 13:return[2,(n.vo._r(o),r)]}}))}))}function mh(e){return lo(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function yh(e){var t=Qr(e);return Qr(Qr(t.localStore).persistence).fn()}function bh(e,t,n,r){return(0,i.mG)(this,void 0,void 0,(function(){var o,a,s;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:return(o=Qr(e)).$o?(Kr("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!o.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,dc(o.localStore)];case 3:return a=i.sent(),s=Ia.createSynthesizedRemoteEventForCurrentChange(t,"current"===n),[4,ch(o,a,s)];case 4:return i.sent(),[3,8];case 5:return[4,lc(o.localStore,t,!0)];case 6:return i.sent(),ih(o,t,r),[3,8];case 7:Zr(),i.label=8;case 8:return[2]}}))}))}function wh(e,t,n){return(0,i.mG)(this,void 0,void 0,(function(){var r,o,a,s,u,c,l,h,f,d;return(0,i.Jh)(this,(function(p){switch(p.label){case 0:if(!(r=_h(e)).$o)return[3,10];o=0,a=t,p.label=1;case 1:return o<a.length?(s=a[o],r.Vo.has(s)?(Kr("SyncEngine","Adding an already active target "+s),[3,5]):[4,fc(r.localStore,s)]):[3,6];case 2:return u=p.sent(),[4,cc(r.localStore,u)];case 3:return c=p.sent(),[4,$l(r,mh(u),c.targetId,!1)];case 4:p.sent(),tl(r.remoteStore,c),p.label=5;case 5:return o++,[3,1];case 6:l=function(e){return(0,i.Jh)(this,(function(t){switch(t.label){case 0:return r.Vo.has(e)?[4,lc(r.localStore,e,!1).then((function(){nl(r.remoteStore,e),ih(r,e)})).catch(Ru)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))},h=0,f=n,p.label=7;case 7:return h<f.length?(d=f[h],[5,l(d)]):[3,10];case 8:p.sent(),p.label=9;case 9:return h++,[3,7];case 10:return[2]}}))}))}function _h(e){var t=Qr(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Zl.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=hh.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Ql.bind(null,t),t.vo._r=Ol.bind(null,t.eventManager),t.vo.Mo=Dl.bind(null,t.eventManager),t}function Th(e){var t=Qr(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Xl.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=eh.bind(null,t),t}var Sh=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(e){return(0,i.mG)(this,void 0,void 0,(function(){return(0,i.Jh)(this,(function(t){switch(t.label){case 0:return this.R=zc(e.databaseInfo.databaseId),this.sharedClientState=this.Bo(e),this.persistence=this.qo(e),[4,this.persistence.start()];case 1:return t.sent(),this.gcScheduler=this.Uo(e),this.localStore=this.Ko(e),[2]}}))}))},e.prototype.Uo=function(e){return null},e.prototype.Ko=function(e){return nc(this.persistence,new ec,e.initialUser,this.R)},e.prototype.qo=function(e){return new Ec(kc.bs,this.R)},e.prototype.Bo=function(e){return new Fc},e.prototype.terminate=function(){return(0,i.mG)(this,void 0,void 0,(function(){return(0,i.Jh)(this,(function(e){switch(e.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return e.sent(),[4,this.persistence.shutdown()];case 2:return e.sent(),[2]}}))}))},e}(),Eh=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).Qo=t,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return(0,i.ZT)(t,e),t.prototype.initialize=function(t){return(0,i.mG)(this,void 0,void 0,(function(){var n=this;return(0,i.Jh)(this,(function(r){switch(r.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return r.sent(),[4,pc(this.localStore)];case 2:return r.sent(),[4,this.Qo.initialize(this,t)];case 3:return r.sent(),[4,Th(this.Qo.syncEngine)];case 4:return r.sent(),[4,pl(this.Qo.remoteStore)];case 5:return r.sent(),[4,this.persistence.He((function(){return n.gcScheduler&&!n.gcScheduler.started&&n.gcScheduler.start(n.localStore),Promise.resolve()}))];case 6:return r.sent(),[2]}}))}))},t.prototype.Ko=function(e){return nc(this.persistence,new ec,e.initialUser,this.R)},t.prototype.Uo=function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new Ou(t,e.asyncQueue)},t.prototype.qo=function(e){var t=Zu(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?mu.withCacheSize(this.cacheSizeBytes):mu.DEFAULT;return new $u(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Hc(),Gc(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(e){return new Fc},t}(Sh),Ih=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n,!1)||this).Qo=t,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return(0,i.ZT)(t,e),t.prototype.initialize=function(t){return(0,i.mG)(this,void 0,void 0,(function(){var n,r=this;return(0,i.Jh)(this,(function(o){switch(o.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return o.sent(),n=this.Qo.syncEngine,this.sharedClientState instanceof Mc?(this.sharedClientState.syncEngine={ui:ph.bind(null,n),ai:bh.bind(null,n),hi:wh.bind(null,n),fn:yh.bind(null,n),ci:dh.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:o.sent(),o.label=3;case 3:return[4,this.persistence.He((function(e){return(0,i.mG)(r,void 0,void 0,(function(){return(0,i.Jh)(this,(function(t){switch(t.label){case 0:return[4,vh(this.Qo.syncEngine,e)];case 1:return t.sent(),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):e||this.gcScheduler.stop()),[2]}}))}))}))];case 4:return o.sent(),[2]}}))}))},t.prototype.Bo=function(e){var t=Hc();if(!Mc.yt(t))throw new Hr(Vr.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Zu(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Mc(t,e.asyncQueue,n,e.clientId,e.initialUser)},t}(Eh),kh=function(){function e(){}return e.prototype.initialize=function(e,t){return(0,i.mG)(this,void 0,void 0,(function(){var n=this;return(0,i.Jh)(this,(function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return Yl(n.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=lh.bind(null,this.syncEngine),[4,_l(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},e.prototype.createEventManager=function(e){return new Rl},e.prototype.createDatastore=function(e){var t,n=zc(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new Vc(t));return function(e,t,n){return new Zc(e,t,n)}(e.credentials,r,n)},e.prototype.createRemoteStore=function(e){var t,n,r,i,o,a=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return Yl(a.syncEngine,e,0)},o=jc.yt()?new jc:new qc,new Qc(t,n,r,i,o)},e.prototype.createSyncEngine=function(e,t){return function(e,t,n,r,i,o,a){var s=new zl(e,t,n,r,i,o);return a&&(s.$o=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)},e.prototype.terminate=function(){return function(e){return(0,i.mG)(this,void 0,void 0,(function(){var t;return(0,i.Jh)(this,(function(n){switch(n.label){case 0:return t=Qr(e),Kr("RemoteStore","RemoteStore shutting down."),t.Or.add(5),[4,el(t)];case 1:return n.sent(),t.Lr.shutdown(),t.Br.set("Unknown"),[2]}}))}))}(this.remoteStore)},e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Ch=function(){function e(e){this.observer=e,this.muted=!1}return e.prototype.next=function(e){this.observer.next&&this.jo(this.observer.next,e)},e.prototype.error=function(e){this.observer.error?this.jo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)},e}(),xh=(function(){function e(e,t){var n=this;this.Go=e,this.R=t,this.metadata=new Ms,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then((function(e){e&&e.io()?n.metadata.resolve(e.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==e?void 0:e.payload)))}),(function(e){return n.metadata.reject(e)}))}e.prototype.close=function(){return this.Go.cancel()},e.prototype.getMetadata=function(){return(0,i.mG)(this,void 0,void 0,(function(){return(0,i.Jh)(this,(function(e){return[2,this.metadata.promise]}))}))},e.prototype.Lo=function(){return(0,i.mG)(this,void 0,void 0,(function(){return(0,i.Jh)(this,(function(e){switch(e.label){case 0:return[4,this.getMetadata()];case 1:return[2,(e.sent(),this.Ho())]}}))}))},e.prototype.Ho=function(){return(0,i.mG)(this,void 0,void 0,(function(){var e,t,n,r;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(e=i.sent())?[2,null]:(t=this.zo.decode(e),n=Number(t),isNaN(n)&&this.Yo("length string ("+t+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new Fl(JSON.parse(r),e.length+n)]}}))}))},e.prototype.Zo=function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))},e.prototype.Jo=function(){return(0,i.mG)(this,void 0,void 0,(function(){var e,t;return(0,i.Jh)(this,(function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((e=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),t=this.buffer.slice(0,e),[2,(this.buffer=this.buffer.slice(e),t)])}}))}))},e.prototype.Xo=function(e){return(0,i.mG)(this,void 0,void 0,(function(){var t;return(0,i.Jh)(this,(function(n){switch(n.label){case 0:return this.buffer.length<e?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return t=this.zo.decode(this.buffer.slice(0,e)),[2,(this.buffer=this.buffer.slice(e),t)]}}))}))},e.prototype.Yo=function(e){throw this.Go.cancel(),new Error("Invalid bundle format: "+e)},e.prototype.tc=function(){return(0,i.mG)(this,void 0,void 0,(function(){var e,t;return(0,i.Jh)(this,(function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(e=n.sent()).done||((t=new Uint8Array(this.buffer.length+e.value.length)).set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t),[2,e.done]}}))}))}}(),function(){function e(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(e){return(0,i.mG)(this,void 0,void 0,(function(){var t,n=this;return(0,i.Jh)(this,(function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Hr(Vr.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(e,t){return(0,i.mG)(this,void 0,void 0,(function(){var n,r,o,a,s,u;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:return n=Qr(e),r=$a(n.R)+"/documents",o={documents:t.map((function(e){return Ha(n.R,e)}))},[4,n.$i("BatchGetDocuments",r,o)];case 1:return a=i.sent(),s=new Map,a.forEach((function(e){var t=function(e,t){return"found"in t?function(e,t){Yr(!!t.found),t.found.name,t.found.updateTime;var n=Ga(e,t.found.name),r=Ua(t.found.updateTime),i=new Ui({mapValue:{fields:t.found.fields}});return Vi.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){Yr(!!t.missing),Yr(!!t.readTime);var n=Ga(e,t.missing),r=Ua(t.readTime);return Vi.newNoDocument(n,r)}(e,t):Zr()}(n.R,e);s.set(t.key.toString(),t)})),u=[],[2,(t.forEach((function(e){var t=s.get(e.toString());Yr(!!t),u.push(t)})),u)]}}))}))}(this.datastore,e)];case 1:return[2,((t=r.sent()).forEach((function(e){return n.recordVersion(e)})),t)]}}))}))},e.prototype.set=function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.update=function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())},e.prototype.delete=function(e){this.write(new oa(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.commit=function(){return(0,i.mG)(this,void 0,void 0,(function(){var e,t=this;return(0,i.Jh)(this,(function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return e=this.readVersions,this.mutations.forEach((function(t){e.delete(t.key.toString())})),e.forEach((function(e,n){var r=Ii.fromPath(n);t.mutations.push(new aa(r,t.precondition(r)))})),[4,function(e,t){return(0,i.mG)(this,void 0,void 0,(function(){var n,r,o;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:return n=Qr(e),r=$a(n.R)+"/documents",o={writes:t.map((function(e){return Ya(n.R,e)}))},[4,n.Ni("Commit",r,o)];case 1:return i.sent(),[2]}}))}))}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}}))}))},e.prototype.recordVersion=function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Zr();t=oi.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Hr(Vr.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)},e.prototype.precondition=function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Go.updateTime(t):Go.none()},e.prototype.preconditionForUpdate=function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(oi.min()))throw new Hr(Vr.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Go.updateTime(t)}return Go.exists(!0)},e.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations.push(e)},e.prototype.ensureCommitNotCalled=function(){},e}()),Ah=function(){function e(e,t,n,r){this.asyncQueue=e,this.datastore=t,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new Kc(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.ec-=1,this.nc()},e.prototype.nc=function(){var e=this;this.Zi.ji((function(){return(0,i.mG)(e,void 0,void 0,(function(){var e,t,n=this;return(0,i.Jh)(this,(function(r){return e=new xh(this.datastore),(t=this.sc(e))&&t.then((function(t){n.asyncQueue.enqueueAndForget((function(){return e.commit().then((function(){n.deferred.resolve(t)})).catch((function(e){n.ic(e)}))}))})).catch((function(e){n.ic(e)})),[2]}))}))}))},e.prototype.sc=function(e){try{var t=this.updateFunction(e);return!Ti(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}},e.prototype.ic=function(e){var t=this;this.ec>0&&this.rc(e)?(this.ec-=1,this.asyncQueue.enqueueAndForget((function(){return t.nc(),Promise.resolve()}))):this.deferred.reject(e)},e.prototype.rc=function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!ua(t)}return!1},e}(),Rh=function(){function e(e,t,n){var r=this;this.credentials=e,this.asyncQueue=t,this.databaseInfo=n,this.user=Cc.UNAUTHENTICATED,this.clientId=ei.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(t,(function(e){return(0,i.mG)(r,void 0,void 0,(function(){return(0,i.Jh)(this,(function(t){switch(t.label){case 0:return Kr("FirestoreClient","Received user=",e.uid),[4,this.credentialListener(e)];case 1:return t.sent(),this.user=e,[2]}}))}))}))}return e.prototype.getConfiguration=function(){return(0,i.mG)(this,void 0,void 0,(function(){return(0,i.Jh)(this,(function(e){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]}))}))},e.prototype.setCredentialChangeListener=function(e){this.credentialListener=e},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Hr(Vr.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Ms;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((function(){return(0,i.mG)(e,void 0,void 0,(function(){var e,n;return(0,i.Jh)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),t.resolve(),[3,6];case 5:return e=r.sent(),n=Il(e,"Failed to shutdown persistence"),t.reject(n),[3,6];case 6:return[2]}}))}))})),t.promise},e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nh(e,t){return(0,i.mG)(this,void 0,void 0,(function(){var n,r,o=this;return(0,i.Jh)(this,(function(a){switch(a.label){case 0:return e.asyncQueue.verifyOperationInProgress(),Kr("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=a.sent(),[4,t.initialize(n)];case 2:return a.sent(),r=n.initialUser,e.setCredentialChangeListener((function(e){return(0,i.mG)(o,void 0,void 0,(function(){return(0,i.Jh)(this,(function(n){switch(n.label){case 0:return r.isEqual(e)?[3,2]:[4,rc(t.localStore,e)];case 1:n.sent(),r=e,n.label=2;case 2:return[2]}}))}))})),t.persistence.setDatabaseDeletedListener((function(){return e.terminate()})),e.offlineComponents=t,[2]}}))}))}function Ph(e,t){return(0,i.mG)(this,void 0,void 0,(function(){var n,r;return(0,i.Jh)(this,(function(o){switch(o.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,Oh(e)];case 1:return n=o.sent(),Kr("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return r=o.sent(),[4,t.initialize(n,r)];case 3:return o.sent(),e.setCredentialChangeListener((function(e){return function(e,t){return(0,i.mG)(this,void 0,void 0,(function(){var n,r;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:return(n=Qr(e)).asyncQueue.verifyOperationInProgress(),Kr("RemoteStore","RemoteStore received new credentials"),r=sl(n),n.Or.add(3),[4,el(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(t)];case 2:return i.sent(),n.Or.delete(3),[4,Xc(n)];case 3:return i.sent(),[2]}}))}))}(t.remoteStore,e)})),e.onlineComponents=t,[2]}}))}))}function Oh(e){return(0,i.mG)(this,void 0,void 0,(function(){return(0,i.Jh)(this,(function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(Kr("FirestoreClient","Using default OfflineComponentProvider"),[4,Nh(e,new Sh)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}}))}))}function Dh(e){return(0,i.mG)(this,void 0,void 0,(function(){return(0,i.Jh)(this,(function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(Kr("FirestoreClient","Using default OnlineComponentProvider"),[4,Ph(e,new kh)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}}))}))}function Lh(e){return Oh(e).then((function(e){return e.persistence}))}function Mh(e){return Oh(e).then((function(e){return e.localStore}))}function Fh(e){return Dh(e).then((function(e){return e.remoteStore}))}function qh(e){return Dh(e).then((function(e){return e.syncEngine}))}function jh(e){return(0,i.mG)(this,void 0,void 0,(function(){var t,n;return(0,i.Jh)(this,(function(r){switch(r.label){case 0:return[4,Dh(e)];case 1:return t=r.sent(),[2,((n=t.eventManager).onListen=Kl.bind(null,t.syncEngine),n.onUnlisten=Wl.bind(null,t.syncEngine),n)]}}))}))}function Uh(e,t,n){var r=this;void 0===n&&(n={});var o=new Ms;return e.asyncQueue.enqueueAndForget((function(){return(0,i.mG)(r,void 0,void 0,(function(){var r;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:return r=function(e,t,n,r,i){var o=new Ch({next:function(o){t.enqueueAndForget((function(){return Pl(e,a)}));var s=o.docs.has(n);!s&&o.fromCache?i.reject(new Hr(Vr.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new Hr(Vr.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(e){return i.reject(e)}}),a=new Ml(ho(n.path),o,{includeMetadataChanges:!0,so:!0});return Nl(e,a)},[4,jh(e)];case 1:return[2,r.apply(void 0,[i.sent(),e.asyncQueue,t,n,o])]}}))}))})),o.promise}function Bh(e,t,n){var r=this;void 0===n&&(n={});var o=new Ms;return e.asyncQueue.enqueueAndForget((function(){return(0,i.mG)(r,void 0,void 0,(function(){var r;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:return r=function(e,t,n,r,i){var o=new Ch({next:function(n){t.enqueueAndForget((function(){return Pl(e,a)})),n.fromCache&&"server"===r.source?i.reject(new Hr(Vr.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),a=new Ml(n,o,{includeMetadataChanges:!0,so:!0});return Nl(e,a)},[4,jh(e)];case 1:return[2,r.apply(void 0,[i.sent(),e.asyncQueue,t,n,o])]}}))}))})),o.promise}var Vh=function(e,t,n,r,i,o,a,s){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=s},Hh=function(){function e(e,t){this.projectId=e,this.database=t||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),Gh=new Map,zh=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},Kh=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e,t){this.changeListener=t,e.enqueueRetryable((function(){return t(Cc.UNAUTHENTICATED)}))},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),$h=function(){function e(e){this.token=e,this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(this.token)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),Wh=function(){function e(e){var t=this;this.currentUser=Cc.UNAUTHENTICATED,this.oc=new Ms,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){t.cc++,t.currentUser=t.ac(),t.oc.resolve(),t.changeListener&&t.asyncQueue.enqueueRetryable((function(){return t.changeListener(t.currentUser)}))};var n=function(e){Kr("FirebaseCredentialsProvider","Auth detected"),t.auth=e,t.auth.addAuthTokenListener(t.uc)};e.onInit((function(e){return n(e)})),setTimeout((function(){if(!t.auth){var r=e.getImmediate({optional:!0});r?n(r):(Kr("FirebaseCredentialsProvider","Auth not yet detected"),t.oc.resolve())}}),0)}return e.prototype.getToken=function(){var e=this,t=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.cc!==t?(Kr("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Yr("string"==typeof n.accessToken),new zh(n.accessToken,e.currentUser)):null})):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(e,t){var n=this;this.asyncQueue=e,this.asyncQueue.enqueueRetryable((function(){return(0,i.mG)(n,void 0,void 0,(function(){return(0,i.Jh)(this,(function(e){switch(e.label){case 0:return[4,this.oc.promise];case 1:return e.sent(),[4,t(this.currentUser)];case 2:return e.sent(),this.changeListener=t,[2]}}))}))}))},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},e.prototype.ac=function(){var e=this.auth&&this.auth.getUid();return Yr(null===e||"string"==typeof e),new Cc(e)},e}(),Jh=function(){function e(e,t,n){this.hc=e,this.lc=t,this.fc=n,this.type="FirstParty",this.user=Cc.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.lc},t=this.hc.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.fc&&(e["X-Goog-Iam-Authorization-Token"]=this.fc),e},enumerable:!1,configurable:!0}),e}(),Zh=function(){function e(e,t,n){this.hc=e,this.lc=t,this.fc=n}return e.prototype.getToken=function(){return Promise.resolve(new Jh(this.hc,this.lc,this.fc))},e.prototype.setChangeListener=function(e,t){e.enqueueRetryable((function(){return t(Cc.FIRST_PARTY)}))},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yh(e,t,n){if(!n)throw new Hr(Vr.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function Qh(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Hr(Vr.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function Xh(e,t,n,r){if(!0===t&&!0===r)throw new Hr(Vr.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function ef(e){if(!Ii.isDocumentKey(e))throw new Hr(Vr.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function tf(e){if(Ii.isDocumentKey(e))throw new Hr(Vr.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function nf(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){if(e.constructor){var t=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(t&&t.length>1)return t[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return"function"==typeof e?"a function":Zr()}function rf(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Hr(Vr.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=nf(e);throw new Hr(Vr.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function of(e,t){if(t<=0)throw new Hr(Vr.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var af=function(){function e(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Hr(Vr.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Hr(Vr.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Xh("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams},e}(),sf=function(){function e(e,t){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new af({}),this._settingsFrozen=!1,e instanceof Hh?(this._databaseId=e,this._credentials=new Kh):(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Hr(Vr.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hh(e.options.projectId)}(e),this._credentials=new Wh(t))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new Hr(Vr.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(e){if(this._settingsFrozen)throw new Hr(Vr.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new af(e),void 0!==e.credentials&&(this._credentials=function(e){if(!e)return new Kh;switch(e.type){case"gapi":var t=e.client;return Yr(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Zh(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Hr(Vr.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return e=this,(t=Gh.get(e))&&(Kr("ComponentProvider","Removing Datastore"),Gh.delete(e),t.terminate()),Promise.resolve();var e,t},e}(),uf=function(){function e(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new lf(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),cf=function(){function e(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),lf=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,ho(r))||this)._path=r,i.type="collection",i}return(0,i.ZT)(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._path.popLast();return e.isEmpty()?null:new uf(this.firestore,null,new Ii(e))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._path)},t}(cf);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hf(e,t){for(var n,r=[],a=2;a<arguments.length;a++)r[a-2]=arguments[a];if(e=(0,o.m9)(e),Yh("collection","path",t),e instanceof sf)return tf(n=li.fromString.apply(li,(0,i.ev)([t],r))),new lf(e,null,n);if(!(e instanceof uf||e instanceof lf))throw new Hr(Vr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return tf(n=li.fromString.apply(li,(0,i.ev)([e.path],r)).child(li.fromString(t))),new lf(e.firestore,null,n)}function ff(e,t){for(var n,r=[],a=2;a<arguments.length;a++)r[a-2]=arguments[a];if(e=(0,o.m9)(e),1===arguments.length&&(t=ei.u()),Yh("doc","path",t),e instanceof sf)return ef(n=li.fromString.apply(li,(0,i.ev)([t],r))),new uf(e,null,new Ii(n));if(!(e instanceof uf||e instanceof lf))throw new Hr(Vr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return ef(n=e._path.child(li.fromString.apply(li,(0,i.ev)([t],r)))),new uf(e.firestore,e instanceof lf?e.converter:null,new Ii(n))}function df(e,t){return e=(0,o.m9)(e),t=(0,o.m9)(t),(e instanceof uf||e instanceof lf)&&(t instanceof uf||t instanceof lf)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function pf(e,t){return e=(0,o.m9)(e),t=(0,o.m9)(t),e instanceof cf&&t instanceof cf&&e.firestore===t.firestore&&_o(e._query,t._query)&&e.converter===t.converter
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}var vf=function(){function e(){var e=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new Kc(this,"async_queue_retry"),this.Ic=function(){var t=Gc();t&&Kr("AsyncQueue","Visibility state changed to "+t.visibilityState),e.Zi.Gi()};var t=Gc();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(e){this.enqueue(e)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(e){this.Ac(),this.Rc(e)},e.prototype.enterRestrictedMode=function(e){if(!this._c){this._c=!0,this.Ec=e||!1;var t=Gc();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ic)}},e.prototype.enqueue=function(e){var t=this;if(this.Ac(),this._c)return new Promise((function(){}));var n=new Ms;return this.Rc((function(){return t._c&&t.Ec?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))},e.prototype.enqueueRetryable=function(e){var t=this;this.enqueueAndForget((function(){return t.wc.push(e),t.bc()}))},e.prototype.bc=function(){return(0,i.mG)(this,void 0,void 0,(function(){var e,t=this;return(0,i.Jh)(this,(function(n){switch(n.label){case 0:if(0===this.wc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return n.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!Vs(e=n.sent()))throw e;return Kr("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:this.wc.length>0&&this.Zi.ji((function(){return t.bc()})),n.label=5;case 5:return[2]}}))}))},e.prototype.Rc=function(e){var t=this,n=this.dc.then((function(){return t.gc=!0,e().catch((function(e){throw t.yc=e,t.gc=!1,$r("INTERNAL UNHANDLED ERROR: ",function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e})).then((function(e){return t.gc=!1,e}))}));return this.dc=n,n},e.prototype.enqueueAfterDelay=function(e,t,n){var r=this;this.Ac(),this.Tc.indexOf(e)>-1&&(t=0);var i=El.createAndSchedule(this,e,t,n,(function(e){return r.vc(e)}));return this.mc.push(i),i},e.prototype.Ac=function(){this.yc&&Zr()},e.prototype.verifyOperationInProgress=function(){},e.prototype.Pc=function(){return(0,i.mG)(this,void 0,void 0,(function(){var e;return(0,i.Jh)(this,(function(t){switch(t.label){case 0:return[4,e=this.dc];case 1:t.sent(),t.label=2;case 2:if(e!==this.dc)return[3,0];t.label=3;case 3:return[2]}}))}))},e.prototype.Vc=function(e){for(var t=0,n=this.mc;t<n.length;t++)if(n[t].timerId===e)return!0;return!1},e.prototype.Sc=function(e){var t=this;return this.Pc().then((function(){t.mc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));for(var n=0,r=t.mc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==e&&i.timerId===e)break}return t.Pc()}))},e.prototype.Dc=function(e){this.Tc.push(e)},e.prototype.vc=function(e){var t=this.mc.indexOf(e);this.mc.splice(t,1)},e}();function gf(e){return function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=e,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(e)}(function(){function e(){this._progressObserver={},this._taskCompletionResolver=new Ms,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}e.prototype.onProgress=function(e,t,n){this._progressObserver={next:e,error:t,complete:n}},e.prototype.catch=function(e){return this._taskCompletionResolver.promise.catch(e)},e.prototype.then=function(e,t){return this._taskCompletionResolver.promise.then(e,t)},e.prototype._completeWith=function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)},e.prototype._failWith=function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)},e.prototype._updateProgress=function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}})();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mf=-1,yf=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).type="firestore",r._queue=new vf,r._persistenceKey="name"in t?t.name:"[DEFAULT]",r}return(0,i.ZT)(t,e),t.prototype._terminate=function(){return this._firestoreClient||wf(this),this._firestoreClient.terminate()},t}(sf);function bf(e){return e._firestoreClient||wf(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function wf(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new Vh(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new Rh(e._credentials,e._queue,r)}function _f(e,t,n){var r=this,o=new Ms;return e.asyncQueue.enqueue((function(){return(0,i.mG)(r,void 0,void 0,(function(){var r;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),[4,Nh(e,n)];case 1:return i.sent(),[4,Ph(e,t)];case 2:return i.sent(),o.resolve(),[3,4];case 3:if(!function(e){return"FirebaseError"===e.name?e.code===Vr.FAILED_PRECONDITION||e.code===Vr.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(r=i.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),o.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return o.promise}))}function Tf(e){if(e._initialized||e._terminated)throw new Hr(Vr.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sf=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0;n<e.length;++n)if(0===e[n].length)throw new Hr(Vr.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new fi(e)}return e.prototype.isEqual=function(e){return this._internalPath.isEqual(e._internalPath)},e}(),Ef=function(){function e(e){this._byteString=e}return e.fromBase64String=function(t){try{return new e(pi.fromBase64String(t))}catch(t){throw new Hr(Vr.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}},e.fromUint8Array=function(t){return new e(pi.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(e){return this._byteString.isEqual(e._byteString)},e}(),If=function(e){this._methodName=e},kf=function(){function e(e,t){if(!isFinite(e)||e<-90||e>90)throw new Hr(Vr.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Hr(Vr.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(e){return ti(this._lat,e._lat)||ti(this._long,e._long)},e}(),Cf=/^__.*__$/,xf=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return null!==this.fieldMask?new Xo(e,this.data,this.fieldMask,t,this.fieldTransforms):new Qo(e,this.data,t,this.fieldTransforms)},e}(),Af=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return new Xo(e,this.data,this.fieldMask,t,this.fieldTransforms)},e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rf(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Zr()}}var Nf=function(){function e(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Cc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),e.prototype.xc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.kc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.xc({path:n,Fc:!1});return r.$c(e),r},e.prototype.Oc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.xc({path:n,Fc:!1});return r.Cc(),r},e.prototype.Mc=function(e){return this.xc({path:void 0,Fc:!0})},e.prototype.Lc=function(e){return Yf(e,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},e.prototype.contains=function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))},e.prototype.Cc=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.$c(this.path.get(e))},e.prototype.$c=function(e){if(0===e.length)throw this.Lc("Document fields must not be empty");if(Rf(this.Nc)&&Cf.test(e))throw this.Lc('Document fields cannot begin and end with "__"')},e}(),Pf=function(){function e(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.R=n||zc(e)}return e.prototype.Uc=function(e,t,n,r){return void 0===r&&(r=!1),new Nf({Nc:e,methodName:t,qc:n,path:fi.emptyPath(),Fc:!1,Bc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function Of(e){var t=e._freezeSettings(),n=zc(e._databaseId);return new Pf(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Df(e,t,n,r,i,o){void 0===o&&(o={});var a=e.Uc(o.merge||o.mergeFields?2:0,t,n,i);$f("Data must be an object, but it was:",a,r);var s,u,c=zf(r,a);if(o.merge)s=new di(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=Wf(t,f[h],n);if(!a.contains(d))throw new Hr(Vr.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");Qf(l,d)||l.push(d)}s=new di(l),u=a.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=a.fieldTransforms;return new xf(new Ui(c),s,u)}var Lf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,i.ZT)(t,e),t.prototype._toFieldTransform=function(e){if(2!==e.Nc)throw 1===e.Nc?e.Lc(this._methodName+"() can only appear at the top level of your update data"):e.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return e.fieldMask.push(e.path),null},t.prototype.isEqual=function(e){return e instanceof t},t}(If);function Mf(e,t,n){return new Nf({Nc:3,qc:t.settings.qc,methodName:e._methodName,Fc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var Ff=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,i.ZT)(t,e),t.prototype._toFieldTransform=function(e){return new Vo(e.path,new Do)},t.prototype.isEqual=function(e){return e instanceof t},t}(If),qf=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Kc=n,r}return(0,i.ZT)(t,e),t.prototype._toFieldTransform=function(e){var t=Mf(this,e,!0),n=this.Kc.map((function(e){return Gf(e,t)})),r=new Lo(n);return new Vo(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(If),jf=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Kc=n,r}return(0,i.ZT)(t,e),t.prototype._toFieldTransform=function(e){var t=Mf(this,e,!0),n=this.Kc.map((function(e){return Gf(e,t)})),r=new Fo(n);return new Vo(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(If),Uf=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Qc=n,r}return(0,i.ZT)(t,e),t.prototype._toFieldTransform=function(e){var t=new jo(e.R,Ao(e.R,this.Qc));return new Vo(e.path,t)},t.prototype.isEqual=function(e){return this===e},t}(If);function Bf(e,t,n,r){var i=e.Uc(1,t,n);$f("Data must be an object, but it was:",i,r);var a=[],s=Ui.empty();si(r,(function(e,r){var u=Zf(t,e,n);r=(0,o.m9)(r);var c=i.Oc(u);if(r instanceof Lf)a.push(u);else{var l=Gf(r,c);null!=l&&(a.push(u),s.set(u,l))}}));var u=new di(a);return new Af(s,u,i.fieldTransforms)}function Vf(e,t,n,r,i,a){var s=e.Uc(1,t,n),u=[Wf(t,r,n)],c=[i];if(a.length%2!=0)throw new Hr(Vr.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var l=0;l<a.length;l+=2)u.push(Wf(t,a[l])),c.push(a[l+1]);for(var h=[],f=Ui.empty(),d=u.length-1;d>=0;--d)if(!Qf(h,u[d])){var p=u[d],v=c[d];v=(0,o.m9)(v);var g=s.Oc(p);if(v instanceof Lf)h.push(p);else{var m=Gf(v,g);null!=m&&(h.push(p),f.set(p,m))}}var y=new di(h);return new Af(f,y,s.fieldTransforms)}function Hf(e,t,n,r){return void 0===r&&(r=!1),Gf(n,e.Uc(r?4:3,t))}function Gf(e,t){if(Kf(e=(0,o.m9)(e)))return $f("Unsupported field value:",t,e),zf(e,t);if(e instanceof If)return function(e,t){if(!Rf(t.Nc))throw t.Lc(e._methodName+"() can only be used with update() and set()");if(!t.path)throw t.Lc(e._methodName+"() is not currently supported inside arrays");var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&4!==t.Nc)throw t.Lc("Nested arrays are not supported");return function(e,t){for(var n=[],r=0,i=0,o=e;i<o.length;i++){var a=Gf(o[i],t.Mc(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=(0,o.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Ao(t.R,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=ii.fromDate(e);return{timestampValue:Fa(t.R,n)}}if(e instanceof ii)return n=new ii(e.seconds,1e3*Math.floor(e.nanoseconds/1e3)),{timestampValue:Fa(t.R,n)};if(e instanceof kf)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Ef)return{bytesValue:qa(t.R,e._byteString)};if(e instanceof uf){n=t.databaseId;var r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Lc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Ba(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Lc("Unsupported field value: "+nf(e))}(e,t)}function zf(e,t){var n={};return ui(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):si(e,(function(e,r){var i=Gf(r,t.kc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Kf(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof ii||e instanceof kf||e instanceof Ef||e instanceof uf||e instanceof If)}function $f(e,t,n){if(!Kf(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=nf(n);throw"an object"===r?t.Lc(e+" a custom object"):t.Lc(e+" "+r)}}function Wf(e,t,n){if((t=(0,o.m9)(t))instanceof Sf)return t._internalPath;if("string"==typeof t)return Zf(e,t);throw Yf("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var Jf=new RegExp("[~\\*/\\[\\]]");function Zf(e,t,n){if(t.search(Jf)>=0)throw Yf("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return(new(Sf.bind.apply(Sf,(0,i.ev)([void 0],t.split(".")))))._internalPath}catch(r){throw Yf("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function Yf(e,t,n,r,i){var o=r&&!r.isEmpty(),a=void 0!==i,s="Function "+t+"() called with invalid data";n&&(s+=" (via `toFirestore()`)");var u="";return(o||a)&&(u+=" (found",o&&(u+=" in field "+r),a&&(u+=" in document "+i),u+=")"),new Hr(Vr.INVALID_ARGUMENT,(s+=". ")+e+u)}function Qf(e,t){return e.some((function(e){return e.isEqual(t)}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xf=function(){function e(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new uf(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return null!==this._document},e.prototype.data=function(){if(this._document){if(this._converter){var e=new ed(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}},e.prototype.get=function(e){if(this._document){var t=this._document.data.field(td("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}},e}(),ed=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,i.ZT)(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(Xf);function td(e,t){return"string"==typeof t?Zf(e,t):t instanceof Sf?t._internalPath:t._delegate._internalPath}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nd=function(){function e(e,t){this.hasPendingWrites=e,this.fromCache=t}return e.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},e}(),rd=function(e){function t(t,n,r,i,o,a){var s=this;return(s=e.call(this,t,n,r,i,a)||this)._firestore=t,s._firestoreImpl=t,s.metadata=o,s}return(0,i.ZT)(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(e){if(void 0===e&&(e={}),this._document){if(this._converter){var t=new id(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}},t.prototype.get=function(e,t){if(void 0===t&&(t={}),this._document){var n=this._document.data.field(td("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}},t}(Xf),id=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,i.ZT)(t,e),t.prototype.data=function(t){return void 0===t&&(t={}),e.prototype.data.call(this,t)},t}(rd),od=function(){function e(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new nd(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(e.prototype,"docs",{get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new id(n._firestore,n._userDataWriter,r.key,r,new nd(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))},e.prototype.docChanges=function(e){void 0===e&&(e={});var t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Hr(Vr.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new id(e._firestore,e._userDataWriter,t.doc.key,t.doc,new nd(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new id(e._firestore,e._userDataWriter,t.doc.key,t.doc,new nd(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,o=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(o=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:ad(t.type),doc:n,oldIndex:i,newIndex:o}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges},e}();function ad(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Zr()}}function sd(e,t){return e instanceof rd&&t instanceof rd?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof od&&t instanceof od&&e._firestore===t._firestore&&pf(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ud(e){if(po(e)&&0===e.explicitOrderBy.length)throw new Hr(Vr.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var cd=function(){};function ld(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++){var o=i[r];e=o._apply(e)}return e}var hd=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).jc=t,i.Wc=n,i.Gc=r,i.type="where",i}return(0,i.ZT)(t,e),t.prototype._apply=function(e){var t=Of(e.firestore),n=function(e,t,n,r,i,o,a){var s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Hr(Vr.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){yd(a,o);for(var u=[],c=0,l=a;c<l.length;c++){var h=l[c];u.push(md(r,e,h))}s={arrayValue:{values:u}}}else s=md(r,e,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||yd(a,o),s=Hf(n,"where",a,"in"===o||"not-in"===o);var f=Wi.create(i,o,s);return function(e,t){if(t.g()){var n=go(e);if(null!==n&&!n.isEqual(t.field))throw new Hr(Vr.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+t.field.toString()+"'");var r=vo(e);null!==r&&bd(e,t.field,r)}var i=function(e,t){for(var n=0,r=e.filters;n<r.length;n++){var i=r[n];if(t.indexOf(i.op)>=0)return i.op}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new Hr(Vr.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter."):new Hr(Vr.INVALID_ARGUMENT,"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+i.toString()+"' filters.")}(e,f),f}(e._query,0,t,e.firestore._databaseId,this.jc,this.Wc,this.Gc);return new cf(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new co(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))},t}(cd),fd=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).jc=t,r.zc=n,r.type="orderBy",r}return(0,i.ZT)(t,e),t.prototype._apply=function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Hr(Vr.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Hr(Vr.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new oo(t,n);return function(e,t){if(null===vo(e)){var n=go(e);null!==n&&bd(e,n,t.field)}}(e,r),r}(e._query,this.jc,this.zc);return new cf(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new co(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))},t}(cd),dd=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Hc=n,i.Jc=r,i}return(0,i.ZT)(t,e),t.prototype._apply=function(e){return new cf(e.firestore,e.converter,wo(e._query,this.Hc,this.Jc))},t}(cd),pd=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Yc=n,i.Xc=r,i}return(0,i.ZT)(t,e),t.prototype._apply=function(e){var t=gd(e,this.type,this.Yc,this.Xc);return new cf(e.firestore,e.converter,function(e,t){return new co(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))},t}(cd),vd=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Yc=n,i.Xc=r,i}return(0,i.ZT)(t,e),t.prototype._apply=function(e){var t=gd(e,this.type,this.Yc,this.Xc);return new cf(e.firestore,e.converter,function(e,t){return new co(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))},t}(cd);function gd(e,t,n,r){if(n[0]=(0,o.m9)(n[0]),n[0]instanceof Xf)return function(e,t,n,r,i){if(!r)throw new Hr(Vr.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,s=yo(e);a<s.length;a++){var u=s[a];if(u.field.isKeyField())o.push(Oi(t,r.key));else{var c=r.data.field(u.field);if(bi(c))throw new Hr(Vr.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new Hr(Vr.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new ro(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=Of(e.firestore);return function(e,t,n,r,i,o){var a=e.explicitOrderBy;if(i.length>a.length)throw new Hr(Vr.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],u=0;u<i.length;u++){var c=i[u];if(a[u].field.isKeyField()){if("string"!=typeof c)throw new Hr(Vr.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!mo(e)&&-1!==c.indexOf("/"))throw new Hr(Vr.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=e.path.child(li.fromString(c));if(!Ii.isDocumentKey(l))throw new Hr(Vr.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new Ii(l);s.push(Oi(t,h))}else{var f=Hf(n,r,c);s.push(f)}}return new ro(s,o)}(e._query,e.firestore._databaseId,i,t,n,r)}function md(e,t,n){if("string"==typeof(n=(0,o.m9)(n))){if(""===n)throw new Hr(Vr.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!mo(t)&&-1!==n.indexOf("/"))throw new Hr(Vr.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child(li.fromString(n));if(!Ii.isDocumentKey(r))throw new Hr(Vr.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Oi(e,new Ii(r))}if(n instanceof uf)return Oi(e,n._key);throw new Hr(Vr.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+nf(n)+".")}function yd(e,t){if(!Array.isArray(e)||0===e.length)throw new Hr(Vr.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new Hr(Vr.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function bd(e,t,n){if(!n.isEqual(t))throw new Hr(Vr.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wd=function(){function e(){}return e.prototype.convertValue=function(e,t){switch(void 0===t&&(t="none"),ki(e)){case 0:return null;case 1:return e.booleanValue;case 2:return mi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(yi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Zr()}},e.prototype.convertObject=function(e,t){var n=this,r={};return si(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r},e.prototype.convertGeoPoint=function(e){return new kf(mi(e.latitude),mi(e.longitude))},e.prototype.convertArray=function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))},e.prototype.convertServerTimestamp=function(e,t){switch(t){case"previous":var n=wi(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(_i(e));default:return null}},e.prototype.convertTimestamp=function(e){var t=gi(e);return new ii(t.seconds,t.nanos)},e.prototype.convertDocumentKey=function(e,t){var n=li.fromString(e);Yr(fs(n));var r=new Hh(n.get(1),n.get(3)),i=new Ii(n.popFirst(5));return r.isEqual(t)||$r("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+t.projectId+"/"+t.database+") instead."),i},e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _d(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var Td=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return(0,i.ZT)(t,e),t.prototype.convertBytes=function(e){return new Ef(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new uf(this.firestore,null,t)},t}(wd),Sd=function(){function e(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Of(e)}return e.prototype.set=function(e,t,n){this._verifyNotCommitted();var r=Ed(e,this._firestore),i=_d(r.converter,t,n),o=Df(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,Go.none())),this},e.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var a,s=Ed(e,this._firestore);return a="string"==typeof(t=(0,o.m9)(t))||t instanceof Sf?Vf(this._dataReader,"WriteBatch.update",s._key,t,n,r):Bf(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(a.toMutation(s._key,Go.exists(!0))),this},e.prototype.delete=function(e){this._verifyNotCommitted();var t=Ed(e,this._firestore);return this._mutations=this._mutations.concat(new oa(t._key,Go.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new Hr(Vr.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ed(e,t){if((e=(0,o.m9)(e)).firestore!==t)throw new Hr(Vr.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Id=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return(0,i.ZT)(t,e),t.prototype.convertBytes=function(e){return new Ef(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new uf(this.firestore,null,t)},t}(wd);function kd(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];e=rf(e,uf);var a=rf(e.firestore,yf),s=Of(a);return xd(a,[("string"==typeof(t=(0,o.m9)(t))||t instanceof Sf?Vf(s,"updateDoc",e._key,t,n,r):Bf(s,"updateDoc",e._key,t)).toMutation(e._key,Go.exists(!0))])}function Cd(e){for(var t,n,r,a=[],s=1;s<arguments.length;s++)a[s-1]=arguments[s];e=(0,o.m9)(e);var u={includeMetadataChanges:!1},c=0;"object"!=typeof a[c]||gf(a[c])||(u=a[c],c++);var l,h,f,d={includeMetadataChanges:u.includeMetadataChanges};if(gf(a[c])){var p=a[c];a[c]=null===(t=p.next)||void 0===t?void 0:t.bind(p),a[c+1]=null===(n=p.error)||void 0===n?void 0:n.bind(p),a[c+2]=null===(r=p.complete)||void 0===r?void 0:r.bind(p)}if(e instanceof uf)h=rf(e.firestore,yf),f=ho(e._key.path),l={next:function(t){a[c]&&a[c](Ad(h,e,t))},error:a[c+1],complete:a[c+2]};else{var v=rf(e,cf);h=rf(v.firestore,yf),f=v._query;var g=new Id(h);l={next:function(e){a[c]&&a[c](new od(h,g,v,e))},error:a[c+1],complete:a[c+2]},ud(e._query)}return function(e,t,n,r){var o=this,a=new Ch(r),s=new Ml(t,a,n);return e.asyncQueue.enqueueAndForget((function(){return(0,i.mG)(o,void 0,void 0,(function(){var t;return(0,i.Jh)(this,(function(n){switch(n.label){case 0:return t=Nl,[4,jh(e)];case 1:return[2,t.apply(void 0,[n.sent(),s])]}}))}))})),function(){a.Wo(),e.asyncQueue.enqueueAndForget((function(){return(0,i.mG)(o,void 0,void 0,(function(){var t;return(0,i.Jh)(this,(function(n){switch(n.label){case 0:return t=Pl,[4,jh(e)];case 1:return[2,t.apply(void 0,[n.sent(),s])]}}))}))}))}}(bf(h),f,d,l)}function xd(e,t){return function(e,t){var n=this,r=new Ms;return e.asyncQueue.enqueueAndForget((function(){return(0,i.mG)(n,void 0,void 0,(function(){var n;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:return n=Jl,[4,qh(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(bf(e),t)}function Ad(e,t,n){var r=n.docs.get(t._key),i=new Id(e);return new rd(e,i,t._key,r,new nd(n.hasPendingWrites,n.fromCache),t.converter)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rd=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this)._firestore=t,r}return(0,i.ZT)(t,e),t.prototype.get=function(t){var n=this,r=Ed(t,this._firestore),i=new Id(this._firestore);return e.prototype.get.call(this,t).then((function(e){return new rd(n._firestore,i,r._key,e._document,new nd(!1,!1),r.converter)}))},t}(function(){function e(e,t){this._firestore=e,this._transaction=t,this._dataReader=Of(e)}return e.prototype.get=function(e){var t=this,n=Ed(e,this._firestore),r=new Td(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Zr();var i=e[0];if(i.isFoundDocument())return new Xf(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new Xf(t._firestore,r,n._key,null,n.converter);throw Zr()}))},e.prototype.set=function(e,t,n){var r=Ed(e,this._firestore),i=_d(r.converter,t,n),o=Df(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},e.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var a,s=Ed(e,this._firestore);return a="string"==typeof(t=(0,o.m9)(t))||t instanceof Sf?Vf(this._dataReader,"Transaction.update",s._key,t,n,r):Bf(this._dataReader,"Transaction.update",s._key,t),this._transaction.update(s._key,a),this},e.prototype.delete=function(e){var t=Ed(e,this._firestore);return this._transaction.delete(t._key),this},e}());
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nd(){if("undefined"==typeof Uint8Array)throw new Hr(Vr.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Pd(){if("undefined"==typeof atob)throw new Hr(Vr.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Od=function(){function e(e){this._delegate=e}return e.fromBase64String=function(t){return Pd(),new e(Ef.fromBase64String(t))},e.fromUint8Array=function(t){return Nd(),new e(Ef.fromUint8Array(t))},e.prototype.toBase64=function(){return Pd(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return Nd(),this._delegate.toUint8Array()},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),Dd=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(e,t){return function(e,t){Tf(e=rf(e,yf));var n=bf(e),r=e._freezeSettings(),i=new kh;return _f(n,i,new Eh(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})},e.prototype.enableMultiTabIndexedDbPersistence=function(e){return function(e){Tf(e=rf(e,yf));var t=bf(e),n=e._freezeSettings(),r=new kh;return _f(t,r,new Ih(r,n.cacheSizeBytes))}(e._delegate)},e.prototype.clearIndexedDbPersistence=function(e){return function(e){var t=this;if(e._initialized&&!e._terminated)throw new Hr(Vr.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Ms;return e._queue.enqueueAndForgetEvenWhileRestricted((function(){return(0,i.mG)(t,void 0,void 0,(function(){var t;return(0,i.Jh)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(e){return(0,i.mG)(this,void 0,void 0,(function(){var t;return(0,i.Jh)(this,(function(n){switch(n.label){case 0:return js.yt()?(t=e+"main",[4,js.delete(t)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(Zu(e._databaseId,e._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return t=r.sent(),n.reject(t),[3,3];case 3:return[2]}}))}))})),n.promise}(e._delegate)},e}(),Ld=function(){function e(e,t,n){var r=this;this._delegate=t,this.Zc=n,this.INTERNAL={delete:function(){return r.terminate()}},e instanceof Hh||(this.tu=e)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Wr("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)},e.prototype.useEmulator=function(e,t,n){void 0===n&&(n={}),function(e,t,n,r){var i;void 0===r&&(r={});var a=(e=rf(e,sf))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&Wr("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:t+":"+n,ssl:!1})),r.mockUserToken){var s,u;if("string"==typeof r.mockUserToken)s=r.mockUserToken,u=Cc.MOCK_USER;else{s=(0,o.Sg)(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);var c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new Hr(Vr.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Cc(c)}e._credentials=new $h(new zh(s,u))}}(this._delegate,e,t,n)},e.prototype.enableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return(0,i.mG)(t,void 0,void 0,(function(){var t,n;return(0,i.Jh)(this,(function(r){switch(r.label){case 0:return[4,Lh(e)];case 1:return t=r.sent(),[4,Fh(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!0),function(e){var t=Qr(e);return t.Or.delete(0),Xc(t)}(n))]}}))}))}))}(bf(rf(this._delegate,yf)))},e.prototype.disableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return(0,i.mG)(t,void 0,void 0,(function(){var t,n;return(0,i.Jh)(this,(function(r){switch(r.label){case 0:return[4,Lh(e)];case 1:return t=r.sent(),[4,Fh(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!1),function(e){return(0,i.mG)(this,void 0,void 0,(function(){var t;return(0,i.Jh)(this,(function(n){switch(n.label){case 0:return(t=Qr(e)).Or.add(0),[4,el(t)];case 1:return n.sent(),t.Br.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(bf(rf(this._delegate,yf)))},e.prototype.enablePersistence=function(e){var t=!1,n=!1;return e&&Xh("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(e){var t=this,n=new Ms;return e.asyncQueue.enqueueAndForget((function(){return(0,i.mG)(t,void 0,void 0,(function(){var t;return(0,i.Jh)(this,(function(r){switch(r.label){case 0:return t=th,[4,qh(e)];case 1:return[2,t.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(bf(rf(this._delegate,yf)))},e.prototype.onSnapshotsInSync=function(e){return function(e,t){return function(e,t){var n=this,r=new Ch(t);return e.asyncQueue.enqueueAndForget((function(){return(0,i.mG)(n,void 0,void 0,(function(){var t;return(0,i.Jh)(this,(function(n){switch(n.label){case 0:return t=function(e,t){Qr(e).Gr.add(t),t.next()},[4,jh(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.Wo(),e.asyncQueue.enqueueAndForget((function(){return(0,i.mG)(n,void 0,void 0,(function(){var t;return(0,i.Jh)(this,(function(n){switch(n.label){case 0:return t=function(e,t){Qr(e).Gr.delete(t)},[4,jh(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}}))}))}))}}(bf(e=rf(e,yf)),gf(t)?t:{next:t})}(this._delegate,e)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.tu)throw new Hr(Vr.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new Zd(this,hf(this._delegate,e))}catch(e){throw Vd(e,"collection()","Firestore.collection()")}},e.prototype.doc=function(e){try{return new Bd(this,ff(this._delegate,e))}catch(e){throw Vd(e,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(e){try{return new $d(this,function(e,t){if(e=rf(e,sf),Yh("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Hr(Vr.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new cf(e,null,function(e){return new co(li.emptyPath(),e)}(t))}(this._delegate,e))}catch(e){throw Vd(e,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(e){var t=this;return function(e,t){return function(e,t){var n=this,r=new Ms;return e.asyncQueue.enqueueAndForget((function(){return(0,i.mG)(n,void 0,void 0,(function(){var n;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:return[4,function(e){return Dh(e).then((function(e){return e.datastore}))}(e)];case 1:return n=i.sent(),new Ah(e.asyncQueue,n,t,r).run(),[2]}}))}))})),r.promise}(bf(e),(function(n){return t(new Rd(e,n))}))}(this._delegate,(function(n){return e(new qd(t,n))}))},e.prototype.batch=function(){var e=this;return bf(this._delegate),new jd(new Sd(this._delegate,(function(t){return xd(e._delegate,t)})))},e.prototype.loadBundle=function(e){throw new Hr(Vr.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(e){throw new Hr(Vr.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),Md=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return(0,i.ZT)(t,e),t.prototype.convertBytes=function(e){return new Od(new Ef(e))},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return Bd.eu(t,this.firestore,null)},t}(wd);function Fd(e){var t;t=e,Gr.setLogLevel(t)}var qd=function(){function e(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Md(e)}return e.prototype.get=function(e){var t=this,n=Yd(e);return this._delegate.get(n).then((function(e){return new zd(t._firestore,new rd(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))},e.prototype.set=function(e,t,n){var r=Yd(e);return n?(Qh("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},e.prototype.update=function(e,t,n){for(var r,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];var s=Yd(e);return 2===arguments.length?this._delegate.update(s,t):(r=this._delegate).update.apply(r,(0,i.ev)([s,t,n],o)),this},e.prototype.delete=function(e){var t=Yd(e);return this._delegate.delete(t),this},e}(),jd=function(){function e(e){this._delegate=e}return e.prototype.set=function(e,t,n){var r=Yd(e);return n?(Qh("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},e.prototype.update=function(e,t,n){for(var r,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];var s=Yd(e);return 2===arguments.length?this._delegate.update(s,t):(r=this._delegate).update.apply(r,(0,i.ev)([s,t,n],o)),this},e.prototype.delete=function(e){var t=Yd(e);return this._delegate.delete(t),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),Ud=function(){function e(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}return e.prototype.fromFirestore=function(e,t){var n=new id(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Kd(this._firestore,n),null!=t?t:{})},e.prototype.toFirestore=function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)},e.nu=function(t,n){var r=e.su,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var o=i.get(n);return o||(o=new e(t,new Md(t),n),i.set(n,o)),o},e}();Ud.su=new WeakMap;var Bd=function(){function e(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Md(e)}return e.iu=function(t,n,r){if(t.length%2!=0)throw new Hr(Vr.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new uf(n._delegate,r,new Ii(t)))},e.eu=function(t,n,r){return new e(n,new uf(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Zd(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new Zd(this.firestore,hf(this._delegate,e))}catch(e){throw Vd(e,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(e){return(e=(0,o.m9)(e))instanceof uf&&df(this._delegate,e)},e.prototype.set=function(e,t){t=Qh("DocumentReference.set",t);try{return function(e,t,n){e=rf(e,uf);var r=rf(e.firestore,yf),i=_d(e.converter,t,n);return xd(r,[Df(Of(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Go.none())])}(this._delegate,e,t)}catch(e){throw Vd(e,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?kd(this._delegate,e):kd.apply(void 0,(0,i.ev)([this._delegate,e,t],n))}catch(e){throw Vd(e,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return xd(rf((e=this._delegate).firestore,yf),[new oa(e._key,Go.none())]);var e},e.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=Hd(t),i=Gd(t,(function(t){return new zd(e.firestore,new rd(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return Cd(this._delegate,r,i)},e.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=rf(e,uf);var t=rf(e.firestore,yf),n=bf(t),r=new Id(t);return function(e,t){var n=this,r=new Ms;return e.asyncQueue.enqueueAndForget((function(){return(0,i.mG)(n,void 0,void 0,(function(){var n;return(0,i.Jh)(this,(function(o){switch(o.label){case 0:return n=function(e,t,n){return(0,i.mG)(this,void 0,void 0,(function(){var r,o;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,function(e,t){var n=Qr(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.Mn.mn(e,t)}))}(e,t)];case 1:return(o=i.sent()).isFoundDocument()?n.resolve(o):o.isNoDocument()?n.resolve(null):n.reject(new Hr(Vr.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=i.sent(),o=Il(r,"Failed to get document '"+t+" from cache"),n.reject(o),[3,3];case 3:return[2]}}))}))},[4,Mh(e)];case 1:return[2,n.apply(void 0,[o.sent(),t,r])]}}))}))})),r.promise}(n,e._key).then((function(n){return new rd(t,r,e._key,n,new nd(null!==n&&n.hasLocalMutations,!0),e.converter)}))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=rf(e,uf);var t=rf(e.firestore,yf);return Uh(bf(t),e._key,{source:"server"}).then((function(n){return Ad(t,e,n)}))}(this._delegate):function(e){e=rf(e,uf);var t=rf(e.firestore,yf);return Uh(bf(t),e._key).then((function(n){return Ad(t,e,n)}))}(this._delegate)).then((function(e){return new zd(t.firestore,new rd(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}))},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Ud.nu(this.firestore,t)):this._delegate.withConverter(null))},e}();function Vd(e,t,n){return e.message=e.message.replace(t,n),e}function Hd(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if("object"==typeof r&&!gf(r))return r}return{}}function Gd(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=gf(e[0])?e[0]:gf(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var zd=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"ref",{get:function(){return new Bd(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(e){return this._delegate.data(e)},e.prototype.get=function(e,t){return this._delegate.get(e,t)},e.prototype.isEqual=function(e){return sd(this._delegate,e._delegate)},e}(),Kd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,i.ZT)(t,e),t.prototype.data=function(e){return this._delegate.data(e)},t}(zd),$d=function(){function e(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Md(e)}return e.prototype.where=function(t,n,r){try{return new e(this.firestore,ld(this._delegate,function(e,t,n){var r=t,i=td("where",e);return new hd(i,r,n)}(t,n,r)))}catch(t){throw Vd(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,ld(this._delegate,function(e,t){void 0===t&&(t="asc");var n=t,r=td("orderBy",e);return new fd(r,n)}(t,n)))}catch(t){throw Vd(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,ld(this._delegate,function(e){return of("limit",e),new dd("limit",e,"F")}(t)))}catch(t){throw Vd(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,ld(this._delegate,function(e){return of("limitToLast",e),new dd("limitToLast",e,"L")}(t)))}catch(t){throw Vd(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,ld(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new pd("startAt",e,!0)}.apply(void 0,t)))}catch(t){throw Vd(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,ld(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new pd("startAfter",e,!1)}.apply(void 0,t)))}catch(t){throw Vd(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,ld(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new vd("endBefore",e,!0)}.apply(void 0,t)))}catch(t){throw Vd(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,ld(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new vd("endAt",e,!1)}.apply(void 0,t)))}catch(t){throw Vd(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(e){return pf(this._delegate,e._delegate)},e.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=rf(e,cf);var t=rf(e.firestore,yf),n=bf(t),r=new Id(t);return function(e,t){var n=this,r=new Ms;return e.asyncQueue.enqueueAndForget((function(){return(0,i.mG)(n,void 0,void 0,(function(){var n;return(0,i.Jh)(this,(function(o){switch(o.label){case 0:return n=function(e,t,n){return(0,i.mG)(this,void 0,void 0,(function(){var r,o,a,s,u;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,hc(e,t,!0)];case 1:return u=i.sent(),r=new Vl(t,u.Bn),o=r._o(u.documents),a=r.applyChanges(o,!1),n.resolve(a.snapshot),[3,3];case 2:return s=i.sent(),u=Il(s,"Failed to execute query '"+t+" against cache"),n.reject(u),[3,3];case 3:return[2]}}))}))},[4,Mh(e)];case 1:return[2,n.apply(void 0,[o.sent(),t,r])]}}))}))})),r.promise}(n,e._query).then((function(n){return new od(t,r,e,n)}))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=rf(e,cf);var t=rf(e.firestore,yf),n=bf(t),r=new Id(t);return Bh(n,e._query,{source:"server"}).then((function(n){return new od(t,r,e,n)}))}(this._delegate):function(e){e=rf(e,cf);var t=rf(e.firestore,yf),n=bf(t),r=new Id(t);return ud(e._query),Bh(n,e._query).then((function(n){return new od(t,r,e,n)}))}(this._delegate)).then((function(e){return new Jd(t.firestore,new od(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}))},e.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=Hd(t),i=Gd(t,(function(t){return new Jd(e.firestore,new od(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return Cd(this._delegate,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Ud.nu(this.firestore,t)):this._delegate.withConverter(null))},e}(),Wd=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new Kd(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),Jd=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"query",{get:function(){return new $d(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var e=this;return this._delegate.docs.map((function(t){return new Kd(e._firestore,t)}))},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new Wd(t._firestore,e)}))},e.prototype.forEach=function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new Kd(n._firestore,r))}))},e.prototype.isEqual=function(e){return sd(this._delegate,e._delegate)},e}(),Zd=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).firestore=t,r._delegate=n,r}return(0,i.ZT)(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return e?new Bd(this.firestore,e):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(e){try{return new Bd(this.firestore,void 0===e?ff(this._delegate):ff(this._delegate,e))}catch(e){throw Vd(e,"doc()","CollectionReference.doc()")}},t.prototype.add=function(e){var t=this;return function(e,t){var n=rf(e.firestore,yf),r=ff(e),i=_d(e.converter,t);return xd(n,[Df(Of(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Go.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new Bd(t.firestore,e)}))},t.prototype.isEqual=function(e){return df(this._delegate,e._delegate)},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(Ud.nu(this.firestore,e)):this._delegate.withConverter(null))},t}($d);function Yd(e){return rf(e,uf)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qd=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._delegate=new(Sf.bind.apply(Sf,(0,i.ev)([void 0],e)))}return e.documentId=function(){return new e(fi.keyField().canonicalString())},e.prototype.isEqual=function(e){return(e=(0,o.m9)(e))instanceof Sf&&this._delegate._internalPath.isEqual(e._internalPath)},e}(),Xd=function(){function e(e){this._delegate=e}return e.serverTimestamp=function(){var t=new Ff("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new Lf("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new qf("arrayUnion",e)}.apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new jf("arrayRemove",e)}.apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(e){return new Uf("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ep=n(7429),tp={Firestore:Ld,GeoPoint:kf,Timestamp:ii,Blob:Od,Transaction:qd,WriteBatch:jd,DocumentReference:Bd,DocumentSnapshot:zd,Query:$d,QueryDocumentSnapshot:Kd,QuerySnapshot:Jd,CollectionReference:Zd,FieldPath:Qd,FieldValue:Xd,setLogLevel:Fd,CACHE_SIZE_UNLIMITED:mf};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function np(e){!function(e,t){e.INTERNAL.registerComponent(new ep.wA("firestore",(function(e){var n=e.getProvider("app").getImmediate();return t(n,e.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},tp)))}(e,(function(e,t){return new Ld(e,new yf(e,t),new Dd)})),e.registerVersion("@firebase/firestore","2.4.0")}np(r.Z)},8819:(e,t,n)=>{"use strict";var r,i=n(8785),o=n(7429),a=n(8430),s=n(2849),u=n(3968),c="@firebase/installations",l="0.4.32",h=1e4,f="w:"+l,d="FIS_v2",p="https://firebaseinstallations.googleapis.com/v1",v=36e5,g="installations",m="Installations",y=(r={},r["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',r["not-registered"]="Firebase Installation is not registered.",r["installation-not-found"]="Firebase Installation not found.",r["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',r["app-offline"]="Could not process request. Application offline.",r["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",r),b=new s.LL(g,m,y);function w(e){return e instanceof s.ZR&&e.code.includes("request-failed")}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _(e){var t=e.projectId;return p+"/projects/"+t+"/installations"}function T(e){return{token:e.token,requestStatus:2,expiresIn:C(e.expiresIn),creationTime:Date.now()}}function S(e,t){return(0,a.mG)(this,void 0,void 0,(function(){var n,r;return(0,a.Jh)(this,(function(i){switch(i.label){case 0:return[4,t.json()];case 1:return n=i.sent(),r=n.error,[2,b.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}}))}))}function E(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function I(e,t){var n=t.refreshToken,r=E(e);return r.append("Authorization",x(n)),r}function k(e){return(0,a.mG)(this,void 0,void 0,(function(){var t;return(0,a.Jh)(this,(function(n){switch(n.label){case 0:return[4,e()];case 1:return t=n.sent(),t.status>=500&&t.status<600?[2,e()]:[2,t]}}))}))}function C(e){return Number(e.replace("s","000"))}function x(e){return d+" "+e}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A(e,t){var n=t.fid;return(0,a.mG)(this,void 0,void 0,(function(){var t,r,i,o,s,u,c;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:return t=_(e),r=E(e),i={fid:n,authVersion:d,appId:e.appId,sdkVersion:f},o={method:"POST",headers:r,body:JSON.stringify(i)},[4,k((function(){return fetch(t,o)}))];case 1:return s=a.sent(),s.ok?[4,s.json()]:[3,3];case 2:return u=a.sent(),c={fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:T(u.authToken)},[2,c];case 3:return[4,S("Create Installation",s)];case 4:throw a.sent()}}))}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R(e){return new Promise((function(t){setTimeout(t,e)}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N(e){var t=btoa(String.fromCharCode.apply(String,(0,a.ev)([],(0,a.CR)(e))));return t.replace(/\+/g,"-").replace(/\//g,"_")}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var P=/^[cdef][\w-]{21}$/,O="";function D(){try{var e=new Uint8Array(17),t=self.crypto||self.msCrypto;t.getRandomValues(e),e[0]=112+e[0]%16;var n=L(e);return P.test(n)?n:O}catch(r){return O}}function L(e){var t=N(e);return t.substr(0,22)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M(e){return e.appName+"!"+e.appId}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var F=new Map;function q(e,t){var n=M(e);B(n,t),V(n,t)}function j(e,t){G();var n=M(e),r=F.get(n);r||(r=new Set,F.set(n,r)),r.add(t)}function U(e,t){var n=M(e),r=F.get(n);r&&(r.delete(t),0===r.size&&F.delete(n),z())}function B(e,t){var n,r,i=F.get(e);if(i)try{for(var o=(0,a.XA)(i),s=o.next();!s.done;s=o.next()){var u=s.value;u(t)}}catch(c){n={error:c}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}function V(e,t){var n=G();n&&n.postMessage({key:e,fid:t}),z()}var H=null;function G(){return!H&&"BroadcastChannel"in self&&(H=new BroadcastChannel("[Firebase] FID Change"),H.onmessage=function(e){B(e.data.key,e.data.fid)}),H}function z(){0===F.size&&H&&(H.close(),H=null)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var K,$="firebase-installations-database",W=1,J="firebase-installations-store",Z=null;function Y(){return Z||(Z=(0,u.openDb)($,W,(function(e){switch(e.oldVersion){case 0:e.createObjectStore(J)}}))),Z}function Q(e,t){return(0,a.mG)(this,void 0,void 0,(function(){var n,r,i,o,s;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:return n=M(e),[4,Y()];case 1:return r=a.sent(),i=r.transaction(J,"readwrite"),o=i.objectStore(J),[4,o.get(n)];case 2:return s=a.sent(),[4,o.put(t,n)];case 3:return a.sent(),[4,i.complete];case 4:return a.sent(),s&&s.fid===t.fid||q(e,t.fid),[2,t]}}))}))}function X(e){return(0,a.mG)(this,void 0,void 0,(function(){var t,n,r;return(0,a.Jh)(this,(function(i){switch(i.label){case 0:return t=M(e),[4,Y()];case 1:return n=i.sent(),r=n.transaction(J,"readwrite"),[4,r.objectStore(J).delete(t)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function ee(e,t){return(0,a.mG)(this,void 0,void 0,(function(){var n,r,i,o,s,u;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:return n=M(e),[4,Y()];case 1:return r=a.sent(),i=r.transaction(J,"readwrite"),o=i.objectStore(J),[4,o.get(n)];case 2:return s=a.sent(),u=t(s),void 0!==u?[3,4]:[4,o.delete(n)];case 3:return a.sent(),[3,6];case 4:return[4,o.put(u,n)];case 5:a.sent(),a.label=6;case 6:return[4,i.complete];case 7:return a.sent(),!u||s&&s.fid===u.fid||q(e,u.fid),[2,u]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function te(e){return(0,a.mG)(this,void 0,void 0,(function(){var t,n,r;return(0,a.Jh)(this,(function(i){switch(i.label){case 0:return[4,ee(e,(function(n){var r=ne(n),i=re(e,r);return t=i.registrationPromise,i.installationEntry}))];case 1:return n=i.sent(),n.fid!==O?[3,3]:(r={},[4,t]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:t}]}}))}))}function ne(e){var t=e||{fid:D(),registrationStatus:0};return se(t)}function re(e,t){if(0===t.registrationStatus){if(!navigator.onLine){var n=Promise.reject(b.create("app-offline"));return{installationEntry:t,registrationPromise:n}}var r={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},i=ie(e,r);return{installationEntry:r,registrationPromise:i}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:oe(e)}:{installationEntry:t}}function ie(e,t){return(0,a.mG)(this,void 0,void 0,(function(){var n,r;return(0,a.Jh)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,A(e,t)];case 1:return n=i.sent(),[2,Q(e,n)];case 2:return r=i.sent(),w(r)&&409===r.customData.serverCode?[4,X(e)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,Q(e,{fid:t.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}}))}))}function oe(e){return(0,a.mG)(this,void 0,void 0,(function(){var t,n,r,i;return(0,a.Jh)(this,(function(o){switch(o.label){case 0:return[4,ae(e)];case 1:t=o.sent(),o.label=2;case 2:return 1!==t.registrationStatus?[3,5]:[4,R(100)];case 3:return o.sent(),[4,ae(e)];case 4:return t=o.sent(),[3,2];case 5:return 0!==t.registrationStatus?[3,7]:[4,te(e)];case 6:return n=o.sent(),r=n.installationEntry,i=n.registrationPromise,i?[2,i]:[2,r];case 7:return[2,t]}}))}))}function ae(e){return ee(e,(function(e){if(!e)throw b.create("installation-not-found");return se(e)}))}function se(e){return ue(e)?{fid:e.fid,registrationStatus:0}:e}function ue(e){return 1===e.registrationStatus&&e.registrationTime+h<Date.now()}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ce(e,t){var n=e.appConfig,r=e.platformLoggerProvider;return(0,a.mG)(this,void 0,void 0,(function(){var e,i,o,s,u,c,l,h;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:return e=le(n,t),i=I(n,t),o=r.getImmediate({optional:!0}),o&&i.append("x-firebase-client",o.getPlatformInfoString()),s={installation:{sdkVersion:f}},u={method:"POST",headers:i,body:JSON.stringify(s)},[4,k((function(){return fetch(e,u)}))];case 1:return c=a.sent(),c.ok?[4,c.json()]:[3,3];case 2:return l=a.sent(),h=T(l),[2,h];case 3:return[4,S("Generate Auth Token",c)];case 4:throw a.sent()}}))}))}function le(e,t){var n=t.fid;return _(e)+"/"+n+"/authTokens:generate"}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function he(e,t){return void 0===t&&(t=!1),(0,a.mG)(this,void 0,void 0,(function(){var n,r,i,o;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:return[4,ee(e.appConfig,(function(r){if(!ve(r))throw b.create("not-registered");var i=r.authToken;if(!t&&ge(i))return r;if(1===i.requestStatus)return n=fe(e,t),r;if(!navigator.onLine)throw b.create("app-offline");var o=ye(r);return n=pe(e,o),o}))];case 1:return r=a.sent(),n?[4,n]:[3,3];case 2:return o=a.sent(),[3,4];case 3:o=r.authToken,a.label=4;case 4:return i=o,[2,i]}}))}))}function fe(e,t){return(0,a.mG)(this,void 0,void 0,(function(){var n,r;return(0,a.Jh)(this,(function(i){switch(i.label){case 0:return[4,de(e.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,R(100)];case 3:return i.sent(),[4,de(e.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return r=n.authToken,0===r.requestStatus?[2,he(e,t)]:[2,r]}}))}))}function de(e){return ee(e,(function(e){if(!ve(e))throw b.create("not-registered");var t=e.authToken;return be(t)?(0,a.pi)((0,a.pi)({},e),{authToken:{requestStatus:0}}):e}))}function pe(e,t){return(0,a.mG)(this,void 0,void 0,(function(){var n,r,i;return(0,a.Jh)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,8]),[4,ce(e,t)];case 1:return n=o.sent(),i=(0,a.pi)((0,a.pi)({},t),{authToken:n}),[4,Q(e.appConfig,i)];case 2:return o.sent(),[2,n];case 3:return r=o.sent(),!w(r)||401!==r.customData.serverCode&&404!==r.customData.serverCode?[3,5]:[4,X(e.appConfig)];case 4:return o.sent(),[3,7];case 5:return i=(0,a.pi)((0,a.pi)({},t),{authToken:{requestStatus:0}}),[4,Q(e.appConfig,i)];case 6:o.sent(),o.label=7;case 7:throw r;case 8:return[2]}}))}))}function ve(e){return void 0!==e&&2===e.registrationStatus}function ge(e){return 2===e.requestStatus&&!me(e)}function me(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+v}function ye(e){var t={requestStatus:1,requestTime:Date.now()};return(0,a.pi)((0,a.pi)({},e),{authToken:t})}function be(e){return 1===e.requestStatus&&e.requestTime+h<Date.now()}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(e){return(0,a.mG)(this,void 0,void 0,(function(){var t,n,r;return(0,a.Jh)(this,(function(i){switch(i.label){case 0:return[4,te(e.appConfig)];case 1:return t=i.sent(),n=t.installationEntry,r=t.registrationPromise,r?r.catch(console.error):he(e).catch(console.error),[2,n.fid]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _e(e,t){return void 0===t&&(t=!1),(0,a.mG)(this,void 0,void 0,(function(){var n;return(0,a.Jh)(this,(function(r){switch(r.label){case 0:return[4,Te(e.appConfig)];case 1:return r.sent(),[4,he(e,t)];case 2:return n=r.sent(),[2,n.token]}}))}))}function Te(e){return(0,a.mG)(this,void 0,void 0,(function(){var t;return(0,a.Jh)(this,(function(n){switch(n.label){case 0:return[4,te(e)];case 1:return t=n.sent().registrationPromise,t?[4,t]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(e,t){return(0,a.mG)(this,void 0,void 0,(function(){var n,r,i,o;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:return n=Ee(e,t),r=I(e,t),i={method:"DELETE",headers:r},[4,k((function(){return fetch(n,i)}))];case 1:return o=a.sent(),o.ok?[3,3]:[4,S("Delete Installation",o)];case 2:throw a.sent();case 3:return[2]}}))}))}function Ee(e,t){var n=t.fid;return _(e)+"/"+n}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ie(e){return(0,a.mG)(this,void 0,void 0,(function(){var t,n;return(0,a.Jh)(this,(function(r){switch(r.label){case 0:return t=e.appConfig,[4,ee(t,(function(e){if(!e||0!==e.registrationStatus)return e}))];case 1:if(n=r.sent(),!n)return[3,6];if(1!==n.registrationStatus)return[3,2];throw b.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw b.create("app-offline");case 3:return[4,Se(t,n)];case 4:return r.sent(),[4,X(t)];case 5:r.sent(),r.label=6;case 6:return[2]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ke(e,t){var n=e.appConfig;return j(n,t),function(){U(n,t)}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(e){var t,n;if(!e||!e.options)throw xe("App Configuration");if(!e.name)throw xe("App Name");var r=["projectId","apiKey","appId"];try{for(var i=(0,a.XA)(r),o=i.next();!o.done;o=i.next()){var s=o.value;if(!e.options[s])throw xe(s)}}catch(u){t={error:u}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function xe(e){return b.create("missing-app-config-values",{valueName:e})}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(e){var t="installations";e.INTERNAL.registerComponent(new o.wA(t,(function(e){var t=e.getProvider("app").getImmediate(),n=Ce(t),r=e.getProvider("platform-logger"),i={appConfig:n,platformLoggerProvider:r},o={app:t,getId:function(){return we(i)},getToken:function(e){return _e(i,e)},delete:function(){return Ie(i)},onIdChange:function(e){return ke(i,e)}};return o}),"PUBLIC")),e.registerVersion(c,l)}Ae(i.Z);var Re,Ne=(K={},K["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',K["only-available-in-window"]="This method is available in a Window context.",K["only-available-in-sw"]="This method is available in a service worker context.",K["permission-default"]="The notification permission was not granted and dismissed instead.",K["permission-blocked"]="The notification permission was not granted and blocked instead.",K["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",K["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",K["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",K["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",K["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",K["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",K["token-update-no-token"]="FCM returned no token when updating the user to push.",K["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",K["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",K["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",K["invalid-vapid-key"]="The public VAPID key must be a string.",K["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",K),Pe=new s.LL("messaging","Messaging",Ne),Oe="/firebase-messaging-sw.js",De="/firebase-cloud-messaging-push-scope",Le="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Me="https://fcmregistrations.googleapis.com/v1",Fe="FCM_MSG",qe="FirebaseMessaging: ",je="google.c.a.e",Ue="google.c.a.c_id",Be="google.c.a.ts",Ve="google.c.a.c_l",He=1e3,Ge=3e3;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function ze(e){var t=new Uint8Array(e),n=btoa(String.fromCharCode.apply(String,(0,a.ev)([],(0,a.CR)(t))));return n.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ke(e){for(var t="=".repeat((4-e.length%4)%4),n=(e+t).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length),o=0;o<r.length;++o)i[o]=r.charCodeAt(o);return i}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(e){e["PUSH_RECEIVED"]="push-received",e["NOTIFICATION_CLICKED"]="notification-clicked"})(Re||(Re={}));var $e="fcm_token_details_db",We=5,Je="fcm_token_object_Store";function Ze(e){return(0,a.mG)(this,void 0,void 0,(function(){var t,n,r,i,o=this;return(0,a.Jh)(this,(function(s){switch(s.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(t=s.sent(),n=t.map((function(e){return e.name})),!n.includes($e))return[2,null];s.label=2;case 2:return r=null,[4,(0,u.openDb)($e,We,(function(t){return(0,a.mG)(o,void 0,void 0,(function(){var n,i,o,s;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:return t.oldVersion<2?[2]:t.objectStoreNames.contains(Je)?(n=t.transaction.objectStore(Je),[4,n.index("fcmSenderId").get(e)]):[2];case 1:return i=a.sent(),[4,n.clear()];case 2:if(a.sent(),!i)return[2];if(2===t.oldVersion){if(o=i,!o.auth||!o.p256dh||!o.endpoint)return[2];r={token:o.fcmToken,createTime:null!==(s=o.createTime)&&void 0!==s?s:Date.now(),subscriptionOptions:{auth:o.auth,p256dh:o.p256dh,endpoint:o.endpoint,swScope:o.swScope,vapidKey:"string"===typeof o.vapidKey?o.vapidKey:ze(o.vapidKey)}}}else(3===t.oldVersion||4===t.oldVersion)&&(o=i,r={token:o.fcmToken,createTime:o.createTime,subscriptionOptions:{auth:ze(o.auth),p256dh:ze(o.p256dh),endpoint:o.endpoint,swScope:o.swScope,vapidKey:ze(o.vapidKey)}});return[2]}}))}))}))];case 3:return i=s.sent(),i.close(),[4,(0,u.deleteDb)($e)];case 4:return s.sent(),[4,(0,u.deleteDb)("fcm_vapid_details_db")];case 5:return s.sent(),[4,(0,u.deleteDb)("undefined")];case 6:return s.sent(),[2,Ye(r)?r:null]}}))}))}function Ye(e){if(!e||!e.subscriptionOptions)return!1;var t=e.subscriptionOptions;return"number"===typeof e.createTime&&e.createTime>0&&"string"===typeof e.token&&e.token.length>0&&"string"===typeof t.auth&&t.auth.length>0&&"string"===typeof t.p256dh&&t.p256dh.length>0&&"string"===typeof t.endpoint&&t.endpoint.length>0&&"string"===typeof t.swScope&&t.swScope.length>0&&"string"===typeof t.vapidKey&&t.vapidKey.length>0}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qe="firebase-messaging-database",Xe=1,et="firebase-messaging-store",tt=null;function nt(){return tt||(tt=(0,u.openDb)(Qe,Xe,(function(e){switch(e.oldVersion){case 0:e.createObjectStore(et)}}))),tt}function rt(e){return(0,a.mG)(this,void 0,void 0,(function(){var t,n,r,i;return(0,a.Jh)(this,(function(o){switch(o.label){case 0:return t=at(e),[4,nt()];case 1:return n=o.sent(),[4,n.transaction(et).objectStore(et).get(t)];case 2:return r=o.sent(),r?[2,r]:[3,3];case 3:return[4,Ze(e.appConfig.senderId)];case 4:return i=o.sent(),i?[4,it(e,i)]:[3,6];case 5:return o.sent(),[2,i];case 6:return[2]}}))}))}function it(e,t){return(0,a.mG)(this,void 0,void 0,(function(){var n,r,i;return(0,a.Jh)(this,(function(o){switch(o.label){case 0:return n=at(e),[4,nt()];case 1:return r=o.sent(),i=r.transaction(et,"readwrite"),[4,i.objectStore(et).put(t,n)];case 2:return o.sent(),[4,i.complete];case 3:return o.sent(),[2,t]}}))}))}function ot(e){return(0,a.mG)(this,void 0,void 0,(function(){var t,n,r;return(0,a.Jh)(this,(function(i){switch(i.label){case 0:return t=at(e),[4,nt()];case 1:return n=i.sent(),r=n.transaction(et,"readwrite"),[4,r.objectStore(et).delete(t)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function at(e){var t=e.appConfig;return t.appId}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function st(e,t){return(0,a.mG)(this,void 0,void 0,(function(){var n,r,i,o,s,u,c;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:return[4,ht(e)];case 1:n=a.sent(),r=ft(t),i={method:"POST",headers:n,body:JSON.stringify(r)},a.label=2;case 2:return a.trys.push([2,5,,6]),[4,fetch(lt(e.appConfig),i)];case 3:return s=a.sent(),[4,s.json()];case 4:return o=a.sent(),[3,6];case 5:throw u=a.sent(),Pe.create("token-subscribe-failed",{errorInfo:u});case 6:if(o.error)throw c=o.error.message,Pe.create("token-subscribe-failed",{errorInfo:c});if(!o.token)throw Pe.create("token-subscribe-no-token");return[2,o.token]}}))}))}function ut(e,t){return(0,a.mG)(this,void 0,void 0,(function(){var n,r,i,o,s,u,c;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:return[4,ht(e)];case 1:n=a.sent(),r=ft(t.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)},a.label=2;case 2:return a.trys.push([2,5,,6]),[4,fetch(lt(e.appConfig)+"/"+t.token,i)];case 3:return s=a.sent(),[4,s.json()];case 4:return o=a.sent(),[3,6];case 5:throw u=a.sent(),Pe.create("token-update-failed",{errorInfo:u});case 6:if(o.error)throw c=o.error.message,Pe.create("token-update-failed",{errorInfo:c});if(!o.token)throw Pe.create("token-update-no-token");return[2,o.token]}}))}))}function ct(e,t){return(0,a.mG)(this,void 0,void 0,(function(){var n,r,i,o,s,u;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:return[4,ht(e)];case 1:n=a.sent(),r={method:"DELETE",headers:n},a.label=2;case 2:return a.trys.push([2,5,,6]),[4,fetch(lt(e.appConfig)+"/"+t,r)];case 3:return i=a.sent(),[4,i.json()];case 4:if(o=a.sent(),o.error)throw s=o.error.message,Pe.create("token-unsubscribe-failed",{errorInfo:s});return[3,6];case 5:throw u=a.sent(),Pe.create("token-unsubscribe-failed",{errorInfo:u});case 6:return[2]}}))}))}function lt(e){var t=e.projectId;return Me+"/projects/"+t+"/registrations"}function ht(e){var t=e.appConfig,n=e.installations;return(0,a.mG)(this,void 0,void 0,(function(){var e;return(0,a.Jh)(this,(function(r){switch(r.label){case 0:return[4,n.getToken()];case 1:return e=r.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":"FIS "+e})]}}))}))}function ft(e){var t=e.p256dh,n=e.auth,r=e.endpoint,i=e.vapidKey,o={web:{endpoint:r,auth:n,p256dh:t}};return i!==Le&&(o.web.applicationPubKey=i),o}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dt=6048e5;function pt(e,t,n){return(0,a.mG)(this,void 0,void 0,(function(){var r,i,o,s;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:if("granted"!==Notification.permission)throw Pe.create("permission-blocked");return[4,yt(t,n)];case 1:return r=a.sent(),[4,rt(e)];case 2:return i=a.sent(),o={vapidKey:n,swScope:t.scope,endpoint:r.endpoint,auth:ze(r.getKey("auth")),p256dh:ze(r.getKey("p256dh"))},i?[3,3]:[2,mt(e,o)];case 3:if(bt(i.subscriptionOptions,o))return[3,8];a.label=4;case 4:return a.trys.push([4,6,,7]),[4,ct(e,i.token)];case 5:return a.sent(),[3,7];case 6:return s=a.sent(),console.warn(s),[3,7];case 7:return[2,mt(e,o)];case 8:return Date.now()>=i.createTime+dt?[2,gt({token:i.token,createTime:Date.now(),subscriptionOptions:o},e,t)]:[2,i.token];case 9:return[2]}}))}))}function vt(e,t){return(0,a.mG)(this,void 0,void 0,(function(){var n,r;return(0,a.Jh)(this,(function(i){switch(i.label){case 0:return[4,rt(e)];case 1:return n=i.sent(),n?[4,ct(e,n.token)]:[3,4];case 2:return i.sent(),[4,ot(e)];case 3:i.sent(),i.label=4;case 4:return[4,t.pushManager.getSubscription()];case 5:return r=i.sent(),r?[2,r.unsubscribe()]:[2,!0]}}))}))}function gt(e,t,n){return(0,a.mG)(this,void 0,void 0,(function(){var r,i,o;return(0,a.Jh)(this,(function(s){switch(s.label){case 0:return s.trys.push([0,3,,5]),[4,ut(t,e)];case 1:return r=s.sent(),i=(0,a.pi)((0,a.pi)({},e),{token:r,createTime:Date.now()}),[4,it(t,i)];case 2:return s.sent(),[2,r];case 3:return o=s.sent(),[4,vt(t,n)];case 4:throw s.sent(),o;case 5:return[2]}}))}))}function mt(e,t){return(0,a.mG)(this,void 0,void 0,(function(){var n,r;return(0,a.Jh)(this,(function(i){switch(i.label){case 0:return[4,st(e,t)];case 1:return n=i.sent(),r={token:n,createTime:Date.now(),subscriptionOptions:t},[4,it(e,r)];case 2:return i.sent(),[2,r.token]}}))}))}function yt(e,t){return(0,a.mG)(this,void 0,void 0,(function(){var n;return(0,a.Jh)(this,(function(r){switch(r.label){case 0:return[4,e.pushManager.getSubscription()];case 1:return n=r.sent(),n?[2,n]:[2,e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ke(t)})]}}))}))}function bt(e,t){var n=t.vapidKey===e.vapidKey,r=t.endpoint===e.endpoint,i=t.auth===e.auth,o=t.p256dh===e.p256dh;return n&&r&&i&&o}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(e){var t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcm_message_id};return _t(t,e),Tt(t,e),St(t,e),t}function _t(e,t){if(t.notification){e.notification={};var n=t.notification.title;n&&(e.notification.title=n);var r=t.notification.body;r&&(e.notification.body=r);var i=t.notification.image;i&&(e.notification.image=i)}}function Tt(e,t){t.data&&(e.data=t.data)}function St(e,t){if(t.fcmOptions){e.fcmOptions={};var n=t.fcmOptions.link;n&&(e.fcmOptions.link=n);var r=t.fcmOptions.analytics_label;r&&(e.fcmOptions.analyticsLabel=r)}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(e){return"object"===typeof e&&!!e&&Ue in e}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function It(e){return new Promise((function(t){setTimeout(t,e)}))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kt=function(){function e(e){var t=this;this.firebaseDependencies=e,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",(function(e){e.waitUntil(t.onPush(e))})),self.addEventListener("pushsubscriptionchange",(function(e){e.waitUntil(t.onSubChange(e))})),self.addEventListener("notificationclick",(function(e){e.waitUntil(t.onNotificationClick(e))}))}return Object.defineProperty(e.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),e.prototype.setBackgroundMessageHandler=function(e){if(this.isOnBackgroundMessageUsed=!1,!e||"function"!==typeof e)throw Pe.create("invalid-bg-handler");this.bgMessageHandler=e},e.prototype.onBackgroundMessage=function(e){var t=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=e,function(){t.bgMessageHandler=null}},e.prototype.getToken=function(){var e,t;return(0,a.mG)(this,void 0,void 0,(function(){var n;return(0,a.Jh)(this,(function(r){switch(r.label){case 0:return this.vapidKey?[3,2]:[4,rt(this.firebaseDependencies)];case 1:n=r.sent(),this.vapidKey=null!==(t=null===(e=null===n||void 0===n?void 0:n.subscriptionOptions)||void 0===e?void 0:e.vapidKey)&&void 0!==t?t:Le,r.label=2;case 2:return[2,pt(this.firebaseDependencies,self.registration,this.vapidKey)]}}))}))},e.prototype.deleteToken=function(){return vt(this.firebaseDependencies,self.registration)},e.prototype.requestPermission=function(){throw Pe.create("only-available-in-window")},e.prototype.usePublicVapidKey=function(e){if(null!==this.vapidKey)throw Pe.create("use-vapid-key-after-get-token");if("string"!==typeof e||0===e.length)throw Pe.create("invalid-vapid-key");this.vapidKey=e},e.prototype.useServiceWorker=function(){throw Pe.create("only-available-in-window")},e.prototype.onMessage=function(){throw Pe.create("only-available-in-window")},e.prototype.onTokenRefresh=function(){throw Pe.create("only-available-in-window")},e.prototype.onPush=function(e){return(0,a.mG)(this,void 0,void 0,(function(){var t,n,r,i;return(0,a.Jh)(this,(function(o){switch(o.label){case 0:return t=xt(e),t?[4,Pt()]:(console.debug(qe+"failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return n=o.sent(),Rt(n)?[2,Nt(n,t)]:(r=!1,t.notification?[4,Ot(Ct(t))]:[3,3]);case 2:o.sent(),r=!0,o.label=3;case 3:return!0===r&&!1===this.isOnBackgroundMessageUsed?[2]:(this.bgMessageHandler&&(i=wt(t),"function"===typeof this.bgMessageHandler?this.bgMessageHandler(i):this.bgMessageHandler.next(i)),[4,It(He)]);case 4:return o.sent(),[2]}}))}))},e.prototype.onSubChange=function(e){var t,n;return(0,a.mG)(this,void 0,void 0,(function(){var r,i;return(0,a.Jh)(this,(function(o){switch(o.label){case 0:return r=e.newSubscription,r?[3,2]:[4,vt(this.firebaseDependencies,self.registration)];case 1:return o.sent(),[2];case 2:return[4,rt(this.firebaseDependencies)];case 3:return i=o.sent(),[4,vt(this.firebaseDependencies,self.registration)];case 4:return o.sent(),[4,pt(this.firebaseDependencies,self.registration,null!==(n=null===(t=null===i||void 0===i?void 0:i.subscriptionOptions)||void 0===t?void 0:t.vapidKey)&&void 0!==n?n:Le)];case 5:return o.sent(),[2]}}))}))},e.prototype.onNotificationClick=function(e){var t,n;return(0,a.mG)(this,void 0,void 0,(function(){var r,i,o,s,u;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:return r=null===(n=null===(t=e.notification)||void 0===t?void 0:t.data)||void 0===n?void 0:n[Fe],r?e.action?[2]:(e.stopImmediatePropagation(),e.notification.close(),i=Dt(r),i?(o=new URL(i,self.location.href),s=new URL(self.location.origin),o.host!==s.host?[2]:[4,At(o)]):[2]):[2];case 1:return u=a.sent(),u?[3,4]:[4,self.clients.openWindow(i)];case 2:return u=a.sent(),[4,It(Ge)];case 3:return a.sent(),[3,6];case 4:return[4,u.focus()];case 5:u=a.sent(),a.label=6;case 6:return u?(r.messageType=Re.NOTIFICATION_CLICKED,r.isFirebaseMessaging=!0,[2,u.postMessage(r)]):[2]}}))}))},e}();function Ct(e){var t,n=(0,a.pi)({},e.notification);return n.data=(t={},t[Fe]=e,t),n}function xt(e){var t=e.data;if(!t)return null;try{return t.json()}catch(n){return null}}function At(e){return(0,a.mG)(this,void 0,void 0,(function(){var t,n,r,i,o,s,u;return(0,a.Jh)(this,(function(c){switch(c.label){case 0:return[4,Pt()];case 1:t=c.sent();try{for(n=(0,a.XA)(t),r=n.next();!r.done;r=n.next())if(i=r.value,o=new URL(i.url,self.location.href),e.host===o.host)return[2,i]}catch(l){s={error:l}}finally{try{r&&!r.done&&(u=n.return)&&u.call(n)}finally{if(s)throw s.error}}return[2,null]}}))}))}function Rt(e){return e.some((function(e){return"visible"===e.visibilityState&&!e.url.startsWith("chrome-extension://")}))}function Nt(e,t){var n,r;t.isFirebaseMessaging=!0,t.messageType=Re.PUSH_RECEIVED;try{for(var i=(0,a.XA)(e),o=i.next();!o.done;o=i.next()){var s=o.value;s.postMessage(t)}}catch(u){n={error:u}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}function Pt(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function Ot(e){var t,n=e.actions,r=Notification.maxActions;return n&&r&&n.length>r&&console.warn("This browser only supports "+r+" actions. The remaining actions will not be displayed."),self.registration.showNotification(null!==(t=e.title)&&void 0!==t?t:"",e)}function Dt(e){var t,n,r,i=null!==(n=null===(t=e.fcmOptions)||void 0===t?void 0:t.link)&&void 0!==n?n:null===(r=e.notification)||void 0===r?void 0:r.click_action;return i||(Et(e.data)?self.location.origin:null)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt=function(){function e(e){var t=this;this.firebaseDependencies=e,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",(function(e){return t.messageEventListener(e)}))}return Object.defineProperty(e.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),e.prototype.messageEventListener=function(e){return(0,a.mG)(this,void 0,void 0,(function(){var t,n;return(0,a.Jh)(this,(function(r){switch(r.label){case 0:return t=e.data,t.isFirebaseMessaging?(this.onMessageCallback&&t.messageType===Re.PUSH_RECEIVED&&("function"===typeof this.onMessageCallback?this.onMessageCallback(Ft(Object.assign({},t))):this.onMessageCallback.next(Object.assign({},t))),n=t.data,Et(n)&&"1"===n[je]?[4,this.logEvent(t.messageType,n)]:[3,2]):[2];case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},e.prototype.getVapidKey=function(){return this.vapidKey},e.prototype.getSwReg=function(){return this.swRegistration},e.prototype.getToken=function(e){return(0,a.mG)(this,void 0,void 0,(function(){return(0,a.Jh)(this,(function(t){switch(t.label){case 0:return"default"!==Notification.permission?[3,2]:[4,Notification.requestPermission()];case 1:t.sent(),t.label=2;case 2:if("granted"!==Notification.permission)throw Pe.create("permission-blocked");return[4,this.updateVapidKey(null===e||void 0===e?void 0:e.vapidKey)];case 3:return t.sent(),[4,this.updateSwReg(null===e||void 0===e?void 0:e.serviceWorkerRegistration)];case 4:return t.sent(),[2,pt(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}}))}))},e.prototype.updateVapidKey=function(e){return(0,a.mG)(this,void 0,void 0,(function(){return(0,a.Jh)(this,(function(t){return e?this.vapidKey=e:this.vapidKey||(this.vapidKey=Le),[2]}))}))},e.prototype.updateSwReg=function(e){return(0,a.mG)(this,void 0,void 0,(function(){return(0,a.Jh)(this,(function(t){switch(t.label){case 0:return e||this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:t.sent(),t.label=2;case 2:if(!e&&this.swRegistration)return[2];if(!(e instanceof ServiceWorkerRegistration))throw Pe.create("invalid-sw-registration");return this.swRegistration=e,[2]}}))}))},e.prototype.registerDefaultSw=function(){return(0,a.mG)(this,void 0,void 0,(function(){var e,t;return(0,a.Jh)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),e=this,[4,navigator.serviceWorker.register(Oe,{scope:De})];case 1:return e.swRegistration=n.sent(),this.swRegistration.update().catch((function(){})),[3,3];case 2:throw t=n.sent(),Pe.create("failed-service-worker-registration",{browserErrorMessage:t.message});case 3:return[2]}}))}))},e.prototype.deleteToken=function(){return(0,a.mG)(this,void 0,void 0,(function(){return(0,a.Jh)(this,(function(e){switch(e.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:e.sent(),e.label=2;case 2:return[2,vt(this.firebaseDependencies,this.swRegistration)]}}))}))},e.prototype.requestPermission=function(){return(0,a.mG)(this,void 0,void 0,(function(){var e;return(0,a.Jh)(this,(function(t){switch(t.label){case 0:return"granted"===Notification.permission?[2]:[4,Notification.requestPermission()];case 1:if(e=t.sent(),"granted"===e)return[2];throw"denied"===e?Pe.create("permission-blocked"):Pe.create("permission-default")}}))}))},e.prototype.usePublicVapidKey=function(e){if(null!==this.vapidKey)throw Pe.create("use-vapid-key-after-get-token");if("string"!==typeof e||0===e.length)throw Pe.create("invalid-vapid-key");this.vapidKey=e},e.prototype.useServiceWorker=function(e){if(!(e instanceof ServiceWorkerRegistration))throw Pe.create("invalid-sw-registration");if(this.swRegistration)throw Pe.create("use-sw-after-get-token");this.swRegistration=e},e.prototype.onMessage=function(e){var t=this;return this.onMessageCallback=e,function(){t.onMessageCallback=null}},e.prototype.setBackgroundMessageHandler=function(){throw Pe.create("only-available-in-sw")},e.prototype.onBackgroundMessage=function(){throw Pe.create("only-available-in-sw")},e.prototype.onTokenRefresh=function(){return function(){}},e.prototype.logEvent=function(e,t){return(0,a.mG)(this,void 0,void 0,(function(){var n,r;return(0,a.Jh)(this,(function(i){switch(i.label){case 0:return n=Mt(e),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return r=i.sent(),r.logEvent(n,{message_id:t[Ue],message_name:t[Ve],message_time:t[Be],message_device_time:Math.floor(Date.now()/1e3)}),[2]}}))}))},e}();function Mt(e){switch(e){case Re.NOTIFICATION_CLICKED:return"notification_open";case Re.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Ft(e){return delete e.messageType,delete e.isFirebaseMessaging,e}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qt(e){var t,n;if(!e||!e.options)throw jt("App Configuration Object");if(!e.name)throw jt("App Name");var r=["projectId","apiKey","appId","messagingSenderId"],i=e.options;try{for(var o=(0,a.XA)(r),s=o.next();!s.done;s=o.next()){var u=s.value;if(!i[u])throw jt(u)}}catch(c){t={error:c}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return{appName:e.name,projectId:i.projectId,apiKey:i.apiKey,appId:i.appId,senderId:i.messagingSenderId}}function jt(e){return Pe.create("missing-app-config-values",{valueName:e})}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ut="messaging";function Bt(e){var t=e.getProvider("app").getImmediate(),n=qt(t),r=e.getProvider("installations").getImmediate(),i=e.getProvider("analytics-internal"),o={app:t,appConfig:n,installations:r,analyticsProvider:i};if(!Ht())throw Pe.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new kt(o):new Lt(o)}var Vt={isSupported:Ht};function Ht(){return self&&"ServiceWorkerGlobalScope"in self?zt():Gt()}function Gt(){return"indexedDB"in window&&null!==indexedDB&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}function zt(){return"indexedDB"in self&&null!==indexedDB&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}i.Z.INTERNAL.registerComponent(new o.wA(Ut,Bt,"PUBLIC").setServiceProps(Vt))},1271:(e,t,n)=>{"use strict";var r=n(8785),i=n(8430),o=n(2849),a=n(7429),s="firebasestorage.googleapis.com",u="storageBucket",c=12e4,l=6e5,h=function(e){function t(n,r){var i=e.call(this,f(n),"Firebase Storage: "+r+" ("+f(n)+")")||this;return i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(i,t.prototype),i}return(0,i.ZT)(t,e),t.prototype._codeEquals=function(e){return f(e)===this.code},Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=this._baseMessage+"\n"+this.customData.serverResponse:this.message=this._baseMessage},enumerable:!1,configurable:!0}),t}(o.ZR);function f(e){return"storage/"+e}function d(){var e="An unknown error occurred, please check the error payload for server response.";return new h("unknown",e)}function p(e){return new h("object-not-found","Object '"+e+"' does not exist.")}function v(e){return new h("quota-exceeded","Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function g(){var e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new h("unauthenticated",e)}function m(){return new h("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}function y(e){return new h("unauthorized","User does not have permission to access '"+e+"'.")}function b(){return new h("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function w(){return new h("canceled","User canceled the upload/download.")}function _(e){return new h("invalid-url","Invalid URL '"+e+"'.")}function T(e){return new h("invalid-default-bucket","Invalid default bucket '"+e+"'.")}function S(){return new h("no-default-bucket","No default bucket found. Did you set the '"+u+"' property when initializing the app?")}function E(){return new h("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function I(){return new h("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}function k(){return new h("no-download-url","The given file does not have any download URLs.")}function C(e){return new h("invalid-argument",e)}function x(){return new h("app-deleted","The Firebase app was deleted.")}function A(e){return new h("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function R(e,t){return new h("invalid-format","String does not match format '"+e+"': "+t)}function N(e){throw new h("internal-error","Internal error: "+e)}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P(e){return atob(e)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var O={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},D=function(){function e(e,t){this.data=e,this.contentType=t||null}return e}();function L(e,t){switch(e){case O.RAW:return new D(M(t));case O.BASE64:case O.BASE64URL:return new D(q(e,t));case O.DATA_URL:return new D(U(t),B(t))}throw d()}function M(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r)){var i=n<e.length-1&&56320===(64512&e.charCodeAt(n+1));if(i){var o=r,a=e.charCodeAt(++n);r=65536|(1023&o)<<10|1023&a,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else t.push(239,191,189)}else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function F(e){var t;try{t=decodeURIComponent(e)}catch(n){throw R(O.DATA_URL,"Malformed data URL.")}return M(t)}function q(e,t){switch(e){case O.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r){var i=n?"-":"_";throw R(e,"Invalid character '"+i+"' found: is it base64url encoded?")}break;case O.BASE64URL:var o=-1!==t.indexOf("+"),a=-1!==t.indexOf("/");if(o||a){i=o?"+":"/";throw R(e,"Invalid character '"+i+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}var s;try{s=P(t)}catch(l){throw R(e,"Invalid character found")}for(var u=new Uint8Array(s.length),c=0;c<s.length;c++)u[c]=s.charCodeAt(c);return u}var j=function(){function e(e){this.base64=!1,this.contentType=null;var t=e.match(/^data:([^,]+)?,/);if(null===t)throw R(O.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n=t[1]||null;null!=n&&(this.base64=V(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-";base64".length):n),this.rest=e.substring(e.indexOf(",")+1)}return e}();function U(e){var t=new j(e);return t.base64?q(O.BASE64,t.rest):F(t.rest)}function B(e){var t=new j(e);return t.contentType}function V(e,t){var n=e.length>=t.length;return!!n&&e.substring(e.length-t.length)===t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var H,G={STATE_CHANGED:"state_changed"},z={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function K(e){switch(e){case"running":case"pausing":case"canceling":return z.RUNNING;case"paused":return z.PAUSED;case"success":return z.SUCCESS;case"canceled":return z.CANCELED;case"error":return z.ERROR;default:return z.ERROR}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(e){e[e["NO_ERROR"]=0]="NO_ERROR",e[e["NETWORK_ERROR"]=1]="NETWORK_ERROR",e[e["ABORT"]=2]="ABORT"})(H||(H={}));
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var $=function(){function e(){var e=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=H.NO_ERROR,this.sendPromise_=new Promise((function(t){e.xhr_.addEventListener("abort",(function(){e.errorCode_=H.ABORT,t()})),e.xhr_.addEventListener("error",(function(){e.errorCode_=H.NETWORK_ERROR,t()})),e.xhr_.addEventListener("load",(function(){t()}))}))}return e.prototype.send=function(e,t,n,r){if(this.sent_)throw N("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw N("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw N("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw N("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(e){return this.xhr_.getResponseHeader(e)},e.prototype.addUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)},e.prototype.removeUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)},e}();function W(){return new $}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var J=function(){function e(){}return e.prototype.createConnection=function(){return W()},e}(),Z=function(){function e(e,t){this.bucket=e,this.path_=t}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),e.prototype.fullServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)},e.prototype.bucketOnlyServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o"},e.makeFromBucketSpec=function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch(i){return new e(t,"")}if(""===r.path)return r;throw T(t)},e.makeFromUrl=function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";function o(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}var a="(/(.*))?$",u=new RegExp("^gs://"+i+a,"i"),c={bucket:1,path:3};function l(e){e.path_=decodeURIComponent(e.path)}for(var h="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),d="(/([^?#]*).*)?$",p=new RegExp("^https?://"+f+"/"+h+"/b/"+i+"/o"+d,"i"),v={bucket:1,path:3},g=n===s?"(?:storage.googleapis.com|storage.cloud.google.com)":n,m="([^?#]*)",y=new RegExp("^https?://"+g+"/"+i+"/"+m,"i"),b={bucket:1,path:2},w=[{regex:u,indices:c,postModify:o},{regex:p,indices:v,postModify:l},{regex:y,indices:b,postModify:l}],T=0;T<w.length;T++){var S=w[T],E=S.regex.exec(t);if(E){var I=E[S.indices.bucket],k=E[S.indices.path];k||(k=""),r=new e(I,k),S.postModify(r);break}}if(null==r)throw _(t);return r},e}(),Y=function(){function e(e){this.promise_=Promise.reject(e)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){},e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Q(e,t,n){var r=1,o=null,a=!1,s=0;function u(){return 2===s}var c=!1;function l(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];c||(c=!0,t.apply(null,e))}function h(t){o=setTimeout((function(){o=null,e(f,u())}),t)}function f(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!c)if(e)l.call.apply(l,(0,i.ev)([null,e],t));else{var o,f=u()||a;if(f)l.call.apply(l,(0,i.ev)([null,e],t));else r<64&&(r*=2),1===s?(s=2,o=0):o=1e3*(r+Math.random()),h(o)}}var d=!1;function p(e){d||(d=!0,c||(null!==o?(e||(s=2),clearTimeout(o),h(0)):e||(s=1)))}return h(0),setTimeout((function(){a=!0,p(!0)}),n),p}function X(e){e(!1)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ee(e){return void 0!==e}function te(e){return"function"===typeof e}function ne(e){return"object"===typeof e&&!Array.isArray(e)}function re(e){return"string"===typeof e||e instanceof String}function ie(e){return oe()&&e instanceof Blob}function oe(){return"undefined"!==typeof Blob}function ae(e,t,n,r){if(r<t)throw C("Invalid value for '"+e+"'. Expected "+t+" or greater.");if(r>n)throw C("Invalid value for '"+e+"'. Expected "+n+" or less.")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function se(e,t){var n=t.match(/^(\w+):\/\/.+/),r=null===n||void 0===n?void 0:n[1],i=t;return null==r&&(i="https://"+t),i+"/v0"+e}function ue(e){var t=encodeURIComponent,n="?";for(var r in e)if(e.hasOwnProperty(r)){var i=t(r)+"="+t(e[r]);n=n+i+"&"}return n=n.slice(0,-1),n}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ce=function(){function e(e,t,n,r,i,o,a,s,u,c,l){var h=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=a,this.errorCallback_=s,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise((function(e,t){h.resolve_=e,h.reject_=t,h.start_()}))}return e.prototype.start_=function(){var e=this;function t(t,n){if(n)t(!1,new le(!1,null,!0));else{var r=e.pool_.createConnection();e.pendingConnection_=r,null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===H.NO_ERROR,o=r.getStatus();if(n&&!e.isRetryStatusCode_(o)){var a=-1!==e.successCodes_.indexOf(o);t(!0,new le(a,r))}else{var s=r.getErrorCode()===H.ABORT;t(!1,new le(!1,null,s))}}))}function i(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)}}function n(t,n){var r=e.resolve_,i=e.reject_,o=n.connection;if(n.wasSuccessCode)try{var a=e.callback_(o,o.getResponseText());ee(a)?r(a):r()}catch(u){i(u)}else if(null!==o){var s=d();s.serverResponse=o.getResponseText(),e.errorCallback_?i(e.errorCallback_(o,s)):i(s)}else if(n.canceled){s=e.appDelete_?x():w();i(s)}else{s=b();i(s)}}this.canceled_?n(!1,new le(!1,null,!0)):this.backoffId_=Q(t,n,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&X(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()},e.prototype.isRetryStatusCode_=function(e){var t=e>=500&&e<600,n=[408,429],r=-1!==n.indexOf(e),i=-1!==this.additionalRetryCodes_.indexOf(e);return t||r||i},e}(),le=function(){function e(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}return e}();function he(e,t){null!==t&&t.length>0&&(e["Authorization"]="Firebase "+t)}function fe(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}function de(e,t){t&&(e["X-Firebase-GMPID"]=t)}function pe(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}function ve(e,t,n,r,i,o){var a=ue(e.urlParams),s=e.url+a,u=Object.assign({},e.headers);return de(u,t),he(u,n),fe(u,o),pe(u,r),new ce(s,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ge(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function me(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=ge();if(void 0!==n){for(var r=new n,i=0;i<e.length;i++)r.append(e[i]);return r.getBlob()}if(oe())return new Blob(e);throw new h("unsupported-environment","This browser doesn't seem to support creating Blobs")}function ye(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var be=function(){function e(e,t){var n=0,r="";ie(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if(ie(this.data_)){var r=this.data_,i=ye(r,t,n);return null===i?null:new e(i)}var o=new Uint8Array(this.data_.buffer,t,n-t);return new e(o,!0)},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(oe()){var r=t.map((function(t){return t instanceof e?t.data_:t}));return new e(me.apply(null,r))}var i=t.map((function(e){return re(e)?L(O.RAW,e).data:e.data_})),o=0;i.forEach((function(e){o+=e.byteLength}));var a=new Uint8Array(o),s=0;return i.forEach((function(e){for(var t=0;t<e.length;t++)a[s++]=e[t]})),new e(a,!0)},e.prototype.uploadData=function(){return this.data_},e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(e){var t;try{t=JSON.parse(e)}catch(n){return null}return ne(t)?t:null}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _e(e){if(0===e.length)return null;var t=e.lastIndexOf("/");if(-1===t)return"";var n=e.slice(0,t);return n}function Te(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}function Se(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(e,t){return t}var Ie=function(){function e(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||Ee}return e}(),ke=null;function Ce(e){return!re(e)||e.length<2?e:Se(e)}function xe(){if(ke)return ke;var e=[];function t(e,t){return Ce(t)}e.push(new Ie("bucket")),e.push(new Ie("generation")),e.push(new Ie("metageneration")),e.push(new Ie("name","fullPath",!0));var n=new Ie("name");function r(e,t){return void 0!==t?Number(t):t}n.xform=t,e.push(n);var i=new Ie("size");return i.xform=r,e.push(i),e.push(new Ie("timeCreated")),e.push(new Ie("updated")),e.push(new Ie("md5Hash",null,!0)),e.push(new Ie("cacheControl",null,!0)),e.push(new Ie("contentDisposition",null,!0)),e.push(new Ie("contentEncoding",null,!0)),e.push(new Ie("contentLanguage",null,!0)),e.push(new Ie("contentType",null,!0)),e.push(new Ie("metadata","customMetadata",!0)),ke=e,ke}function Ae(e,t){function n(){var n=e["bucket"],r=e["fullPath"],i=new Z(n,r);return t._makeStorageReference(i)}Object.defineProperty(e,"ref",{get:n})}function Re(e,t,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var a=n[o];r[a.local]=a.xform(r,t[a.server])}return Ae(r,e),r}function Ne(e,t,n){var r=we(t);if(null===r)return null;var i=r;return Re(e,i,n)}function Pe(e,t,n){var r=we(t);if(null===r)return null;if(!re(r["downloadTokens"]))return null;var i=r["downloadTokens"];if(0===i.length)return null;var o=encodeURIComponent,a=i.split(","),s=a.map((function(t){var r=e["bucket"],i=e["fullPath"],a="/b/"+o(r)+"/o/"+o(i),s=se(a,n),u=ue({alt:"media",token:t});return s+u}));return s[0]}function Oe(e,t){for(var n={},r=t.length,i=0;i<r;i++){var o=t[i];o.writable&&(n[o.server]=e[o.local])}return JSON.stringify(n)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var De="prefixes",Le="items";function Me(e,t,n){var r={prefixes:[],items:[],nextPageToken:n["nextPageToken"]};if(n[De])for(var i=0,o=n[De];i<o.length;i++){var a=o[i],s=a.replace(/\/$/,""),u=e._makeStorageReference(new Z(t,s));r.prefixes.push(u)}if(n[Le])for(var c=0,l=n[Le];c<l.length;c++){var h=l[c];u=e._makeStorageReference(new Z(t,h["name"]));r.items.push(u)}return r}function Fe(e,t,n){var r=we(n);if(null===r)return null;var i=r;return Me(e,t,i)}var qe=function(){function e(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}return e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function je(e){if(!e)throw d()}function Ue(e,t){function n(n,r){var i=Ne(e,r,t);return je(null!==i),i}return n}function Be(e,t){function n(n,r){var i=Fe(e,t,r);return je(null!==i),i}return n}function Ve(e,t){function n(n,r){var i=Ne(e,r,t);return je(null!==i),Pe(i,r,e.host)}return n}function He(e){function t(t,n){var r;return r=401===t.getStatus()?t.getResponseText().includes("Firebase App Check token is invalid")?m():g():402===t.getStatus()?v(e.bucket):403===t.getStatus()?y(e.path):n,r.serverResponse=n.serverResponse,r}return t}function Ge(e){var t=He(e);function n(n,r){var i=t(n,r);return 404===n.getStatus()&&(i=p(e.path)),i.serverResponse=r.serverResponse,i}return n}function ze(e,t,n){var r=t.fullServerUrl(),i=se(r,e.host),o="GET",a=e.maxOperationRetryTime,s=new qe(i,o,Ue(e,n),a);return s.errorHandler=Ge(t),s}function Ke(e,t,n,r,i){var o={};t.isRoot?o["prefix"]="":o["prefix"]=t.path+"/",n&&n.length>0&&(o["delimiter"]=n),r&&(o["pageToken"]=r),i&&(o["maxResults"]=i);var a=t.bucketOnlyServerUrl(),s=se(a,e.host),u="GET",c=e.maxOperationRetryTime,l=new qe(s,u,Be(e,t.bucket),c);return l.urlParams=o,l.errorHandler=He(t),l}function $e(e,t,n){var r=t.fullServerUrl(),i=se(r,e.host),o="GET",a=e.maxOperationRetryTime,s=new qe(i,o,Ve(e,n),a);return s.errorHandler=Ge(t),s}function We(e,t,n,r){var i=t.fullServerUrl(),o=se(i,e.host),a="PATCH",s=Oe(n,r),u={"Content-Type":"application/json; charset=utf-8"},c=e.maxOperationRetryTime,l=new qe(o,a,Ue(e,r),c);return l.headers=u,l.body=s,l.errorHandler=Ge(t),l}function Je(e,t){var n=t.fullServerUrl(),r=se(n,e.host),i="DELETE",o=e.maxOperationRetryTime;function a(e,t){}var s=new qe(r,i,a,o);return s.successCodes=[200,204],s.errorHandler=Ge(t),s}function Ze(e,t){return e&&e["contentType"]||t&&t.type()||"application/octet-stream"}function Ye(e,t,n){var r=Object.assign({},n);return r["fullPath"]=e.path,r["size"]=t.size(),r["contentType"]||(r["contentType"]=Ze(null,t)),r}function Qe(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function s(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}var u=s();a["Content-Type"]="multipart/related; boundary="+u;var c=Ye(t,r,i),l=Oe(c,n),h="--"+u+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+l+"\r\n--"+u+"\r\nContent-Type: "+c["contentType"]+"\r\n\r\n",f="\r\n--"+u+"--",d=be.getBlob(h,r,f);if(null===d)throw E();var p={name:c["fullPath"]},v=se(o,e.host),g="POST",m=e.maxUploadRetryTime,y=new qe(v,g,Ue(e,n),m);return y.urlParams=p,y.headers=a,y.body=d.uploadData(),y.errorHandler=He(t),y}var Xe=function(){function e(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null}return e}();function et(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(i){je(!1)}var r=t||["active"];return je(!!n&&-1!==r.indexOf(n)),n}function tt(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),a=Ye(t,r,i),s={name:a["fullPath"]},u=se(o,e.host),c="POST",l={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+r.size(),"X-Goog-Upload-Header-Content-Type":a["contentType"],"Content-Type":"application/json; charset=utf-8"},h=Oe(a,n),f=e.maxUploadRetryTime;function d(e){var t;et(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(n){je(!1)}return je(re(t)),t}var p=new qe(u,c,d,f);return p.urlParams=s,p.headers=l,p.body=h,p.errorHandler=He(t),p}function nt(e,t,n,r){var i={"X-Goog-Upload-Command":"query"};function o(e){var t=et(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(o){je(!1)}n||je(!1);var i=Number(n);return je(!isNaN(i)),new Xe(i,r.size(),"final"===t)}var a="POST",s=e.maxUploadRetryTime,u=new qe(n,a,o,s);return u.headers=i,u.errorHandler=He(t),u}var rt=262144;function it(e,t,n,r,i,o,a,s){var u=new Xe(0,0);if(a?(u.current=a.current,u.total=a.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw I();var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var h=u.current,f=h+l,d=l===c?"upload, finalize":"upload",p={"X-Goog-Upload-Command":d,"X-Goog-Upload-Offset":""+u.current},v=r.slice(h,f);if(null===v)throw E();function g(e,n){var i,a=et(e,["active","final"]),s=u.current+l,c=r.size();return i="final"===a?Ue(t,o)(e,n):null,new Xe(s,c,"final"===a,i)}var m="POST",y=t.maxUploadRetryTime,b=new qe(n,m,g,y);return b.headers=p,b.body=v.uploadData(),b.progressCallback=s||null,b.errorHandler=He(e),b}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ot=function(){function e(e,t,n){var r=te(e)||null!=t||null!=n;if(r)this.next=e,this.error=t,this.complete=n;else{var i=e;this.next=i.next,this.error=i.error,this.complete=i.complete}}return e}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function at(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Promise.resolve().then((function(){return e.apply(void 0,t)}))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var st=function(){function e(e,t,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=n,this._mappings=xe(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){r._request=void 0,r._chunkMultiplier=1,e._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=e,r._transition("error"))},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals("canceled")?r.completeTransitions_():(r._error=e,r._transition("error"))},this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return e.prototype._makeProgressCallback=function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}},e.prototype._shouldDoResumable=function(e){return e.size()>262144},e.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},e.prototype._resolveToken=function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=n[0],i=n[1];switch(t._state){case"running":e(r,i);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused");break}}))},e.prototype._createResumable=function(){var e=this;this._resolveToken((function(t,n){var r=tt(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))},e.prototype._fetchStatus=function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n,r){var i=nt(e._ref.storage,e._ref._location,t,e._blob),o=e._ref.storage._makeRequest(i,n,r);e._request=o,o.getPromise().then((function(t){t=t,e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))},e.prototype._continueUpload=function(){var e=this,t=rt*this._chunkMultiplier,n=new Xe(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,o){var a;try{a=it(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(u){return e._error=u,void e._transition("error")}var s=e._ref.storage._makeRequest(a,i,o);e._request=s,s.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))},e.prototype._increaseMultiplier=function(){var e=rt*this._chunkMultiplier;e<33554432&&(this._chunkMultiplier*=2)},e.prototype._fetchMetadata=function(){var e=this;this._resolveToken((function(t,n){var r=ze(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage._makeRequest(r,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))},e.prototype._oneShotUpload=function(){var e=this;this._resolveToken((function(t,n){var r=Qe(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))},e.prototype._updateProgress=function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()},e.prototype._transition=function(e){if(this._state!==e)switch(e){case"canceling":this._state=e,void 0!==this._request&&this._request.cancel();break;case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=w(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}},e.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var e=K(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),e.prototype.on=function(e,t,n,r){var i=this,o=new ot(t,n,r);return this._addObserver(o),function(){i._removeObserver(o)}},e.prototype.then=function(e,t){return this._promise.then(e,t)},e.prototype.catch=function(e){return this.then(null,e)},e.prototype._addObserver=function(e){this._observers.push(e),this._notifyObserver(e)},e.prototype._removeObserver=function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)},e.prototype._notifyObservers=function(){var e=this;this._finishPromise();var t=this._observers.slice();t.forEach((function(t){e._notifyObserver(t)}))},e.prototype._finishPromise=function(){if(void 0!==this._resolve){var e=!0;switch(K(this._state)){case z.SUCCESS:at(this._resolve.bind(null,this.snapshot))();break;case z.CANCELED:case z.ERROR:var t=this._reject;at(t.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}},e.prototype._notifyObserver=function(e){var t=K(this._state);switch(t){case z.RUNNING:case z.PAUSED:e.next&&at(e.next.bind(e,this.snapshot))();break;case z.SUCCESS:e.complete&&at(e.complete.bind(e))();break;case z.CANCELED:case z.ERROR:e.error&&at(e.error.bind(e,this._error))();break;default:e.error&&at(e.error.bind(e,this._error))()}},e.prototype.resume=function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e},e.prototype.pause=function(){var e="running"===this._state;return e&&this._transition("pausing"),e},e.prototype.cancel=function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e},e}(),ut=function(){function e(e,t){this._service=e,this._location=t instanceof Z?t:Z.makeFromUrl(t,e.host)}return e.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},e.prototype._newRef=function(t,n){return new e(t,n)},Object.defineProperty(e.prototype,"root",{get:function(){var e=new Z(this._location.bucket,"");return this._newRef(this._service,e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return Se(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=_e(this._location.path);if(null===t)return null;var n=new Z(this._location.bucket,t);return new e(this._service,n)},enumerable:!1,configurable:!0}),e.prototype._throwIfRoot=function(e){if(""===this._location.path)throw A(e)},e}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ct(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new st(e,new be(t),n)}function lt(e){var t={prefixes:[],items:[]};return ht(e,t).then((function(){return t}))}function ht(e,t,n){return(0,i.mG)(this,void 0,void 0,(function(){var r,o,a,s;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:return r={pageToken:n},[4,ft(e,r)];case 1:return o=i.sent(),(a=t.prefixes).push.apply(a,o.prefixes),(s=t.items).push.apply(s,o.items),null==o.nextPageToken?[3,3]:[4,ht(e,t,o.nextPageToken)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function ft(e,t){return(0,i.mG)(this,void 0,void 0,(function(){var n,r;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:return null!=t&&"number"===typeof t.maxResults&&ae("options.maxResults",1,1e3,t.maxResults),n=t||{},r=Ke(e.storage,e._location,"/",n.pageToken,n.maxResults),[4,e.storage.makeRequestWithTokens(r)];case 1:return[2,i.sent().getPromise()]}}))}))}function dt(e){return(0,i.mG)(this,void 0,void 0,(function(){var t;return(0,i.Jh)(this,(function(n){switch(n.label){case 0:return e._throwIfRoot("getMetadata"),t=ze(e.storage,e._location,xe()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}}))}))}function pt(e,t){return(0,i.mG)(this,void 0,void 0,(function(){var n;return(0,i.Jh)(this,(function(r){switch(r.label){case 0:return e._throwIfRoot("updateMetadata"),n=We(e.storage,e._location,t,xe()),[4,e.storage.makeRequestWithTokens(n)];case 1:return[2,r.sent().getPromise()]}}))}))}function vt(e){return(0,i.mG)(this,void 0,void 0,(function(){var t;return(0,i.Jh)(this,(function(n){switch(n.label){case 0:return e._throwIfRoot("getDownloadURL"),t=$e(e.storage,e._location,xe()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise().then((function(e){if(null===e)throw k();return e}))]}}))}))}function gt(e){return(0,i.mG)(this,void 0,void 0,(function(){var t;return(0,i.Jh)(this,(function(n){switch(n.label){case 0:return e._throwIfRoot("deleteObject"),t=Je(e.storage,e._location),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}}))}))}function mt(e,t){var n=Te(e._location.path,t),r=new Z(e._location.bucket,n);return new ut(e.storage,r)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(e){return/^[A-Za-z]+:\/\//.test(e)}function bt(e,t){return new ut(e,t)}function wt(e,t){if(e instanceof Et){var n=e;if(null==n._bucket)throw S();var r=new ut(n,n._bucket);return null!=t?wt(r,t):r}return void 0!==t?mt(e,t):e}function _t(e,t){if(t&&yt(t)){if(e instanceof Et)return bt(e,t);throw C("To use ref(service, url), the first argument must be a Storage instance.")}return wt(e,t)}function Tt(e,t){var n=null===t||void 0===t?void 0:t[u];return null==n?null:Z.makeFromBucketSpec(n,e)}function St(e,t,n,r){void 0===r&&(r={}),e.host="http://"+t+":"+n;var i=r.mockUserToken;i&&(e._overrideAuthToken="string"===typeof i?i:(0,o.Sg)(i,e.app.options.projectId))}var Et=function(){function e(e,t,n,r,i,o){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._pool=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=s,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=c,this._maxUploadRetryTime=l,this._requests=new Set,this._bucket=null!=i?Z.makeFromBucketSpec(i,this._host):Tt(this._host,this.app.options)}return Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=Z.makeFromBucketSpec(this._url,e):this._bucket=Tt(e,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(e){ae("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(e){ae("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e},enumerable:!1,configurable:!0}),e.prototype._getAuthToken=function(){return(0,i.mG)(this,void 0,void 0,(function(){var e,t;return(0,i.Jh)(this,(function(n){switch(n.label){case 0:return this._overrideAuthToken?[2,this._overrideAuthToken]:(e=this._authProvider.getImmediate({optional:!0}),e?[4,e.getToken()]:[3,2]);case 1:if(t=n.sent(),null!==t)return[2,t.accessToken];n.label=2;case 2:return[2,null]}}))}))},e.prototype._getAppCheckToken=function(){return(0,i.mG)(this,void 0,void 0,(function(){var e,t;return(0,i.Jh)(this,(function(n){switch(n.label){case 0:return e=this._appCheckProvider.getImmediate({optional:!0}),e?[4,e.getToken()]:[3,2];case 1:return t=n.sent(),[2,t.token];case 2:return[2,null]}}))}))},e.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()},e.prototype._makeStorageReference=function(e){return new ut(this,e)},e.prototype._makeRequest=function(e,t,n){var r=this;if(this._deleted)return new Y(x());var i=ve(e,this._appId,t,n,this._pool,this._firebaseVersion);return this._requests.add(i),i.getPromise().then((function(){return r._requests.delete(i)}),(function(){return r._requests.delete(i)})),i},e.prototype.makeRequestWithTokens=function(e){return(0,i.mG)(this,void 0,void 0,(function(){var t,n,r;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return t=i.sent(),n=t[0],r=t[1],[2,this._makeRequest(e,n,r)]}}))}))},e}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function It(e,t,n){return e=(0,o.m9)(e),ct(e,t,n)}function kt(e){return e=(0,o.m9)(e),dt(e)}function Ct(e,t){return e=(0,o.m9)(e),pt(e,t)}function xt(e,t){return e=(0,o.m9)(e),ft(e,t)}function At(e){return e=(0,o.m9)(e),lt(e)}function Rt(e){return e=(0,o.m9)(e),vt(e)}function Nt(e){return e=(0,o.m9)(e),gt(e)}function Pt(e,t){return e=(0,o.m9)(e),_t(e,t)}function Ot(e,t){return mt(e,t)}function Dt(e,t,n,r){void 0===r&&(r={}),St(e,t,n,r)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt=function(){function e(e,t,n){this._delegate=e,this.task=t,this.ref=n}return Object.defineProperty(e.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),e}(),Mt=function(){function e(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(e.prototype,"snapshot",{get:function(){return new Lt(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),e.prototype.then=function(e,t){var n=this;return this._delegate.then((function(t){if(e)return e(new Lt(t,n,n._ref))}),t)},e.prototype.on=function(e,t,n,r){var i=this,o=void 0;return t&&(o="function"===typeof t?function(e){return t(new Lt(e,i,i._ref))}:{next:t.next?function(e){return t.next(new Lt(e,i,i._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,o,n||void 0,r||void 0)},e}(),Ft=function(){function e(e,t){this._delegate=e,this._service=t}return Object.defineProperty(e.prototype,"prefixes",{get:function(){var e=this;return this._delegate.prefixes.map((function(t){return new qt(t,e._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){var e=this;return this._delegate.items.map((function(t){return new qt(t,e._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),e}(),qt=function(){function e(e,t){this._delegate=e,this.storage=t}return Object.defineProperty(e.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this._delegate.toString()},e.prototype.child=function(t){var n=Ot(this._delegate,t);return new e(n,this.storage)},Object.defineProperty(e.prototype,"root",{get:function(){return new e(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return null==t?null:new e(t,this.storage)},enumerable:!1,configurable:!0}),e.prototype.put=function(e,t){return this._throwIfRoot("put"),new Mt(It(this._delegate,e,t),this)},e.prototype.putString=function(e,t,n){void 0===t&&(t=O.RAW),this._throwIfRoot("putString");var r=L(t,e),o=(0,i.pi)({},n);return null==o["contentType"]&&null!=r.contentType&&(o["contentType"]=r.contentType),new Mt(new st(this._delegate,new be(r.data,!0),o),this)},e.prototype.listAll=function(){var e=this;return At(this._delegate).then((function(t){return new Ft(t,e.storage)}))},e.prototype.list=function(e){var t=this;return xt(this._delegate,e||void 0).then((function(e){return new Ft(e,t.storage)}))},e.prototype.getMetadata=function(){return kt(this._delegate)},e.prototype.updateMetadata=function(e){return Ct(this._delegate,e)},e.prototype.getDownloadURL=function(){return Rt(this._delegate)},e.prototype.delete=function(){return this._throwIfRoot("delete"),Nt(this._delegate)},e.prototype._throwIfRoot=function(e){if(""===this._delegate._location.path)throw A(e)},e}(),jt=function(){function e(e,t){this.app=e,this._delegate=t}return Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),e.prototype.ref=function(e){if(yt(e))throw C("ref() expected a child path but got a URL, use refFromURL instead.");return new qt(Pt(this._delegate,e),this)},e.prototype.refFromURL=function(e){if(!yt(e))throw C("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Z.makeFromUrl(e,this._delegate.host)}catch(t){throw C("refFromUrl() expected a valid full URL but got an invalid one.")}return new qt(Pt(this._delegate,e),this)},e.prototype.setMaxUploadRetryTime=function(e){this._delegate.maxUploadRetryTime=e},e.prototype.setMaxOperationRetryTime=function(e){this._delegate.maxOperationRetryTime=e},e.prototype.useEmulator=function(e,t,n){void 0===n&&(n={}),Dt(this._delegate,e,t,n)},e}(),Ut="@firebase/storage",Bt="0.7.0",Vt="storage";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ht(e,t){var n=t.instanceIdentifier,i=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal"),s=new jt(i,new Et(i,o,a,new J,n,r.Z.SDK_VERSION));return s}function Gt(e){var t={TaskState:z,TaskEvent:G,StringFormat:O,Storage:Et,Reference:qt};e.INTERNAL.registerComponent(new a.wA(Vt,Ht,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion(Ut,Bt)}Gt(r.Z)},3968:function(e,t){(function(e,n){n(t)})(0,(function(e){"use strict";function t(e){return Array.prototype.slice.call(e)}function n(e){return new Promise((function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function r(e,t,r){var i,o=new Promise((function(o,a){i=e[t].apply(e,r),n(i).then(o,a)}));return o.request=i,o}function i(e,t,n){var i=r(e,t,n);return i.then((function(e){if(e)return new l(e,i.request)}))}function o(e,t,n){n.forEach((function(n){Object.defineProperty(e.prototype,n,{get:function(){return this[t][n]},set:function(e){this[t][n]=e}})}))}function a(e,t,n,i){i.forEach((function(i){i in n.prototype&&(e.prototype[i]=function(){return r(this[t],i,arguments)})}))}function s(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return this[t][r].apply(this[t],arguments)})}))}function u(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return i(this[t],r,arguments)})}))}function c(e){this._index=e}function l(e,t){this._cursor=e,this._request=t}function h(e){this._store=e}function f(e){this._tx=e,this.complete=new Promise((function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}}))}function d(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new f(n)}function p(e){this._db=e}function v(e,t,n){var i=r(indexedDB,"open",[e,t]),o=i.request;return o&&(o.onupgradeneeded=function(e){n&&n(new d(o.result,e.oldVersion,o.transaction))}),i.then((function(e){return new p(e)}))}function g(e){return r(indexedDB,"deleteDatabase",[e])}o(c,"_index",["name","keyPath","multiEntry","unique"]),a(c,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),u(c,"_index",IDBIndex,["openCursor","openKeyCursor"]),o(l,"_cursor",["direction","key","primaryKey","value"]),a(l,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(e){e in IDBCursor.prototype&&(l.prototype[e]=function(){var t=this,r=arguments;return Promise.resolve().then((function(){return t._cursor[e].apply(t._cursor,r),n(t._request).then((function(e){if(e)return new l(e,t._request)}))}))})})),h.prototype.createIndex=function(){return new c(this._store.createIndex.apply(this._store,arguments))},h.prototype.index=function(){return new c(this._store.index.apply(this._store,arguments))},o(h,"_store",["name","keyPath","indexNames","autoIncrement"]),a(h,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),u(h,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),s(h,"_store",IDBObjectStore,["deleteIndex"]),f.prototype.objectStore=function(){return new h(this._tx.objectStore.apply(this._tx,arguments))},o(f,"_tx",["objectStoreNames","mode"]),s(f,"_tx",IDBTransaction,["abort"]),d.prototype.createObjectStore=function(){return new h(this._db.createObjectStore.apply(this._db,arguments))},o(d,"_db",["name","version","objectStoreNames"]),s(d,"_db",IDBDatabase,["deleteObjectStore","close"]),p.prototype.transaction=function(){return new f(this._db.transaction.apply(this._db,arguments))},o(p,"_db",["name","version","objectStoreNames"]),s(p,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(e){[h,c].forEach((function(n){e in n.prototype&&(n.prototype[e.replace("open","iterate")]=function(){var n=t(arguments),r=n[n.length-1],i=this._store||this._index,o=i[e].apply(i,n.slice(0,-1));o.onsuccess=function(){r(o.result)}})}))})),[c,h].forEach((function(e){e.prototype.getAll||(e.prototype.getAll=function(e,t){var n=this,r=[];return new Promise((function(i){n.iterateCursor(e,(function(e){e?(r.push(e.value),void 0===t||r.length!=t?e.continue():i(r)):i(r)}))}))})})),e.openDb=v,e.deleteDb=g,Object.defineProperty(e,"__esModule",{value:!0})}))},8430:(e,t,n)=>{"use strict";n.d(t,{ZT:()=>i,pi:()=>o,mG:()=>a,Jh:()=>s,XA:()=>u,CR:()=>c,ev:()=>l});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)};function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function a(e,t,n,r){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r["throw"](e))}catch(t){o(t)}}function u(e){e.done?n(e.value):i(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function s(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(e){return function(t){return u([e,t])}}function u(o){if(n)throw new TypeError("Generator is already executing.");while(a)try{if(n=1,r&&(i=2&o[0]?r["return"]:o[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(i=a.trys,!(i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}Object.create;function u(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{while((void 0===t||t-- >0)&&!(r=o.next()).done)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o["return"])&&n.call(o)}finally{if(i)throw i.error}}return a}function l(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create},9582:(e,t,n)=>{"use strict";n.d(t,{p7:()=>tt,r5:()=>K});var r=n(3673),i=n(1959);
/*!
  * vue-router v4.0.12
  * (c) 2021 Eduardo San Martin Morote
  * @license MIT
  */
const o="function"===typeof Symbol&&"symbol"===typeof Symbol.toStringTag,a=e=>o?Symbol(e):"_vr_"+e,s=a("rvlm"),u=a("rvd"),c=a("r"),l=a("rl"),h=a("rvl"),f="undefined"!==typeof window;function d(e){return e.__esModule||o&&"Module"===e[Symbol.toStringTag]}const p=Object.assign;function v(e,t){const n={};for(const r in t){const i=t[r];n[r]=Array.isArray(i)?i.map(e):e(i)}return n}const g=()=>{};const m=/\/$/,y=e=>e.replace(m,"");function b(e,t,n="/"){let r,i={},o="",a="";const s=t.indexOf("?"),u=t.indexOf("#",s>-1?s:0);return s>-1&&(r=t.slice(0,s),o=t.slice(s+1,u>-1?u:t.length),i=e(o)),u>-1&&(r=r||t.slice(0,u),a=t.slice(u,t.length)),r=C(null!=r?r:t,n),{fullPath:r+(o&&"?")+o+a,path:r,query:i,hash:a}}function w(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function _(e,t){return t&&e.toLowerCase().startsWith(t.toLowerCase())?e.slice(t.length)||"/":e}function T(e,t,n){const r=t.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&S(t.matched[r],n.matched[i])&&E(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function S(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function E(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!I(e[n],t[n]))return!1;return!0}function I(e,t){return Array.isArray(e)?k(e,t):Array.isArray(t)?k(t,e):e===t}function k(e,t){return Array.isArray(t)?e.length===t.length&&e.every(((e,n)=>e===t[n])):1===e.length&&e[0]===t}function C(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/");let i,o,a=n.length-1;for(i=0;i<r.length;i++)if(o=r[i],1!==a&&"."!==o){if(".."!==o)break;a--}return n.slice(0,a).join("/")+"/"+r.slice(i-(i===r.length?1:0)).join("/")}var x,A;(function(e){e["pop"]="pop",e["push"]="push"})(x||(x={})),function(e){e["back"]="back",e["forward"]="forward",e["unknown"]=""}(A||(A={}));function R(e){if(!e)if(f){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return"/"!==e[0]&&"#"!==e[0]&&(e="/"+e),y(e)}const N=/^[^#]+#/;function P(e,t){return e.replace(N,"#")+t}function O(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const D=()=>({left:window.pageXOffset,top:window.pageYOffset});function L(e){let t;if("el"in e){const n=e.el,r="string"===typeof n&&n.startsWith("#");0;const i="string"===typeof n?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;t=O(i,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(null!=t.left?t.left:window.pageXOffset,null!=t.top?t.top:window.pageYOffset)}function M(e,t){const n=history.state?history.state.position-t:-1;return n+e}const F=new Map;function q(e,t){F.set(e,t)}function j(e){const t=F.get(e);return F.delete(e),t}let U=()=>location.protocol+"//"+location.host;function B(e,t){const{pathname:n,search:r,hash:i}=t,o=e.indexOf("#");if(o>-1){let t=i.includes(e.slice(o))?e.slice(o).length:1,n=i.slice(t);return"/"!==n[0]&&(n="/"+n),_(n,"")}const a=_(n,e);return a+r+i}function V(e,t,n,r){let i=[],o=[],a=null;const s=({state:o})=>{const s=B(e,location),u=n.value,c=t.value;let l=0;if(o){if(n.value=s,t.value=o,a&&a===u)return void(a=null);l=c?o.position-c.position:0}else r(s);i.forEach((e=>{e(n.value,u,{delta:l,type:x.pop,direction:l?l>0?A.forward:A.back:A.unknown})}))};function u(){a=n.value}function c(e){i.push(e);const t=()=>{const t=i.indexOf(e);t>-1&&i.splice(t,1)};return o.push(t),t}function l(){const{history:e}=window;e.state&&e.replaceState(p({},e.state,{scroll:D()}),"")}function h(){for(const e of o)e();o=[],window.removeEventListener("popstate",s),window.removeEventListener("beforeunload",l)}return window.addEventListener("popstate",s),window.addEventListener("beforeunload",l),{pauseListeners:u,listen:c,destroy:h}}function H(e,t,n,r=!1,i=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:i?D():null}}function G(e){const{history:t,location:n}=window,r={value:B(e,n)},i={value:t.state};function o(r,o,a){const s=e.indexOf("#"),u=s>-1?(n.host&&document.querySelector("base")?e:e.slice(s))+r:U()+e+r;try{t[a?"replaceState":"pushState"](o,"",u),i.value=o}catch(c){console.error(c),n[a?"replace":"assign"](u)}}function a(e,n){const a=p({},t.state,H(i.value.back,e,i.value.forward,!0),n,{position:i.value.position});o(e,a,!0),r.value=e}function s(e,n){const a=p({},i.value,t.state,{forward:e,scroll:D()});o(a.current,a,!0);const s=p({},H(r.value,e,null),{position:a.position+1},n);o(e,s,!1),r.value=e}return i.value||o(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0),{location:r,state:i,push:s,replace:a}}function z(e){e=R(e);const t=G(e),n=V(e,t.state,t.location,t.replace);function r(e,t=!0){t||n.pauseListeners(),history.go(e)}const i=p({location:"",base:e,go:r,createHref:P.bind(null,e)},t,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>t.state.value}),i}function K(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),z(e)}function $(e){return"string"===typeof e||e&&"object"===typeof e}function W(e){return"string"===typeof e||"symbol"===typeof e}const J={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Z=a("nf");var Y;(function(e){e[e["aborted"]=4]="aborted",e[e["cancelled"]=8]="cancelled",e[e["duplicated"]=16]="duplicated"})(Y||(Y={}));function Q(e,t){return p(new Error,{type:e,[Z]:!0},t)}function X(e,t){return e instanceof Error&&Z in e&&(null==t||!!(e.type&t))}const ee="[^/]+?",te={sensitive:!1,strict:!1,start:!0,end:!0},ne=/[.+*?^${}()[\]/\\]/g;function re(e,t){const n=p({},te,t),r=[];let i=n.start?"^":"";const o=[];for(const l of e){const e=l.length?[]:[90];n.strict&&!l.length&&(i+="/");for(let t=0;t<l.length;t++){const r=l[t];let a=40+(n.sensitive?.25:0);if(0===r.type)t||(i+="/"),i+=r.value.replace(ne,"\\$&"),a+=40;else if(1===r.type){const{value:e,repeatable:n,optional:s,regexp:u}=r;o.push({name:e,repeatable:n,optional:s});const h=u||ee;if(h!==ee){a+=10;try{new RegExp(`(${h})`)}catch(c){throw new Error(`Invalid custom RegExp for param "${e}" (${h}): `+c.message)}}let f=n?`((?:${h})(?:/(?:${h}))*)`:`(${h})`;t||(f=s&&l.length<2?`(?:/${f})`:"/"+f),s&&(f+="?"),i+=f,a+=20,s&&(a+=-8),n&&(a+=-20),".*"===h&&(a+=-50)}e.push(a)}r.push(e)}if(n.strict&&n.end){const e=r.length-1;r[e][r[e].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const a=new RegExp(i,n.sensitive?"":"i");function s(e){const t=e.match(a),n={};if(!t)return null;for(let r=1;r<t.length;r++){const e=t[r]||"",i=o[r-1];n[i.name]=e&&i.repeatable?e.split("/"):e}return n}function u(t){let n="",r=!1;for(const i of e){r&&n.endsWith("/")||(n+="/"),r=!1;for(const e of i)if(0===e.type)n+=e.value;else if(1===e.type){const{value:o,repeatable:a,optional:s}=e,u=o in t?t[o]:"";if(Array.isArray(u)&&!a)throw new Error(`Provided param "${o}" is an array but it is not repeatable (* or + modifiers)`);const c=Array.isArray(u)?u.join("/"):u;if(!c){if(!s)throw new Error(`Missing required param "${o}"`);i.length<2&&(n.endsWith("/")?n=n.slice(0,-1):r=!0)}n+=c}}return n}return{re:a,score:r,keys:o,parse:s,stringify:u}}function ie(e,t){let n=0;while(n<e.length&&n<t.length){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?1===e.length&&80===e[0]?-1:1:e.length>t.length?1===t.length&&80===t[0]?1:-1:0}function oe(e,t){let n=0;const r=e.score,i=t.score;while(n<r.length&&n<i.length){const e=ie(r[n],i[n]);if(e)return e;n++}return i.length-r.length}const ae={type:0,value:""},se=/[a-zA-Z0-9_]/;function ue(e){if(!e)return[[]];if("/"===e)return[[ae]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(e){throw new Error(`ERR (${n})/"${c}": ${e}`)}let n=0,r=n;const i=[];let o;function a(){o&&i.push(o),o=[]}let s,u=0,c="",l="";function h(){c&&(0===n?o.push({type:0,value:c}):1===n||2===n||3===n?(o.length>1&&("*"===s||"+"===s)&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:c,regexp:l,repeatable:"*"===s||"+"===s,optional:"*"===s||"?"===s})):t("Invalid state to consume buffer"),c="")}function f(){c+=s}while(u<e.length)if(s=e[u++],"\\"!==s||2===n)switch(n){case 0:"/"===s?(c&&h(),a()):":"===s?(h(),n=1):f();break;case 4:f(),n=r;break;case 1:"("===s?n=2:se.test(s)?f():(h(),n=0,"*"!==s&&"?"!==s&&"+"!==s&&u--);break;case 2:")"===s?"\\"==l[l.length-1]?l=l.slice(0,-1)+s:n=3:l+=s;break;case 3:h(),n=0,"*"!==s&&"?"!==s&&"+"!==s&&u--,l="";break;default:t("Unknown state");break}else r=n,n=4;return 2===n&&t(`Unfinished custom RegExp for param "${c}"`),h(),a(),i}function ce(e,t,n){const r=re(ue(e.path),n);const i=p(r,{record:e,parent:t,children:[],alias:[]});return t&&!i.record.aliasOf===!t.record.aliasOf&&t.children.push(i),i}function le(e,t){const n=[],r=new Map;function i(e){return r.get(e)}function o(e,n,r){const i=!r,s=fe(e);s.aliasOf=r&&r.record;const c=ge(t,e),l=[s];if("alias"in e){const t="string"===typeof e.alias?[e.alias]:e.alias;for(const e of t)l.push(p({},s,{components:r?r.record.components:s.components,path:e,aliasOf:r?r.record:s}))}let h,f;for(const t of l){const{path:l}=t;if(n&&"/"!==l[0]){const e=n.record.path,r="/"===e[e.length-1]?"":"/";t.path=n.record.path+(l&&r+l)}if(h=ce(t,n,c),r?r.alias.push(h):(f=f||h,f!==h&&f.alias.push(h),i&&e.name&&!pe(h)&&a(e.name)),"children"in s){const e=s.children;for(let t=0;t<e.length;t++)o(e[t],h,r&&r.children[t])}r=r||h,u(h)}return f?()=>{a(f)}:g}function a(e){if(W(e)){const t=r.get(e);t&&(r.delete(e),n.splice(n.indexOf(t),1),t.children.forEach(a),t.alias.forEach(a))}else{const t=n.indexOf(e);t>-1&&(n.splice(t,1),e.record.name&&r.delete(e.record.name),e.children.forEach(a),e.alias.forEach(a))}}function s(){return n}function u(e){let t=0;while(t<n.length&&oe(e,n[t])>=0)t++;n.splice(t,0,e),e.record.name&&!pe(e)&&r.set(e.record.name,e)}function c(e,t){let i,o,a,s={};if("name"in e&&e.name){if(i=r.get(e.name),!i)throw Q(1,{location:e});a=i.record.name,s=p(he(t.params,i.keys.filter((e=>!e.optional)).map((e=>e.name))),e.params),o=i.stringify(s)}else if("path"in e)o=e.path,i=n.find((e=>e.re.test(o))),i&&(s=i.parse(o),a=i.record.name);else{if(i=t.name?r.get(t.name):n.find((e=>e.re.test(t.path))),!i)throw Q(1,{location:e,currentLocation:t});a=i.record.name,s=p({},t.params,e.params),o=i.stringify(s)}const u=[];let c=i;while(c)u.unshift(c.record),c=c.parent;return{name:a,path:o,params:s,matched:u,meta:ve(u)}}return t=ge({strict:!1,end:!0,sensitive:!1},t),e.forEach((e=>o(e))),{addRoute:o,resolve:c,removeRoute:a,getRoutes:s,getRecordMatcher:i}}function he(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function fe(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:de(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||{}:{default:e.component}}}function de(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]="boolean"===typeof n?n:n[r];return t}function pe(e){while(e){if(e.record.aliasOf)return!0;e=e.parent}return!1}function ve(e){return e.reduce(((e,t)=>p(e,t.meta)),{})}function ge(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}const me=/#/g,ye=/&/g,be=/\//g,we=/=/g,_e=/\?/g,Te=/\+/g,Se=/%5B/g,Ee=/%5D/g,Ie=/%5E/g,ke=/%60/g,Ce=/%7B/g,xe=/%7C/g,Ae=/%7D/g,Re=/%20/g;function Ne(e){return encodeURI(""+e).replace(xe,"|").replace(Se,"[").replace(Ee,"]")}function Pe(e){return Ne(e).replace(Ce,"{").replace(Ae,"}").replace(Ie,"^")}function Oe(e){return Ne(e).replace(Te,"%2B").replace(Re,"+").replace(me,"%23").replace(ye,"%26").replace(ke,"`").replace(Ce,"{").replace(Ae,"}").replace(Ie,"^")}function De(e){return Oe(e).replace(we,"%3D")}function Le(e){return Ne(e).replace(me,"%23").replace(_e,"%3F")}function Me(e){return null==e?"":Le(e).replace(be,"%2F")}function Fe(e){try{return decodeURIComponent(""+e)}catch(t){}return""+e}function qe(e){const t={};if(""===e||"?"===e)return t;const n="?"===e[0],r=(n?e.slice(1):e).split("&");for(let i=0;i<r.length;++i){const e=r[i].replace(Te," "),n=e.indexOf("="),o=Fe(n<0?e:e.slice(0,n)),a=n<0?null:Fe(e.slice(n+1));if(o in t){let e=t[o];Array.isArray(e)||(e=t[o]=[e]),e.push(a)}else t[o]=a}return t}function je(e){let t="";for(let n in e){const r=e[n];if(n=De(n),null==r){void 0!==r&&(t+=(t.length?"&":"")+n);continue}const i=Array.isArray(r)?r.map((e=>e&&Oe(e))):[r&&Oe(r)];i.forEach((e=>{void 0!==e&&(t+=(t.length?"&":"")+n,null!=e&&(t+="="+e))}))}return t}function Ue(e){const t={};for(const n in e){const r=e[n];void 0!==r&&(t[n]=Array.isArray(r)?r.map((e=>null==e?null:""+e)):null==r?r:""+r)}return t}function Be(){let e=[];function t(t){return e.push(t),()=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)}}function n(){e=[]}return{add:t,list:()=>e,reset:n}}function Ve(e,t,n,r,i){const o=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise(((a,s)=>{const u=e=>{!1===e?s(Q(4,{from:n,to:t})):e instanceof Error?s(e):$(e)?s(Q(2,{from:t,to:e})):(o&&r.enterCallbacks[i]===o&&"function"===typeof e&&o.push(e),a())},c=e.call(r&&r.instances[i],t,n,u);let l=Promise.resolve(c);e.length<3&&(l=l.then(u)),l.catch((e=>s(e)))}))}function He(e,t,n,r){const i=[];for(const o of e)for(const e in o.components){let a=o.components[e];if("beforeRouteEnter"===t||o.instances[e])if(Ge(a)){const s=a.__vccOpts||a,u=s[t];u&&i.push(Ve(u,n,r,o,e))}else{let s=a();0,i.push((()=>s.then((i=>{if(!i)return Promise.reject(new Error(`Couldn't resolve component "${e}" at "${o.path}"`));const a=d(i)?i.default:i;o.components[e]=a;const s=a.__vccOpts||a,u=s[t];return u&&Ve(u,n,r,o,e)()}))))}}return i}function Ge(e){return"object"===typeof e||"displayName"in e||"props"in e||"__vccOpts"in e}function ze(e){const t=(0,r.f3)(c),n=(0,r.f3)(l),o=(0,i.Fl)((()=>t.resolve((0,i.SU)(e.to)))),a=(0,i.Fl)((()=>{const{matched:e}=o.value,{length:t}=e,r=e[t-1],i=n.matched;if(!r||!i.length)return-1;const a=i.findIndex(S.bind(null,r));if(a>-1)return a;const s=Ze(e[t-2]);return t>1&&Ze(r)===s&&i[i.length-1].path!==s?i.findIndex(S.bind(null,e[t-2])):a})),s=(0,i.Fl)((()=>a.value>-1&&Je(n.params,o.value.params))),u=(0,i.Fl)((()=>a.value>-1&&a.value===n.matched.length-1&&E(n.params,o.value.params)));function h(n={}){return We(n)?t[(0,i.SU)(e.replace)?"replace":"push"]((0,i.SU)(e.to)).catch(g):Promise.resolve()}return{route:o,href:(0,i.Fl)((()=>o.value.href)),isActive:s,isExactActive:u,navigate:h}}const Ke=(0,r.aZ)({name:"RouterLink",props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:ze,setup(e,{slots:t}){const n=(0,i.qj)(ze(e)),{options:o}=(0,r.f3)(c),a=(0,i.Fl)((()=>({[Ye(e.activeClass,o.linkActiveClass,"router-link-active")]:n.isActive,[Ye(e.exactActiveClass,o.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive})));return()=>{const i=t.default&&t.default(n);return e.custom?i:(0,r.h)("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:a.value},i)}}}),$e=Ke;function We(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&(void 0===e.button||0===e.button)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Je(e,t){for(const n in t){const r=t[n],i=e[n];if("string"===typeof r){if(r!==i)return!1}else if(!Array.isArray(i)||i.length!==r.length||r.some(((e,t)=>e!==i[t])))return!1}return!0}function Ze(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Ye=(e,t,n)=>null!=e?e:null!=t?t:n,Qe=(0,r.aZ)({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},setup(e,{attrs:t,slots:n}){const o=(0,r.f3)(h),a=(0,i.Fl)((()=>e.route||o.value)),c=(0,r.f3)(u,0),l=(0,i.Fl)((()=>a.value.matched[c]));(0,r.JJ)(u,c+1),(0,r.JJ)(s,l),(0,r.JJ)(h,a);const f=(0,i.iH)();return(0,r.YP)((()=>[f.value,l.value,e.name]),(([e,t,n],[r,i,o])=>{t&&(t.instances[n]=e,i&&i!==t&&e&&e===r&&(t.leaveGuards.size||(t.leaveGuards=i.leaveGuards),t.updateGuards.size||(t.updateGuards=i.updateGuards))),!e||!t||i&&S(t,i)&&r||(t.enterCallbacks[n]||[]).forEach((t=>t(e)))}),{flush:"post"}),()=>{const i=a.value,o=l.value,s=o&&o.components[e.name],u=e.name;if(!s)return Xe(n.default,{Component:s,route:i});const c=o.props[e.name],h=c?!0===c?i.params:"function"===typeof c?c(i):c:null,d=e=>{e.component.isUnmounted&&(o.instances[u]=null)},v=(0,r.h)(s,p({},h,t,{onVnodeUnmounted:d,ref:f}));return Xe(n.default,{Component:v,route:i})||v}}});function Xe(e,t){if(!e)return null;const n=e(t);return 1===n.length?n[0]:n}const et=Qe;function tt(e){const t=le(e.routes,e),n=e.parseQuery||qe,o=e.stringifyQuery||je,a=e.history;const s=Be(),u=Be(),d=Be(),m=(0,i.XI)(J);let y=J;f&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const _=v.bind(null,(e=>""+e)),S=v.bind(null,Me),E=v.bind(null,Fe);function I(e,n){let r,i;return W(e)?(r=t.getRecordMatcher(e),i=n):i=e,t.addRoute(i,r)}function k(e){const n=t.getRecordMatcher(e);n&&t.removeRoute(n)}function C(){return t.getRoutes().map((e=>e.record))}function A(e){return!!t.getRecordMatcher(e)}function R(e,r){if(r=p({},r||m.value),"string"===typeof e){const i=b(n,e,r.path),o=t.resolve({path:i.path},r),s=a.createHref(i.fullPath);return p(i,o,{params:E(o.params),hash:Fe(i.hash),redirectedFrom:void 0,href:s})}let i;if("path"in e)i=p({},e,{path:b(n,e.path,r.path).path});else{const t=p({},e.params);for(const e in t)null==t[e]&&delete t[e];i=p({},e,{params:S(e.params)}),r.params=S(r.params)}const s=t.resolve(i,r),u=e.hash||"";s.params=_(E(s.params));const c=w(o,p({},e,{hash:Pe(u),path:s.path})),l=a.createHref(c);return p({fullPath:c,hash:u,query:o===je?Ue(e.query):e.query||{}},s,{redirectedFrom:void 0,href:l})}function N(e){return"string"===typeof e?b(n,e,m.value.path):p({},e)}function P(e,t){if(y!==e)return Q(8,{from:t,to:e})}function O(e){return B(e)}function F(e){return O(p(N(e),{replace:!0}))}function U(e){const t=e.matched[e.matched.length-1];if(t&&t.redirect){const{redirect:n}=t;let r="function"===typeof n?n(e):n;return"string"===typeof r&&(r=r.includes("?")||r.includes("#")?r=N(r):{path:r},r.params={}),p({query:e.query,hash:e.hash,params:e.params},r)}}function B(e,t){const n=y=R(e),r=m.value,i=e.state,a=e.force,s=!0===e.replace,u=U(n);if(u)return B(p(N(u),{state:i,force:a,replace:s}),t||n);const c=n;let l;return c.redirectedFrom=t,!a&&T(o,r,n)&&(l=Q(16,{to:c,from:r}),ie(r,r,!0,!1)),(l?Promise.resolve(l):H(c,r)).catch((e=>X(e)?e:te(e,c,r))).then((e=>{if(e){if(X(e,2))return B(p(N(e.to),{state:i,force:a,replace:s}),t||c)}else e=z(c,r,!0,s,i);return G(c,r,e),e}))}function V(e,t){const n=P(e,t);return n?Promise.reject(n):Promise.resolve()}function H(e,t){let n;const[r,i,o]=rt(e,t);n=He(r.reverse(),"beforeRouteLeave",e,t);for(const s of r)s.leaveGuards.forEach((r=>{n.push(Ve(r,e,t))}));const a=V.bind(null,e,t);return n.push(a),nt(n).then((()=>{n=[];for(const r of s.list())n.push(Ve(r,e,t));return n.push(a),nt(n)})).then((()=>{n=He(i,"beforeRouteUpdate",e,t);for(const r of i)r.updateGuards.forEach((r=>{n.push(Ve(r,e,t))}));return n.push(a),nt(n)})).then((()=>{n=[];for(const r of e.matched)if(r.beforeEnter&&!t.matched.includes(r))if(Array.isArray(r.beforeEnter))for(const i of r.beforeEnter)n.push(Ve(i,e,t));else n.push(Ve(r.beforeEnter,e,t));return n.push(a),nt(n)})).then((()=>(e.matched.forEach((e=>e.enterCallbacks={})),n=He(o,"beforeRouteEnter",e,t),n.push(a),nt(n)))).then((()=>{n=[];for(const r of u.list())n.push(Ve(r,e,t));return n.push(a),nt(n)})).catch((e=>X(e,8)?e:Promise.reject(e)))}function G(e,t,n){for(const r of d.list())r(e,t,n)}function z(e,t,n,r,i){const o=P(e,t);if(o)return o;const s=t===J,u=f?history.state:{};n&&(r||s?a.replace(e.fullPath,p({scroll:s&&u&&u.scroll},i)):a.push(e.fullPath,i)),m.value=e,ie(e,t,n,s),re()}let K;function $(){K=a.listen(((e,t,n)=>{const r=R(e),i=U(r);if(i)return void B(p(i,{replace:!0}),r).catch(g);y=r;const o=m.value;f&&q(M(o.fullPath,n.delta),D()),H(r,o).catch((e=>X(e,12)?e:X(e,2)?(B(e.to,r).then((e=>{X(e,20)&&!n.delta&&n.type===x.pop&&a.go(-1,!1)})).catch(g),Promise.reject()):(n.delta&&a.go(-n.delta,!1),te(e,r,o)))).then((e=>{e=e||z(r,o,!1),e&&(n.delta?a.go(-n.delta,!1):n.type===x.pop&&X(e,20)&&a.go(-1,!1)),G(r,o,e)})).catch(g)}))}let Z,Y=Be(),ee=Be();function te(e,t,n){re(e);const r=ee.list();return r.length?r.forEach((r=>r(e,t,n))):console.error(e),Promise.reject(e)}function ne(){return Z&&m.value!==J?Promise.resolve():new Promise(((e,t)=>{Y.add([e,t])}))}function re(e){Z||(Z=!0,$(),Y.list().forEach((([t,n])=>e?n(e):t())),Y.reset())}function ie(t,n,i,o){const{scrollBehavior:a}=e;if(!f||!a)return Promise.resolve();const s=!i&&j(M(t.fullPath,0))||(o||!i)&&history.state&&history.state.scroll||null;return(0,r.Y3)().then((()=>a(t,n,s))).then((e=>e&&L(e))).catch((e=>te(e,t,n)))}const oe=e=>a.go(e);let ae;const se=new Set,ue={currentRoute:m,addRoute:I,removeRoute:k,hasRoute:A,getRoutes:C,resolve:R,options:e,push:O,replace:F,go:oe,back:()=>oe(-1),forward:()=>oe(1),beforeEach:s.add,beforeResolve:u.add,afterEach:d.add,onError:ee.add,isReady:ne,install(e){const t=this;e.component("RouterLink",$e),e.component("RouterView",et),e.config.globalProperties.$router=t,Object.defineProperty(e.config.globalProperties,"$route",{enumerable:!0,get:()=>(0,i.SU)(m)}),f&&!ae&&m.value===J&&(ae=!0,O(a.location).catch((e=>{0})));const n={};for(const o in J)n[o]=(0,i.Fl)((()=>m.value[o]));e.provide(c,t),e.provide(l,(0,i.qj)(n)),e.provide(h,m);const r=e.unmount;se.add(e),e.unmount=function(){se.delete(e),se.size<1&&(y=J,K&&K(),m.value=J,ae=!1,Z=!1),r()}}};return ue}function nt(e){return e.reduce(((e,t)=>e.then((()=>t()))),Promise.resolve())}function rt(e,t){const n=[],r=[],i=[],o=Math.max(t.matched.length,e.matched.length);for(let a=0;a<o;a++){const o=t.matched[a];o&&(e.matched.find((e=>S(e,o)))?r.push(o):n.push(o));const s=e.matched[a];s&&(t.matched.find((e=>S(e,s)))||i.push(s))}return[n,r,i]}},3617:(e,t,n)=>{"use strict";n.d(t,{MT:()=>Z,nv:()=>ne,Se:()=>te,OI:()=>ee,rn:()=>X});var r=n(3673),i=n(1959);function o(){return a().__VUE_DEVTOOLS_GLOBAL_HOOK__}function a(){return"undefined"!==typeof navigator&&"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{}}const s="function"===typeof Proxy,u="devtools-plugin:setup",c="plugin:settings:set";class l{constructor(e,t){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=e,this.hook=t;const n={};if(e.settings)for(const a in e.settings){const t=e.settings[a];n[a]=t.defaultValue}const r=`__vue-devtools-plugin-settings__${e.id}`;let i={...n};try{const e=localStorage.getItem(r),t=JSON.parse(e);Object.assign(i,t)}catch(o){}this.fallbacks={getSettings(){return i},setSettings(e){try{localStorage.setItem(r,JSON.stringify(e))}catch(o){}i=e}},t.on(c,((e,t)=>{e===this.plugin.id&&this.fallbacks.setSettings(t)})),this.proxiedOn=new Proxy({},{get:(e,t)=>this.target?this.target.on[t]:(...e)=>{this.onQueue.push({method:t,args:e})}}),this.proxiedTarget=new Proxy({},{get:(e,t)=>this.target?this.target[t]:"on"===t?this.proxiedOn:Object.keys(this.fallbacks).includes(t)?(...e)=>(this.targetQueue.push({method:t,args:e,resolve:()=>{}}),this.fallbacks[t](...e)):(...e)=>new Promise((n=>{this.targetQueue.push({method:t,args:e,resolve:n})}))})}async setRealTarget(e){this.target=e;for(const t of this.onQueue)this.target.on[t.method](...t.args);for(const t of this.targetQueue)t.resolve(await this.target[t.method](...t.args))}}function h(e,t){const n=a(),r=o(),i=s&&e.enableEarlyProxy;if(!r||!n.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__&&i){const o=i?new l(e,r):null,a=n.__VUE_DEVTOOLS_PLUGINS__=n.__VUE_DEVTOOLS_PLUGINS__||[];a.push({pluginDescriptor:e,setupFn:t,proxy:o}),o&&t(o.proxiedTarget)}else r.emit(u,e,t)}
/*!
 * vuex v4.0.2
 * (c) 2021 Evan You
 * @license MIT
 */
var f="store";function d(e,t){Object.keys(e).forEach((function(n){return t(e[n],n)}))}function p(e){return null!==e&&"object"===typeof e}function v(e){return e&&"function"===typeof e.then}function g(e,t){return function(){return e(t)}}function m(e,t,n){return t.indexOf(e)<0&&(n&&n.prepend?t.unshift(e):t.push(e)),function(){var n=t.indexOf(e);n>-1&&t.splice(n,1)}}function y(e,t){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var n=e.state;w(e,n,[],e._modules.root,!0),b(e,n,t)}function b(e,t,n){var r=e._state;e.getters={},e._makeLocalGettersCache=Object.create(null);var o=e._wrappedGetters,a={};d(o,(function(t,n){a[n]=g(t,e),Object.defineProperty(e.getters,n,{get:function(){return a[n]()},enumerable:!0})})),e._state=(0,i.qj)({data:t}),e.strict&&k(e),r&&n&&e._withCommit((function(){r.data=null}))}function w(e,t,n,r,i){var o=!n.length,a=e._modules.getNamespace(n);if(r.namespaced&&(e._modulesNamespaceMap[a],e._modulesNamespaceMap[a]=r),!o&&!i){var s=C(t,n.slice(0,-1)),u=n[n.length-1];e._withCommit((function(){s[u]=r.state}))}var c=r.context=_(e,a,n);r.forEachMutation((function(t,n){var r=a+n;S(e,r,t,c)})),r.forEachAction((function(t,n){var r=t.root?n:a+n,i=t.handler||t;E(e,r,i,c)})),r.forEachGetter((function(t,n){var r=a+n;I(e,r,t,c)})),r.forEachChild((function(r,o){w(e,t,n.concat(o),r,i)}))}function _(e,t,n){var r=""===t,i={dispatch:r?e.dispatch:function(n,r,i){var o=x(n,r,i),a=o.payload,s=o.options,u=o.type;return s&&s.root||(u=t+u),e.dispatch(u,a)},commit:r?e.commit:function(n,r,i){var o=x(n,r,i),a=o.payload,s=o.options,u=o.type;s&&s.root||(u=t+u),e.commit(u,a,s)}};return Object.defineProperties(i,{getters:{get:r?function(){return e.getters}:function(){return T(e,t)}},state:{get:function(){return C(e.state,n)}}}),i}function T(e,t){if(!e._makeLocalGettersCache[t]){var n={},r=t.length;Object.keys(e.getters).forEach((function(i){if(i.slice(0,r)===t){var o=i.slice(r);Object.defineProperty(n,o,{get:function(){return e.getters[i]},enumerable:!0})}})),e._makeLocalGettersCache[t]=n}return e._makeLocalGettersCache[t]}function S(e,t,n,r){var i=e._mutations[t]||(e._mutations[t]=[]);i.push((function(t){n.call(e,r.state,t)}))}function E(e,t,n,r){var i=e._actions[t]||(e._actions[t]=[]);i.push((function(t){var i=n.call(e,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:e.getters,rootState:e.state},t);return v(i)||(i=Promise.resolve(i)),e._devtoolHook?i.catch((function(t){throw e._devtoolHook.emit("vuex:error",t),t})):i}))}function I(e,t,n,r){e._wrappedGetters[t]||(e._wrappedGetters[t]=function(e){return n(r.state,r.getters,e.state,e.getters)})}function k(e){(0,r.YP)((function(){return e._state.data}),(function(){0}),{deep:!0,flush:"sync"})}function C(e,t){return t.reduce((function(e,t){return e[t]}),e)}function x(e,t,n){return p(e)&&e.type&&(n=t,t=e,e=e.type),{type:e,payload:t,options:n}}var A="vuex bindings",R="vuex:mutations",N="vuex:actions",P="vuex",O=0;function D(e,t){h({id:"org.vuejs.vuex",app:e,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[A]},(function(n){n.addTimelineLayer({id:R,label:"Vuex Mutations",color:L}),n.addTimelineLayer({id:N,label:"Vuex Actions",color:L}),n.addInspector({id:P,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),n.on.getInspectorTree((function(n){if(n.app===e&&n.inspectorId===P)if(n.filter){var r=[];B(r,t._modules.root,n.filter,""),n.rootNodes=r}else n.rootNodes=[U(t._modules.root,"")]})),n.on.getInspectorState((function(n){if(n.app===e&&n.inspectorId===P){var r=n.nodeId;T(t,r),n.state=V(G(t._modules,r),"root"===r?t.getters:t._makeLocalGettersCache,r)}})),n.on.editInspectorState((function(n){if(n.app===e&&n.inspectorId===P){var r=n.nodeId,i=n.path;"root"!==r&&(i=r.split("/").filter(Boolean).concat(i)),t._withCommit((function(){n.set(t._state.data,i,n.state.value)}))}})),t.subscribe((function(e,t){var r={};e.payload&&(r.payload=e.payload),r.state=t,n.notifyComponentUpdate(),n.sendInspectorTree(P),n.sendInspectorState(P),n.addTimelineEvent({layerId:R,event:{time:Date.now(),title:e.type,data:r}})})),t.subscribeAction({before:function(e,t){var r={};e.payload&&(r.payload=e.payload),e._id=O++,e._time=Date.now(),r.state=t,n.addTimelineEvent({layerId:N,event:{time:e._time,title:e.type,groupId:e._id,subtitle:"start",data:r}})},after:function(e,t){var r={},i=Date.now()-e._time;r.duration={_custom:{type:"duration",display:i+"ms",tooltip:"Action duration",value:i}},e.payload&&(r.payload=e.payload),r.state=t,n.addTimelineEvent({layerId:N,event:{time:Date.now(),title:e.type,groupId:e._id,subtitle:"end",data:r}})}})}))}var L=8702998,M=6710886,F=16777215,q={label:"namespaced",textColor:F,backgroundColor:M};function j(e){return e&&"root"!==e?e.split("/").slice(-2,-1)[0]:"Root"}function U(e,t){return{id:t||"root",label:j(t),tags:e.namespaced?[q]:[],children:Object.keys(e._children).map((function(n){return U(e._children[n],t+n+"/")}))}}function B(e,t,n,r){r.includes(n)&&e.push({id:r||"root",label:r.endsWith("/")?r.slice(0,r.length-1):r||"Root",tags:t.namespaced?[q]:[]}),Object.keys(t._children).forEach((function(i){B(e,t._children[i],n,r+i+"/")}))}function V(e,t,n){t="root"===n?t:t[n];var r=Object.keys(t),i={state:Object.keys(e.state).map((function(t){return{key:t,editable:!0,value:e.state[t]}}))};if(r.length){var o=H(t);i.getters=Object.keys(o).map((function(e){return{key:e.endsWith("/")?j(e):e,editable:!1,value:z((function(){return o[e]}))}}))}return i}function H(e){var t={};return Object.keys(e).forEach((function(n){var r=n.split("/");if(r.length>1){var i=t,o=r.pop();r.forEach((function(e){i[e]||(i[e]={_custom:{value:{},display:e,tooltip:"Module",abstract:!0}}),i=i[e]._custom.value})),i[o]=z((function(){return e[n]}))}else t[n]=z((function(){return e[n]}))})),t}function G(e,t){var n=t.split("/").filter((function(e){return e}));return n.reduce((function(e,r,i){var o=e[r];if(!o)throw new Error('Missing module "'+r+'" for path "'+t+'".');return i===n.length-1?o:o._children}),"root"===t?e:e.root._children)}function z(e){try{return e()}catch(t){return t}}var K=function(e,t){this.runtime=t,this._children=Object.create(null),this._rawModule=e;var n=e.state;this.state=("function"===typeof n?n():n)||{}},$={namespaced:{configurable:!0}};$.namespaced.get=function(){return!!this._rawModule.namespaced},K.prototype.addChild=function(e,t){this._children[e]=t},K.prototype.removeChild=function(e){delete this._children[e]},K.prototype.getChild=function(e){return this._children[e]},K.prototype.hasChild=function(e){return e in this._children},K.prototype.update=function(e){this._rawModule.namespaced=e.namespaced,e.actions&&(this._rawModule.actions=e.actions),e.mutations&&(this._rawModule.mutations=e.mutations),e.getters&&(this._rawModule.getters=e.getters)},K.prototype.forEachChild=function(e){d(this._children,e)},K.prototype.forEachGetter=function(e){this._rawModule.getters&&d(this._rawModule.getters,e)},K.prototype.forEachAction=function(e){this._rawModule.actions&&d(this._rawModule.actions,e)},K.prototype.forEachMutation=function(e){this._rawModule.mutations&&d(this._rawModule.mutations,e)},Object.defineProperties(K.prototype,$);var W=function(e){this.register([],e,!1)};function J(e,t,n){if(t.update(n),n.modules)for(var r in n.modules){if(!t.getChild(r))return void 0;J(e.concat(r),t.getChild(r),n.modules[r])}}W.prototype.get=function(e){return e.reduce((function(e,t){return e.getChild(t)}),this.root)},W.prototype.getNamespace=function(e){var t=this.root;return e.reduce((function(e,n){return t=t.getChild(n),e+(t.namespaced?n+"/":"")}),"")},W.prototype.update=function(e){J([],this.root,e)},W.prototype.register=function(e,t,n){var r=this;void 0===n&&(n=!0);var i=new K(t,n);if(0===e.length)this.root=i;else{var o=this.get(e.slice(0,-1));o.addChild(e[e.length-1],i)}t.modules&&d(t.modules,(function(t,i){r.register(e.concat(i),t,n)}))},W.prototype.unregister=function(e){var t=this.get(e.slice(0,-1)),n=e[e.length-1],r=t.getChild(n);r&&r.runtime&&t.removeChild(n)},W.prototype.isRegistered=function(e){var t=this.get(e.slice(0,-1)),n=e[e.length-1];return!!t&&t.hasChild(n)};function Z(e){return new Y(e)}var Y=function(e){var t=this;void 0===e&&(e={});var n=e.plugins;void 0===n&&(n=[]);var r=e.strict;void 0===r&&(r=!1);var i=e.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new W(e),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._devtools=i;var o=this,a=this,s=a.dispatch,u=a.commit;this.dispatch=function(e,t){return s.call(o,e,t)},this.commit=function(e,t,n){return u.call(o,e,t,n)},this.strict=r;var c=this._modules.root.state;w(this,c,[],this._modules.root),b(this,c),n.forEach((function(e){return e(t)}))},Q={state:{configurable:!0}};Y.prototype.install=function(e,t){e.provide(t||f,this),e.config.globalProperties.$store=this;var n=void 0!==this._devtools&&this._devtools;n&&D(e,this)},Q.state.get=function(){return this._state.data},Q.state.set=function(e){0},Y.prototype.commit=function(e,t,n){var r=this,i=x(e,t,n),o=i.type,a=i.payload,s=(i.options,{type:o,payload:a}),u=this._mutations[o];u&&(this._withCommit((function(){u.forEach((function(e){e(a)}))})),this._subscribers.slice().forEach((function(e){return e(s,r.state)})))},Y.prototype.dispatch=function(e,t){var n=this,r=x(e,t),i=r.type,o=r.payload,a={type:i,payload:o},s=this._actions[i];if(s){try{this._actionSubscribers.slice().filter((function(e){return e.before})).forEach((function(e){return e.before(a,n.state)}))}catch(c){0}var u=s.length>1?Promise.all(s.map((function(e){return e(o)}))):s[0](o);return new Promise((function(e,t){u.then((function(t){try{n._actionSubscribers.filter((function(e){return e.after})).forEach((function(e){return e.after(a,n.state)}))}catch(c){0}e(t)}),(function(e){try{n._actionSubscribers.filter((function(e){return e.error})).forEach((function(t){return t.error(a,n.state,e)}))}catch(c){0}t(e)}))}))}},Y.prototype.subscribe=function(e,t){return m(e,this._subscribers,t)},Y.prototype.subscribeAction=function(e,t){var n="function"===typeof e?{before:e}:e;return m(n,this._actionSubscribers,t)},Y.prototype.watch=function(e,t,n){var i=this;return(0,r.YP)((function(){return e(i.state,i.getters)}),t,Object.assign({},n))},Y.prototype.replaceState=function(e){var t=this;this._withCommit((function(){t._state.data=e}))},Y.prototype.registerModule=function(e,t,n){void 0===n&&(n={}),"string"===typeof e&&(e=[e]),this._modules.register(e,t),w(this,this.state,e,this._modules.get(e),n.preserveState),b(this,this.state)},Y.prototype.unregisterModule=function(e){var t=this;"string"===typeof e&&(e=[e]),this._modules.unregister(e),this._withCommit((function(){var n=C(t.state,e.slice(0,-1));delete n[e[e.length-1]]})),y(this)},Y.prototype.hasModule=function(e){return"string"===typeof e&&(e=[e]),this._modules.isRegistered(e)},Y.prototype.hotUpdate=function(e){this._modules.update(e),y(this,!0)},Y.prototype._withCommit=function(e){var t=this._committing;this._committing=!0,e(),this._committing=t},Object.defineProperties(Y.prototype,Q);var X=oe((function(e,t){var n={};return re(t).forEach((function(t){var r=t.key,i=t.val;n[r]=function(){var t=this.$store.state,n=this.$store.getters;if(e){var r=ae(this.$store,"mapState",e);if(!r)return;t=r.context.state,n=r.context.getters}return"function"===typeof i?i.call(this,t,n):t[i]},n[r].vuex=!0})),n})),ee=oe((function(e,t){var n={};return re(t).forEach((function(t){var r=t.key,i=t.val;n[r]=function(){var t=[],n=arguments.length;while(n--)t[n]=arguments[n];var r=this.$store.commit;if(e){var o=ae(this.$store,"mapMutations",e);if(!o)return;r=o.context.commit}return"function"===typeof i?i.apply(this,[r].concat(t)):r.apply(this.$store,[i].concat(t))}})),n})),te=oe((function(e,t){var n={};return re(t).forEach((function(t){var r=t.key,i=t.val;i=e+i,n[r]=function(){if(!e||ae(this.$store,"mapGetters",e))return this.$store.getters[i]},n[r].vuex=!0})),n})),ne=oe((function(e,t){var n={};return re(t).forEach((function(t){var r=t.key,i=t.val;n[r]=function(){var t=[],n=arguments.length;while(n--)t[n]=arguments[n];var r=this.$store.dispatch;if(e){var o=ae(this.$store,"mapActions",e);if(!o)return;r=o.context.dispatch}return"function"===typeof i?i.apply(this,[r].concat(t)):r.apply(this.$store,[i].concat(t))}})),n}));function re(e){return ie(e)?Array.isArray(e)?e.map((function(e){return{key:e,val:e}})):Object.keys(e).map((function(t){return{key:t,val:e[t]}})):[]}function ie(e){return Array.isArray(e)||p(e)}function oe(e){return function(t,n){return"string"!==typeof t?(n=t,t=""):"/"!==t.charAt(t.length-1)&&(t+="/"),e(t,n)}}function ae(e,t,n){var r=e._modulesNamespaceMap[n];return r}},8593:e=>{"use strict";e.exports=JSON.parse('{"name":"axios","version":"0.21.4","description":"Promise based HTTP client for the browser and node.js","main":"index.js","scripts":{"test":"grunt test","start":"node ./sandbox/server.js","build":"NODE_ENV=production grunt build","preversion":"npm test","version":"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json","postversion":"git push && git push --tags","examples":"node ./examples/server.js","coveralls":"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js","fix":"eslint --fix lib/**/*.js"},"repository":{"type":"git","url":"https://github.com/axios/axios.git"},"keywords":["xhr","http","ajax","promise","node"],"author":"Matt Zabriskie","license":"MIT","bugs":{"url":"https://github.com/axios/axios/issues"},"homepage":"https://axios-http.com","devDependencies":{"coveralls":"^3.0.0","es6-promise":"^4.2.4","grunt":"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1","karma":"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2","minimist":"^1.2.0","mocha":"^8.2.1","sinon":"^4.5.0","terser-webpack-plugin":"^4.2.3","typescript":"^4.0.5","url-search-params":"^0.10.0","webpack":"^4.44.2","webpack-dev-server":"^3.11.0"},"browser":{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},"jsdelivr":"dist/axios.min.js","unpkg":"dist/axios.min.js","typings":"./index.d.ts","dependencies":{"follow-redirects":"^1.14.0"},"bundlesize":[{"path":"./dist/axios.min.js","threshold":"5kB"}]}')}}]);